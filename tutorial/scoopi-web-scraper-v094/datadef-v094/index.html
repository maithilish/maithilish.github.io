<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Scoopi web scraper uses datadef to define data. Datadef contains axis, query, script and members which collectively defines the data">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/www.codetab.org\/"
        },
        "articleSection" : "tutorial",
        "name" : "DataDef - Scoopi Web Scraper - CodeTab",
        "headline" : "DataDef - Scoopi Web Scraper - CodeTab",
        "description" : "Scoopi web scraper uses datadef to define data. Datadef contains axis, query, script and members which collectively defines the data",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12T02:47:00+0530",
        "dateModified" : "2019-01-12T02:47:00+0530",
        "url" : "\/tutorial\/scoopi-web-scraper-v094\/datadef-v094\/",
        "wordCount" : "506",
        "keywords" : [ "datadef","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.5094155807f5e8e42efd4efe08a15d3c51025b1e28787bdea850902bf7650261.css" integrity="sha256-UJQVWAf16OQu/U7&#43;CKFdPFECWx4oeHveqFCQK/dlAmE=">

<title>DataDef - Scoopi Web Scraper - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper V094">
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/introduction/"
            class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/"
            class="toc-page text-muted ">
            Installation and Quick Start
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/"
            class="toc-page text-muted ">
            Definition File
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/"
            class="toc-page text-danger ">
            DataDef
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/selector-v094/"
            class="toc-page text-muted ">
            Selector
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/"
            class="toc-page text-muted ">
            Members
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/index-indexrange-breakafter-v094/"
            class="toc-page text-muted ">
            Index, IndexRange and BreakAfter
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/filters-v094/"
            class="toc-page text-muted ">
            Filters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/"
            class="toc-page text-muted ">
            Multiple Tasks
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/"
            class="toc-page text-muted ">
            Steps and Plugins
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/converters-v094/"
            class="toc-page text-muted ">
            Converters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/create-locators-links-v094/"
            class="toc-page text-muted ">
            Create Locators from Links
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/persistence-v094/"
            class="toc-page text-muted ">
            Persistence
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/appender-and-encoder-v094/"
            class="toc-page text-muted ">
            Appender and Encoder
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/split-definitions-v094/"
            class="toc-page text-muted ">
            Split Definitions
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/logs-v094/"
            class="toc-page text-muted ">
            Logs
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/dashboard-v094/"
            class="toc-page text-muted ">
            Dashboard
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/db-setup-v094/"
            class="toc-page text-muted ">
            DB Setup
        </a>
    </div>
    
</div>






                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/&amp;text=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/&amp;t=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/&amp;title=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab%20https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/&amp;title=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/&amp;title=DataDef%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<h1 id="datadef">DataDef</h1>

<p>Scoopi uses datadef to define data. Datadef contains axis, query, script
and members which collectively defines the data to be scrapped from the
HTML page.</p>

<p>In this chapter, we go through <a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/jsoup/ex-1/job.yml" target="_blank">Example-1
job.xml</a>
to explain <em>dataDef</em>. This job.yml uses a simple DataDef which scrape
one data point i.e. price of the company share from
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/page/acme-quote.html" target="_blank">defs/examples/page/acme-quote.html</a>
page.</p>

<p>The datadef snippet from <code>defs/examples/jsoup/ex-1/job.yml</code> is as below</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">dataDefs:

  price:
    axis:
      fact:
        query:
          region: &#34;div#price_tick&#34;
          field: &#34;*&#34;
      col:
        query:
          script: configs.getRunDateTime()
        members: [
          member: {name: date},
        ]
      row:
        members: [
          member: {name: Price, value: Price},
        ]</code></pre></div>
<p>It defines a dataDef named price with three axes.</p>

<h2 id="axis">Axis</h2>

<p>Data is defined by axis which is similar in concept to that of
spreadsheet.</p>

<figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/scoopi-web-scraper-v094/media/scoopi-datadef-axis.png" alt="Scoopi DataDef Axis" />
</figure>


<p>For a datadef, we define three axis - FACT, COL and ROW. The data we are
interested in is called as Fact which is same as value held by a cell in
spreadsheet. The other two axes, Col and Row say something about the
Fact.</p>

<p>For example, in the price datadef, the axis Col is date and axis Row is
Price and if price of company share is say, 121.80 then the axis values
are as below</p>

<pre><code>FACT : 121.80
COL  : 01-01-2018
ROW  : Price
</code></pre>

<p>From the combination of three axes we deduce that price as on Jan 1st
2018 is 121.80.</p>

<p>The concept of axis and fact is borrowed Multidimensional Expression
(MDX) language used in Data Warehouse which allows us in future to add
more axis to construct multidimensional data. <em>As of now only allowed
axis names are - fact, col and row.</em></p>

<h2 id="fields-queries-and-scripts">Fields, Queries and Scripts</h2>

<p>Axis can contain queries or scripts.</p>

<p>The fact axis, defines following query.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">fact:
  query:
    region: &#34;div#price_tick&#34;
    field: &#34;*&#34;</code></pre></div>
<p>Query has two properties <em>region</em> and <em>field</em> and they are the selectors
used query the data from page. We explain how to construct the selectors
in the next chapter. For now, we concentrate on structure of dataDef.</p>

<p>The col axis defines following script.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">col:
  query:
    script: configs.getRunDateTime()</code></pre></div>
<p>Script gets the value using the Script Engine. Here we are call
getRunDateTime() method on configs object which returns the date and
time when ScoopiEngine run started.</p>

<p>The row axis doesn&rsquo;t contains neither the script nor the query. <em>The
fact axis should compulsorily contain either query or script while there
is no such requirement for col and row axis.</em></p>

<h2 id="member">Member</h2>

<p>In datadef, member is used to hold the value returned either by script
or query.</p>

<p>For col axis, we defined one member named date. The date returned by the
script is assigned to the member as value.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">col: 
  query:
    script: configs.getRunDateTime()
  members: [
    member: {name: date},
  ]</code></pre></div>
<p>The row axis doesn&rsquo;t contain any query or script, so we are defining a
member named Price and directly assigning its value to Price.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">row: 
  members: [
    member: {name: Price, value: Price},
  ]</code></pre></div>
<p>For fact axis, there is no need to add any member because Scoopi
implicitly adds default member to hold the fact value.</p>

<p>In the next chapter, we explain how to construct the query with
selectors.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>