<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="Scoopi web scraper uses a robust workflow engine and plugin framework and is highly extensible. Workflow consists of tasks, steps and plugins."><meta name=author content="Maithilish"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-42139846-3")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"articleSection":"tutorial","name":"Steps - Scoopi Web Scraper - CodeTab","headline":"Steps - Scoopi Web Scraper - CodeTab","url":"https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/","description":"Scoopi web scraper uses a robust workflow engine and plugin framework and is highly extensible. Workflow consists of tasks, steps and plugins.","inLanguage":"en","image":"https://www.codetab.org/logo.jpg","author":"Maithilish","creator":"Maithilish","publisher":{"@type":"Organization","name":"Maithilish","url":"https://www.codetab.org/","logo":{"@type":"ImageObject","url":"https://www.codetab.org/logo.png","width":"200","height":"200"}},"copyrightHolder":"Maithilish","copyrightYear":"2019","datePublished":"2019-01-12T05:01:00+0530","dateModified":"2019-01-12T05:01:00+0530","wordCount":"441","keywords":["steps","Blog"]}</script><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/vendor.min.36dba173dca94f4b9fca7c6a1c3d15560f7a96c6ab0c0042dcd000f8469a9dc1.css integrity="sha256-Ntuhc9ypT0ufynxqHD0VVg96lsarDABC3NAA+EaancE="><title>Steps - Scoopi Web Scraper - CodeTab</title></head><body id=top><header><nav id=navbar-main class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm"><div class=container-fluid><a class=navbar-brand href=/>Codetab</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#tutorials><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About</span></a></li></ul></div></div></nav></header><div class=container-fluid><div class=row>&nbsp;</div><div class=row><aside id=sidebar class=col-md-3><div class=row><nav id=navbar-side class="bg-light text-secondary"><h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4><nav class="navbar navbar-light bg-white navbar-expand-md"><button class="navbar-toggler ml-auto" type=button data-toggle=collapse data-target=#bookmenu aria-controls=bookmenu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=bookmenu><div><div id="Scoopi Web Scraper V094"><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/introduction/ class="toc-page text-wrap text-muted">Introduction</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/ class="toc-page text-wrap text-muted">Installation and Quick Start</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/ class="toc-page text-wrap text-muted">Definition File</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/ class="toc-page text-wrap text-muted">DataDef</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/selector-v094/ class="toc-page text-wrap text-muted">Selector</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/ class="toc-page text-wrap text-muted">Members</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/index-indexrange-breakafter-v094/ class="toc-page text-wrap text-muted">Index, IndexRange and BreakAfter</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/filters-v094/ class="toc-page text-wrap text-muted">Filters</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/ class="toc-page text-wrap text-muted">Multiple Tasks</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/ class="toc-page text-wrap text-danger">Steps and Plugins</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/converters-v094/ class="toc-page text-wrap text-muted">Converters</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/create-locators-links-v094/ class="toc-page text-wrap text-muted">Create Locators from Links</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/persistence-v094/ class="toc-page text-wrap text-muted">Persistence</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/appender-and-encoder-v094/ class="toc-page text-wrap text-muted">Appender and Encoder</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/split-definitions-v094/ class="toc-page text-wrap text-muted">Split Definitions</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/logs-v094/ class="toc-page text-wrap text-muted">Logs</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/dashboard-v094/ class="toc-page text-wrap text-muted">Dashboard</a></div><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/db-setup-v094/ class="toc-page text-wrap text-muted">DB Setup</a></div></div></div></div></nav></nav></div></aside><div id=contentbar class=col-md-7><div id=share class="row justify-content-end"><div title=twitter><a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/&amp;text=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target=_blank rel=noopener><i class="icon-twitter-squared text-secondary"></i></a></div><div title=facebook><a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/&amp;t=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target=_blank rel=noopener><i class="icon-facebook-squared text-secondary"></i></a></div><div title=linkedin><a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/&amp;title=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target=_blank rel=noopener><i class="icon-linkedin-squared text-secondary"></i></a></div><div title=email><a href="mailto:?subject=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/" target=_blank rel=noopener><i class="icon-mail-squared text-secondary"></i></a></div><div title=whatsapp><a href="https://web.whatsapp.com/send?text=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab%20https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/" target=_blank rel=noopener><i class="icon-whatsapp text-secondary"></i></a></div><div title=reddit><a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/&amp;title=Steps%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target=_blank rel=noopener><i class="icon-reddit-alien text-secondary"></i></a></div><i class="icon-blank ctab-transparent"></i></div><div class=row><main id=content class="col-md-11 post-basic"><h1 id=steps>Steps</h1><p>So far, we explored locators to define the pages to scrape, tasks to
execute and dataDef to parse data from the pages. But, we haven&rsquo;t
explained how Scoopi executes tasks and scrape data.</p><p>Scoopi is designed to execute tasks as workflow which is normally
referred as <em>steps</em> which in turn consists of multiple <em>step</em>. By
default, Scoopi ships with two defaults steps <em>jsoupDefault</em> and
<em>htmlUnitDefault</em> and they are defined in <code>steps-default.yml</code> which is
packaged inside scoopi distribution jar. We can access the contents of
<a href=https://github.com/maithilish/scoopi-scraper/blob/master/engine/src/main/resources/steps-default.yml target=_blank>steps-default.yml from source
repository</a>.</p><h2 id=steps-1>Steps</h2><p>Let&rsquo;s go through the jsoupDefault steps to understand the workflow
design.</p><p><code>steps-default.yml</code></p><pre tabindex=0><code class=language-raw data-lang=raw>steps: 

  jsoupDefault:
    seeder:
      class: &#34;org.codetab.scoopi.step.extract.LocatorSeeder&#34;
      previous: start
      next: loader
    loader:
      class: &#34;org.codetab.scoopi.step.extract.URLLoader&#34;
      previous: seeder
      next: parser
    parser:
      class: &#34;org.codetab.scoopi.step.parse.jsoup.Parser&#34;
      previous: loader
      next: process
    process:
      class: &#34;org.codetab.scoopi.step.convert.DataFilter&#34;
      previous: parser
      next: converter
    converter:
      class: &#34;org.codetab.scoopi.step.convert.DataConverter&#34;
      previous: process
      next: appender
    appender:
      class: &#34;org.codetab.scoopi.step.load.DataAppender&#34;
      previous: converter
      next: end
      plugins: [
        plugin: { 
          name: file, 
          class: &#34;org.codetab.scoopi.plugin.appender.FileAppender&#34;,
          file: &#34;output/data.txt&#34;, 
          plugins: [ 
             plugin: { 
               name: csv,
               delimiter: &#34;|&#34;,
               class: &#34;org.codetab.scoopi.plugin.encoder.CsvEncoder&#34;
             } 
          ]
        }          
      ]
</code></pre><p>The sequence of step is</p><ol><li>seeder</li><li>loader</li><li>parser</li><li>process</li><li>converter</li><li>appender</li></ol><p>Each step specifies three things</p><ul><li>class that has to be executed for the step</li><li>name of the previous</li><li>name of the next step</li></ul><p>For the the first step the previous is start and the last step next is
set to end.</p><p>The list of built-in step classes
are</p><table><thead><tr><th>Step type</th><th>Description</th><th>Class</th></tr></thead><tbody><tr><td>seeder</td><td>create and seed locators</td><td>org.codetab.scoopi.step.extract.LocatorSeeder</td></tr><tr><td>loader</td><td>load HTML page</td><td>org.codetab.scoopi.step.extract.URLLoader</td></tr><tr><td>parser</td><td>parse using JSoup</td><td>org.codetab.scoopi.step.parse.jsoup.Parser</td></tr><tr><td>parser</td><td>parse with HtmlUnit</td><td>org.codetab.scoopi.step.parse.htmlunit.Parser</td></tr><tr><td>process</td><td>filter parsed data</td><td>org.codetab.scoopi.step.convert.DataFilter</td></tr><tr><td>converter</td><td>convert data and apply converters</td><td>org.codetab.scoopi.step.convert.DataConverter</td></tr><tr><td>appender</td><td>encode and append data as output</td><td>org.codetab.scoopi.step.load.DataAppender</td></tr></tbody></table><p>The class name should be fully qualified including package otherwise
class not found error is thrown.</p><h2 id=plugins>Plugins</h2><p>The last step appender is bit interesting. It uses FileAppender plugin
to append data to output file which in turn uses another plugin
CsvEncoder plugin to encode data into string delimited with | character
before sending the output to file.</p><pre tabindex=0><code class=language-raw data-lang=raw>appender:
  class: &#34;org.codetab.scoopi.step.load.DataAppender&#34;
  previous: converter
  next: end
  plugins: [
    plugin: { 
      name: file, 
      class: &#34;org.codetab.scoopi.plugin.appender.FileAppender&#34;,
      file: &#34;output/data.txt&#34;, 
      plugins: [ 
         plugin: { 
           name: csv,
           delimiter: &#34;|&#34;,
           class: &#34;org.codetab.scoopi.plugin.encoder.CsvEncoder&#34;
         } 
      ]
    }          
  ]
</code></pre><p>Plugins framework allows Scoopi to get configuration from definition
file and execute any plugin class without modifying the source code. As
of now, Scoopi ships with following
plugins.</p><table><thead><tr><th>Plugin type</th><th>Description</th><th>Plugin class</th></tr></thead><tbody><tr><td>encoder</td><td>encodes data as csv</td><td>org.codetab.scoopi.plugin.encoder.CsvEncoder</td></tr><tr><td>appender</td><td>appends data to file</td><td>org.codetab.scoopi.plugin.appender.FileAppender</td></tr><tr><td>appender</td><td>appends data to ListArray</td><td>org.codetab.scoopi.plugin.appender.ListAppender</td></tr><tr><td>converter</td><td>change date format</td><td>org.codetab.scoopi.plugin.converter.DateFormater</td></tr><tr><td>converter</td><td>roll date and change format</td><td>org.codetab.scoopi.plugin.converter.DateRoller</td></tr></tbody></table><p>The next chapter shows how to override default steps and use converter
plugins to format dates.</p></main></div></div><aside id=sidebar-right class=col-md-2><div class="row my-5 justify-content-center border"><div>&nbsp;</div><ins class=adsbygoogle style=display:inline-block;width:160px;height:600px data-ad-client=ca-pub-1281079745125126 data-ad-slot=8963022093></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div>&nbsp;</div></div></aside></div></div><footer class="container-fluid mt-5"><div class=row><div class="col ml-auto"><div class="row mb-1 ml-2"><a class=text-muted href=/privacy-policy>Privacy</a></div><div class="row text-muted mb-2 ml-2"><span>&copy; 2019 &#183;Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span></div></div><div class="col mr-auto"><span class=float-right><a href=# id=back_to_top><i class="icon-up-open h1 text-secondary"></i></a></span></div></div></footer><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script src=/js/vendor.min.e0afe83ba5579b9676fc5f849c1becff1395739520a7c0bc45535f04acd819c3.js></script></body></html>