<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Scoopi uses set of YML definition files to extract data from web pages. Set of example definition files is provided to learn the yml elements used by Scoopi">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "Definition File - Scoopi Web Scraper - CodeTab",
        "headline" : "Definition File - Scoopi Web Scraper - CodeTab",
        "url" : "https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/",
        "description" : "Scoopi uses set of YML definition files to extract data from web pages. Set of example definition files is provided to learn the yml elements used by Scoopi",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12T04:27:00+0530",
        "dateModified" : "2019-01-12T04:27:00+0530",
        "wordCount" : "564",
        "keywords" : [ "definition file","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.e7fd2d89f73c680873529a110a9007503a1bda864a3a3a6c53c4eb02a54c35eb.css" integrity="sha256-5/0tifc8aAhzUpoRCpAHUDob2oZKOjpsU8TrAqVMNes=">

<title>Definition File - Scoopi Web Scraper - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper V094">
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/"
            class="toc-page text-wrap text-muted ">
            Installation and Quick Start
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/"
            class="toc-page text-wrap text-danger ">
            Definition File
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/"
            class="toc-page text-wrap text-muted ">
            DataDef
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/selector-v094/"
            class="toc-page text-wrap text-muted ">
            Selector
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/"
            class="toc-page text-wrap text-muted ">
            Members
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/index-indexrange-breakafter-v094/"
            class="toc-page text-wrap text-muted ">
            Index, IndexRange and BreakAfter
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/filters-v094/"
            class="toc-page text-wrap text-muted ">
            Filters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/"
            class="toc-page text-wrap text-muted ">
            Multiple Tasks
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/"
            class="toc-page text-wrap text-muted ">
            Steps and Plugins
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/converters-v094/"
            class="toc-page text-wrap text-muted ">
            Converters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/create-locators-links-v094/"
            class="toc-page text-wrap text-muted ">
            Create Locators from Links
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/persistence-v094/"
            class="toc-page text-wrap text-muted ">
            Persistence
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/appender-and-encoder-v094/"
            class="toc-page text-wrap text-muted ">
            Appender and Encoder
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/split-definitions-v094/"
            class="toc-page text-wrap text-muted ">
            Split Definitions
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/logs-v094/"
            class="toc-page text-wrap text-muted ">
            Logs
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/dashboard-v094/"
            class="toc-page text-wrap text-muted ">
            Dashboard
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/db-setup-v094/"
            class="toc-page text-wrap text-muted ">
            DB Setup
        </a>
    </div>
    
</div>






                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/&amp;text=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/&amp;t=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/&amp;title=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab%20https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/&amp;title=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/&amp;title=Definition%20File%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            <h1 id="defs-locators-and-tasks">Defs, Locators and Tasks</h1>
<p>Scoopi uses set of YML definition files to extract data from HTML pages.
To learn the YML elements used by the definition files, Scoopi
distribution comes with a set of examples which are under
<code>def/examples/jsoup</code> folder. Examples are named as ex-1, ex-2 and so on,
each with increasing complexity.</p>
<h2 id="scoopi-definition-files">Scoopi Definition Files</h2>
<p>Scoopi creates the data model based on YML definition files. We can
specify the definition file using <em>scoopi.defs.dir</em> configuration
property, which is normally set in <code>scoopi.properties</code> file located in
<code>conf</code> folder. By default, it is set to <code>defs/examples/jsoup/ex-1</code> which
loads the example 1. As we progress through the examples, you need to
edit <code>conf/scoopi.properties</code> file and set property <em>scoopi.defs.dir</em> to
the specific example.</p>
<h3 id="def-file">Def file</h3>
<p>The def file defines the definition required to run Scoopi. In examples,
we have named the definition file as <code>job.yml</code> but it can be named
anything as long as file extension is <em>yml</em>. In otherwords, any file
from the defs directory with file extension <em>yml</em> is loaded by scooopi
as definition file.</p>
<p>The top level elements in the <code>job.yml</code> are</p>
<ul>
<li>locatorGroups</li>
<li>taskGroups</li>
<li>dataDefs</li>
</ul>
<p>In this chapter, we go through <a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/jsoup/ex-1/job.yml" target="_blank">Example-1
job.xml</a> and explain <em>locatorGroups</em> and <em>taskGroups</em> elements. Refer <a href="/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/">Scoopi Installation</a> to know how to run Scooopi and examples.</p>
<h2 id="locatorgroups">LocatorGroups</h2>
<p>LocatorGroups defines list of locators and locator specifies the name
and URL of the HTML page to fetch from the Internet or local file
system.</p>
<p>In the example <code>job.yml</code>, the locatorGroups is defined as</p>
<p><code>defs/examples/jsoup/ex-1/job.yml</code></p>
<pre><code class="language-raw" data-lang="raw">locatorGroups:

  quoteGroup:
    locators: [
       { name: acme, url: &quot;/defs/examples/page/acme-quote.html&quot; }  
    ]
</code></pre><p>It defines a locatorGroups named quoteGroup which in turn defines one
locator. The locator name is acme and its <em>url</em> points to local HTML
file <code>acme-quote.html</code> which is in <code>defs/examples/page</code> folder.</p>
<p>Here is one more example with two groups</p>
<pre><code class="language-raw" data-lang="raw">locatorGroups:

  groupA:
    locators: [
       { name: acme, url: &quot;/defs/examples/page/acme-quote.html&quot; },
       { name: exPage, url: &quot;http://example.org&quot; }    
    ]

  groupB:
    locators: [
       { name: acme, url: &quot;/defs/examples/page/acme-bs.html&quot; }  
    ]
</code></pre><p>It defines two locatorGroups named groupA and groupB. The first group
defines two locators and the second group defined one locator. To scrape
pages from website, we need to specify the actual address of the page
such as <a href="http://example.org">http://example.org</a>.</p>
<p>Please note that in the above examples we have used JSON array construct
using [ ] and {} as we can define one locator per line. Alternativley,
you are free to use slightly lengthier YML array construct as show below</p>
<pre><code class="language-raw" data-lang="raw">locatorGroups:

  groupA:
    locators:
       - name: acme
         url: &quot;/defs/examples/page/acme-quote.html&quot;
       - name: exPage
         url: &quot;http://example.org&quot;
</code></pre><h2 id="taskgroups">TaskGroups</h2>
<p>TaskGroups property is used to define task which has to be executed for
the page loaded by the locator.</p>
<p>The snippet from example <code>job.yml</code> with locatorGroups and taskGroups is</p>
<p><code>defs/examples/jsoup/ex-1/job.yml</code></p>
<pre><code class="language-raw" data-lang="raw">locatorGroups:

  quoteGroup:
    locators: [
       { name: acme, url: &quot;/defs/examples/page/acme-quote.html&quot; }  
    ]

taskGroups:

  quoteGroup:
    priceTask:
      dataDef: price
</code></pre><p>The <em>taskGroups</em> defines a task group named <em>quoteGroup</em>. The task group
has a task named <em>priceTask</em> with a property named dataDef and its value
is <em>price</em>.</p>
<p>Scoopi executes this task to all locators defined for <em>quoteGroup</em> in
<em>locatorGroups</em>. The above example defines only one locator for the
group <em>quoteGroup</em> and task gets executed for the HTML page loaded by
that locator.</p>
<p>At this point, Scoopi knows</p>
<ul>
<li>which pages to download or load</li>
<li>which tasks to execute for which page</li>
<li>the dataDef to use for a task</li>
</ul>
<p>In the next chapter, we describe dataDefs which is used to parse the
data from the page.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>