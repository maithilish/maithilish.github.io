<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Scoopi web scraper can extract multiple values with members, match property and dynamic query from web pages. The member property is defined in datadef">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",        
        "name" : "Members - Scoopi Web Scraper - CodeTab",
        "headline" : "Members - Scoopi Web Scraper - CodeTab",
        "url" : "https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/",
        "description" : "Scoopi web scraper can extract multiple values with members, match property and dynamic query from web pages. The member property is defined in datadef",        
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",            
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.jpg",
               "width":"100",
               "height":"100"
            } 
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12T03:40:00+0530",
        "dateModified" : "2019-01-12T03:40:00+0530",        
        "wordCount" : "510",
        "keywords" : [ "members","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.5094155807f5e8e42efd4efe08a15d3c51025b1e28787bdea850902bf7650261.css" integrity="sha256-UJQVWAf16OQu/U7&#43;CKFdPFECWx4oeHveqFCQK/dlAmE=">

<title>Members - Scoopi Web Scraper - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper V094">
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/"
            class="toc-page text-wrap text-muted ">
            Installation and Quick Start
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/"
            class="toc-page text-wrap text-muted ">
            Definition File
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/"
            class="toc-page text-wrap text-muted ">
            DataDef
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/selector-v094/"
            class="toc-page text-wrap text-muted ">
            Selector
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/"
            class="toc-page text-wrap text-danger ">
            Members
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/index-indexrange-breakafter-v094/"
            class="toc-page text-wrap text-muted ">
            Index, IndexRange and BreakAfter
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/filters-v094/"
            class="toc-page text-wrap text-muted ">
            Filters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/"
            class="toc-page text-wrap text-muted ">
            Multiple Tasks
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/"
            class="toc-page text-wrap text-muted ">
            Steps and Plugins
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/converters-v094/"
            class="toc-page text-wrap text-muted ">
            Converters
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/create-locators-links-v094/"
            class="toc-page text-wrap text-muted ">
            Create Locators from Links
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/persistence-v094/"
            class="toc-page text-wrap text-muted ">
            Persistence
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/appender-and-encoder-v094/"
            class="toc-page text-wrap text-muted ">
            Appender and Encoder
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/split-definitions-v094/"
            class="toc-page text-wrap text-muted ">
            Split Definitions
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/logs-v094/"
            class="toc-page text-wrap text-muted ">
            Logs
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/dashboard-v094/"
            class="toc-page text-wrap text-muted ">
            Dashboard
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/scoopi-web-scraper-v094/db-setup-v094/"
            class="toc-page text-wrap text-muted ">
            DB Setup
        </a>
    </div>
    
</div>






                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/&amp;text=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/&amp;t=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/&amp;title=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab%20https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/&amp;title=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/&amp;title=Members%20-%20Scoopi%20Web%20Scraper%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            

<h1 id="members">Members</h1>

<p>This chapter explores extracting multiple values with members, match
property and dynamic query.</p>

<p>The
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/jsoup/ex-2/job.yml" target="_blank">Example 2</a>
extracts ten data points shown below from
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/page/acme-quote.html" target="_blank">defs/examples/page/acme-quote.html</a>
page.</p>

<ul>
<li>MARKET CAP</li>
<li>EPS (TTM)</li>
<li>P/E</li>
<li>P/C</li>
<li>BOOK VALUE</li>
<li>PRICE/BOOK</li>
<li>DIV (%)</li>
<li>DIV YIELD</li>
<li>FACE VALUE</li>
<li>INDUSTRY P/E</li>
</ul>

<p>The snippet of HTML from the page is</p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;snapshot&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>MARKET CAP<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>382,642.57<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>P/E<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>-<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>BOOK VALUE<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>27.89<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   ....</code></pre></div>
<p>The datadef used to extract data from this page is</p>

<p><code>defs/examples/jsoup/ex-2/job.yml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">dataDefs:

  snapshot:
    axis:
      fact:
        query:
          region: &#34;div#snapshot&#34;  
          field: &#34;div:matchesOwn(^%{row.match}) + div&#34;
      col:
        query:
          script: &#34;document.getFromDate()&#34;        
        members: [ 
          member: {name: date},
        ]  
      row:
        query:
          region: &#34;div#snapshot&#34;
          field: &#34;div:matchesOwn(^%{row.match})&#34;      
        members: [ 
          member: { name: &#34;MC&#34;, match: &#34;MARKET CAP&#34; },
          member: { name: &#34;EPS&#34;, match: &#34;EPS \\(TTM\\)&#34; },
          member: { name: &#34;PE&#34;, match: &#34;P/E&#34; },
          member: { name: &#34;PC&#34;, match: &#34;P/C&#34; },
          member: { name: &#34;BV&#34;, match: &#34;BOOK VALUE&#34; },
          member: { name: &#34;PB&#34;, match: &#34;PRICE/BOOK&#34; },
          member: { name: &#34;DIV&#34;, match: &#34;DIV \\(%\\)&#34; },
          member: { name: &#34;DY&#34;, match: &#34;DIV YIELD&#34; },
          member: { name: &#34;FV&#34;, match: &#34;FACE VALUE&#34; },
          member: { name: &#34;IND PE&#34;, match: &#34;INDUSTRY P/E&#34; },
        ]</code></pre></div>
<p>Here, row axis defines multiple members elements with <em>name</em> and <em>match</em>
properties.</p>

<p>The previous example defined price as <em>member: {name: &ldquo;Price&rdquo;, value:
&ldquo;Price&rdquo;}</em> with value property. The <em>value</em> property assigns the value
directly to the member without any query. But, the above dataDef uses
match property</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">member: { name: &#34;FV&#34;, match: &#34;FACE VALUE&#34; }</code></pre></div>
<p>When <em>match</em> property is defined it can be accessed through substitution
variable <em>%{&lt;axisName&gt;.match}</em> and in the <em>row</em> query, we are using
the match as substitution variable in the selector.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">row:
  query:
    region: &#34;div#snapshot&#34;
    field: &#34;div:matchesOwn(^%{row.match})&#34;</code></pre></div>
<p>When Scoopi process row axis, for each member defined in the axis it
gets the raw query and replaces its %{row.match} with the value of
member&rsquo;s match property and then dispatches the query to JSoup and once
JSoup returns the content of selected item, it assigns the value to
member&rsquo;s value field.</p>

<p>Let&rsquo;s see how match=&ldquo;BOOK VALUE&rdquo; is handled by each axis. For, HTML
snippet</p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>BOOK VALUE<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>27.89<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<p>when axis <em>row</em> axis is processed, selector selects the element
&lt;div&gt;BOOK VALUE&lt;/div&gt; as it contains matching text and returns its
content which is nothing but &ldquo;BOOK VALUE&rdquo;</p>

<p>The <em>fact</em> axis uses slightly modified selector which is as below</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">fact:
  query:
    region: &#34;div#snapshot&#34;  
    field: &#34;div:matchesOwn(^%{row.match}) + div&#34;</code></pre></div>
<p>The fact selector is same as row selector but with the trailing <em>+ div</em>.
This <em>+ div</em> selects next sibling of the matched element which is
&lt;div&gt;27.89&lt;/div&gt; and returns its content i.e. 27.89. The match
property comes handy when we need to pick fact and its attribute from
different elements.</p>

<p>When we scrape limited number of items as in this example then it is
convenient to use members directly either with value or match property.
But, when we scrape large number of items then dataDef definition
becomes lengthy and to overcome that, Scoopi comes with two more
features <strong>indexRange</strong> and <strong>breakAfter</strong>.</p>

<p>The next chapter describe indexRange and how to define dataDef with it.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>