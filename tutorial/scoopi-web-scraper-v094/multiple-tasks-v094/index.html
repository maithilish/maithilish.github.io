<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Scoopi web scraper can execute multiple tasks for a locator and also multiple tasks on multiple locatorGroups. It helps to reduce unnecessary downloads">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Multiple Tasks - Scoopi Web Scraper - CodeTab",
        "headline" : "Multiple Tasks - Scoopi Web Scraper - CodeTab",
        "description" : "Scoopi web scraper can execute multiple tasks for a locator and also multiple tasks on multiple locatorGroups. It helps to reduce unnecessary downloads",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12 03:54:00 +0530 IST",
        "dateModified" : "2019-01-12 03:54:00 +0530 IST",
        "url" : "/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/",
        "wordCount" : "378",
        "keywords" : [ "multiple tasks","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">





<link rel="stylesheet" href="/css/vendor.min.fda72737edeb853fff288025d5ea04d671489f0f524e38c245ccf83306a19ab3.css" integrity="sha256-/acnN&#43;3rhT//KIAl1eoE1nFInw9STjjCRcz4MwahmrM=">

<title>Multiple Tasks - Scoopi Web Scraper - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper V094">
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/installation-quick-start-v094/" class="toc-page text-muted ">
            Installation and Quick Start
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/definition-file-v094/" class="toc-page text-muted ">
            Definition File
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/datadef-v094/" class="toc-page text-muted ">
            DataDef
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/selector-v094/" class="toc-page text-muted ">
            Selector
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/members-v094/" class="toc-page text-muted ">
            Members
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/index-indexrange-breakafter-v094/" class="toc-page text-muted ">
            Index, IndexRange and BreakAfter
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/filters-v094/" class="toc-page text-muted ">
            Filters
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/multiple-tasks-v094/" class="toc-page text-danger ">
            Multiple Tasks
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/steps-and-plugins-v094/" class="toc-page text-muted ">
            Steps and Plugins
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/converters-v094/" class="toc-page text-muted ">
            Converters
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/create-locators-links-v094/" class="toc-page text-muted ">
            Create Locators from Links
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/persistence-v094/" class="toc-page text-muted ">
            Persistence
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/appender-and-encoder-v094/" class="toc-page text-muted ">
            Appender and Encoder
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/split-definitions-v094/" class="toc-page text-muted ">
            Split Definitions
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/logs-v094/" class="toc-page text-muted ">
            Logs
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/dashboard-v094/" class="toc-page text-muted ">
            Dashboard
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper-v094/db-setup-v094/" class="toc-page text-muted ">
            DB Setup
        </a>
    </div>
    
</div>






                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <main id="content" class="col-md-8 post-basic">
      

<h1 id="multiple-tasks">Multiple Tasks</h1>

<p>Scoopi can execute multiple tasks for a locator and also multiple tasks
on multiple locatorGroups.</p>

<h2 id="multiple-tasks-and-single-locator-group">Multiple tasks and single Locator group</h2>

<p>The Example-1 scrape Price data from acme-quote.html page while
Example-2 extracts Snapshot data from the same page. One option is to
define acme-quote.html locator in two locatorGroups and assign task to
each of them. This unnecessarily downloads acme-quote.html twice.
Instead, it is better to define single locatorGroup and assign two tasks
- priceTask and snapshotTask so that page downloads only once.</p>

<p>The
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/jsoup/ex-6/job.yml" target="_blank">Example 6</a>
extracts price and snapshot data from
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/page/acme-quote.html" target="_blank">acme-quote.html</a>
page.</p>

<p>To run multiple task we define taskGroups as below</p>

<p><code>defs/examples/jsoup/ex-6/job.yml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">locatorGroups:

  quoteGroup:
    locators: &lt;a href=&#34;https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/jsoup/ex-7/job.yml&#34; target=&#34;_blank&#34;&gt;
       { name: acme, url: &#34;/defs/examples/page/acme-quote.html&#34; }
    ]

taskGroups:

  quoteGroup:

    priceTask:
      dataDef: price

    snapshotTask:
      dataDef: snapshot</code></pre></div>
<p>The above snippet defines two task, first one priceTask applies price
dataDef and the next one snapshotTaks applies snapshot dataDef on
locators of quoteGroup.</p>

<h2 id="multiple-tasks-and-multiple-locator-groups">Multiple tasks and multiple locator groups</h2>

<p>The
[Example 7</a>
extends on previous one which executes multiple task on multiple
locators group. It scrapes price and snapshot data from
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/page/acme-quote.html" target="_blank">acme-quote.html</a>
and bs data from
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/page/acme-bs.html" target="_blank">acme-bs.html</a>
page. Task and locator snippet from the example is as below.</p>

<p><code>defs/examples/jsoup/ex-7/job.yml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">locatorGroups:

  quoteGroup:
    locators: [
       { name: acme, url: &#34;/defs/examples/page/acme-quote.html&#34; }
    ]

  bsGroup:
    locators: [
       { name: acme, url: &#34;/defs/examples/page/acme-bs.html&#34; }
    ]

taskGroups:

  quoteGroup:

    priceTask:
      dataDef: price

    snapshotTask:
      dataDef: snapshot

  bsGroup:

    bsTask:
      dataDef: bs</code></pre></div>
<p>It defines two locator groups and task groups - quoteGroup and bsGroup.
The task group, quoteGroup defines two tasks priceTask and snapshotTask
and second task group, bsGroup define single task bsTask.</p>

<p>In all, Scoopi executes three tasks</p>

<ol>
<li>priceTask parses locator acme-quote.html with price dateDef.</li>
<li>snapshotTask again parses same instance of acme-quote.html with
snapshot dateDef.</li>
<li>bsTask parses acme-bs.html with bs dateDef.</li>
</ol>

<p>Output of all the three tasks go to output/data.txt.</p>

<p>But, there is a problem in output data - the date for bs data is in MMM
&lsquo;YY format and price and snapshot date i ISO Date format. If we try to
import the output file to database, it fails.</p>

<p>We have to plugin converter after filter and before data is appended to
output file to format or change value. In the next chapter, we explain
Scoopi workflow, step and plugin design and show how to override default
workflow steps.</p>

    </main>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <img src="/icon/arrow-up.png" alt="Back to Top">
                </a>
            </span>
        </div>
    </div>

</footer>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>







<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>