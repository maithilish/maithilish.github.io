<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="WordPress Add Menu - In this tutorial, we add a new menu item – Settings – to WordPress Administration Menu to handle common options used by the plugin.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Add Menu - WordPress Plugin Development - CodeTab",
        "headline" : "Add Menu - WordPress Plugin Development - CodeTab",
        "description" : "WordPress Add Menu - In this tutorial, we add a new menu item – Settings – to WordPress Administration Menu to handle common options used by the plugin.",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-11 08:41:00 +0530 IST",
        "dateModified" : "2019-01-11 08:41:00 +0530 IST",
        "url" : "/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/",
        "wordCount" : "642",
        "keywords" : [ "wordpress add menu","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.06af1451a3c5b3b70a0c0bd7be26092e20e9c31251c08d44dbe1486a9a2a414c.css" integrity="sha256-Bq8UUaPFs7cKDAvXviYJLiDpwxJRwI1E2&#43;FIapoqQUw=">

<title>Add Menu - WordPress Plugin Development - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">WP Plugin Development</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="WordPress Plugin Development - CodeTab">
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/install-locally/" class="toc-page text-muted ">
            Install Locally
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/simple-plugin/" class="toc-page text-muted ">
            Simple Plugin
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/shortcode/" class="toc-page text-muted ">
            Shortcode
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/plugin-structure/" class="toc-page text-muted ">
            Plugin Structure
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/plugin-main-file/" class="toc-page text-muted ">
            Main File
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/hooks-actions-filters/" class="toc-page text-muted ">
            Hooks, Actions, Filters
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-admin-module-settings" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Admin Module - Settings
    </a>
    
    <div id="tutorial-wordpress-plugin-development-admin-module-settings" class="">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/" class="toc-page dropdown-item text-danger">
            Add Menu
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/settings-api/" class="toc-page dropdown-item text-muted">
            Settings API
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/options-page/" class="toc-page dropdown-item text-muted">
            Options Page
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-admin-module-custom-posts" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Admin Module - Posts
    </a>
    
    <div id="tutorial-wordpress-plugin-development-admin-module-custom-posts" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/" class="toc-page dropdown-item text-muted">
            Custom Post Type
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/meta-box/" class="toc-page dropdown-item text-muted">
            Meta Box
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/save-post/" class="toc-page dropdown-item text-muted">
            Save Post
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-frontend" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Frontend
    </a>
    
    <div id="tutorial-wordpress-plugin-development-frontend" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/frontend/enqueue-scripts/" class="toc-page dropdown-item text-muted">
            Plugin Enqueue Scripts
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/frontend/pass-data-to-javascript/" class="toc-page dropdown-item text-muted">
            Pass Data to JavaScript
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/frontend/debug-info/" class="toc-page dropdown-item text-muted">
            Debug Info
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-ajax" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Ajax
    </a>
    
    <div id="tutorial-wordpress-plugin-development-ajax" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/ajax/wordpress-ajax/" class="toc-page dropdown-item text-muted">
            Ajax
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/ajax/chart-page/" class="toc-page dropdown-item text-muted">
            Chart Page
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/ajax/google-charts/" class="toc-page dropdown-item text-muted">
            Google Charts
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-internationalization" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Internationalization
    </a>
    
    <div id="tutorial-wordpress-plugin-development-internationalization" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/internationalize/" class="toc-page dropdown-item text-muted">
            Internationalization
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/" class="toc-page dropdown-item text-muted">
            Localization
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-activation" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Activation
    </a>
    
    <div id="tutorial-wordpress-plugin-development-activation" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-activation/" class="toc-page dropdown-item text-muted">
            Activation
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/activation/enable-multisite/" class="toc-page dropdown-item text-muted">
            Multi site
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/activation/multisite-activation/" class="toc-page dropdown-item text-muted">
            Multi site Activation
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-deactivation/" class="toc-page dropdown-item text-muted">
            Deactivation
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-uninstall/" class="toc-page dropdown-item text-muted">
            Uninstall
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-unit-test" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Testing
    </a>
    
    <div id="tutorial-wordpress-plugin-development-unit-test" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/plugin-unit-testing/" class="toc-page dropdown-item text-muted">
            Unit Test
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/setup/" class="toc-page dropdown-item text-muted">
            Test Setup
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/simple-unit-tests/" class="toc-page dropdown-item text-muted">
            Simple Unit Tests
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/scripts-actions-filters/" class="toc-page dropdown-item text-muted">
            Unit Test Scripts, Actions, Filters
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/advanced-unit-tests/" class="toc-page dropdown-item text-muted">
            Advanced Unit Tests
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/internationalization-functions/" class="toc-page dropdown-item text-muted">
            Test Internationalization Functions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/ajax/" class="toc-page dropdown-item text-muted">
            Ajax Unit Tests
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/multisite-plugin-unit-tests/" class="toc-page dropdown-item text-muted">
            Multi site Plugin Unit Tests
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/&amp;text=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/&amp;t=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/&amp;title=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab&amp;body=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab%20http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/&amp;title=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=http://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/&amp;title=Add%20Menu%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<h2 id="6-1-wordpress-add-menu">6.1. WordPress Add Menu</h2>

<p>Share on Social Plugin uses common options such as FaceBook App ID. In
this section, we add a new menu item - <strong>Settings</strong> - to WordPress
Administration Menu to display the option page.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/wordpress-plugin-development/media/wp-pd-sos-settings-page.png" alt="WordPress add menu - menu item." />
</figure>


<p>In Share on Social Plugin, class file <code>admin/class-options.php</code> defines
class <code>Sos_Options</code>to manage the Settings page.</p>

<p><code>share-on-social/admin/admin.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">require_once SOS_PATH . &#39;admin/class-options.php&#39;;

/**
 * Class to load admin modules
 */
class Sos_Admin {

    /**
     * initializes the admin modules
     */
    function setup () {
        
        $sos_options = new Sos_Options();
        $sos_options-&gt;setup();

        ...</code></pre></div>
<p>We instantiate Sos_Options class in <code>admin.php</code> and call its setup()
method. Let&rsquo;s see what happens in Sos_Options::setup().</p>

<p><code>share-on-social/admin/class-options.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">class Sos_Options {

    public function setup () {
        add_action( &#39;admin_init&#39;, 
                array(
                        $this,
                        &#39;init_common_options&#39;
                ) );
        add_action( &#39;admin_menu&#39;, 
                array(
                        $this,
                        &#39;register_settings_page&#39;
                ) );
    }

    ....</code></pre></div>
<p>As explained in the previous chapter - <a href="/tutorial/wordpress-plugin-development/hooks-actions-filters/">Hooks, Actions and Filters</a>, we add actions to bind class methods to actions hooks.</p>

<ol>
<li><p>add <code>init_common_options()</code> method as action function to action hook
<strong>admin_init</strong>.</p></li>

<li><p>add <code>register_settings_page()</code> method as action function to action
hook <strong>admin_menu</strong>.</p></li>
</ol>

<p>When we access admin screen, WordPress core after executing typical
hooks such as plugins_loaded, init etc., encounters <strong>admin_menu</strong>
hook and it will call Sos_Options::register_settings_page(). We use
this to add a new menu item to admin menu.</p>



<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>




<h3 id="add-administration-menu-item">Add Administration Menu item</h3>

<p>The action functions of <strong>admin_menu</strong> hook are used to add new menu
item or sub menu item to WordPress Admin menu. In the function, we use
WordPress function <code>add_submenu_page()</code> to add a new sub menu item and
link it to a menu page.</p>

<p><code>share-on-social/admin/class-options.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">    public function register_settings_page () {

        $page_title = __( &#39;Common Options&#39;, &#39;sos-domain&#39; );
        $menu_label = __( &#39;Sos Settings&#39;, &#39;sos-domain&#39; );
        $setting_page = &#39;sos_settings_page&#39;;
        add_submenu_page(&#39;options-general.php&#39;, $page_title, $menu_label, 
                         &#39;administrator&#39;, $setting_page,
                          array($this,&#39;render_settings_page&#39;) );

    }</code></pre></div>
<p>To define strings that are translatable to other languages for
internationalization, WordPress uses __() functions such as
<code>$page_title = __( 'Common Options', 'sos-domain' )</code>. We will explain
this in detail in a later chapter and for the time being you may think
them as regular string assignment like <code>$page_title = 'Common Options'</code>.</p>

<p>After defining variables, we call
<a href="http://codex.wordpress.org/Function_Reference/add_submenu_page" target="_blank">add_submenu_page()</a>
function with following parameters.</p>

<ul>
<li><p><strong>parent_slug</strong> - slug name of the menu to which this sub menu
should attach. We attach our menu item to options-general.php which
is slug name for Settings menu in the admin screen. Refer
<a href="http://codex.wordpress.org/Function_Reference/add_submenu_page" target="_blank">add_submenu_page()</a>
to find out the names of parent slugs that the admin menu uses.</p></li>

<li><p><strong>page_title</strong> - title to use on the page linked to this menu.</p></li>

<li><p><strong>menu_title</strong> - menu item label.</p></li>

<li><p><strong>capability</strong> - minimum capability of user for whom this menu is
displayed. As we wish show this menu only admin we set it to
administrator.</p></li>

<li><p><strong>menu_slug</strong> - slug name for this menu. We use
<strong>sos_settings_page</strong> as slug name for this menu.</p></li>

<li><p><strong>callback function</strong> - the call back function which renders the
page attached to this menu. When menu is clicked, WordPress calls
the callback function where we echo the HTML to display the page.</p></li>
</ul>

<script>
    console.log("slot C"); 
</script>

<p> </p>

<p><strong>Parent Slug</strong></p>

<p>In the above code, menu_title is Sos Settings and parent slug is
options-general.php and this will show Sos Settings menu item under
Settings menu. But, in the Share on Social Project code, the first
argument of add_submenu_page() is &lsquo;edit.php?post_type=sos&rsquo; instead of
&lsquo;options-general.php&rsquo;. This is because we want to list the sub menu item
under a custom menu named Share on Social. We will cover the custom menu
in a later chapter that deals with custom posts.</p>

<p>For the time being you can try out both slugs and see the placement of
the sub menu.</p>

<p>At this point, when we click the new sub menu it displays a blank page.
We will complete it soon. But before rendering the page, we need to
register page fields with WordPress. In the next section, we go through
WordPress Settings API and learn how to add sections and fields to a
menu page.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>