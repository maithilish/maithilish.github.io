<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="In this tutorial, we show how to add WordPress Custom Post Type and use WordPress Post management framework to manage multiple items of a custom post type.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "Custom Post Type - WordPress Plugin Development - CodeTab",
        "headline" : "Custom Post Type - WordPress Plugin Development - CodeTab",
        "url" : "https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/",
        "description" : "In this tutorial, we show how to add WordPress Custom Post Type and use WordPress Post management framework to manage multiple items of a custom post type.",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-11T09:36:00+0530",
        "dateModified" : "2019-01-11T09:36:00+0530",
        "wordCount" : "1140",
        "keywords" : [ "wordpress custom post type","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.e7fd2d89f73c680873529a110a9007503a1bda864a3a3a6c53c4eb02a54c35eb.css" integrity="sha256-5/0tifc8aAhzUpoRCpAHUDob2oZKOjpsU8TrAqVMNes=">

<title>Custom Post Type - WordPress Plugin Development - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">WP Plugin Development</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="WordPress Plugin Development - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/install-locally/"
            class="toc-page text-wrap text-muted ">
            Install Locally
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/simple-plugin/"
            class="toc-page text-wrap text-muted ">
            Simple Plugin
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/shortcode/"
            class="toc-page text-wrap text-muted ">
            Shortcode
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/plugin-structure/"
            class="toc-page text-wrap text-muted ">
            Plugin Structure
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/plugin-main-file/"
            class="toc-page text-wrap text-muted ">
            Main File
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/hooks-actions-filters/"
            class="toc-page text-wrap text-muted ">
            Hooks, Actions, Filters
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-admin-module-settings" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Admin Module - Settings
    </a>
    
    <div id="tutorial-wordpress-plugin-development-admin-module-settings" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/"
            class="toc-page dropdown-item text-wrap text-muted">
            Add Menu
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/settings-api/"
            class="toc-page dropdown-item text-wrap text-muted">
            Settings API
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/options-page/"
            class="toc-page dropdown-item text-wrap text-muted">
            Options Page
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-admin-module-custom-posts" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Admin Module - Posts
    </a>
    
    <div id="tutorial-wordpress-plugin-development-admin-module-custom-posts" class="">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/"
            class="toc-page dropdown-item text-wrap text-danger">
            Custom Post Type
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/meta-box/"
            class="toc-page dropdown-item text-wrap text-muted">
            Meta Box
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/save-post/"
            class="toc-page dropdown-item text-wrap text-muted">
            Save Post
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-frontend" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Frontend
    </a>
    
    <div id="tutorial-wordpress-plugin-development-frontend" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/enqueue-scripts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Plugin Enqueue Scripts
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/pass-data-to-javascript/"
            class="toc-page dropdown-item text-wrap text-muted">
            Pass Data to JavaScript
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/debug-info/"
            class="toc-page dropdown-item text-wrap text-muted">
            Debug Info
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-ajax" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Ajax
    </a>
    
    <div id="tutorial-wordpress-plugin-development-ajax" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/wordpress-ajax/"
            class="toc-page dropdown-item text-wrap text-muted">
            Ajax
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/chart-page/"
            class="toc-page dropdown-item text-wrap text-muted">
            Chart Page
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/google-charts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google Charts
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-internationalization" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Internationalization
    </a>
    
    <div id="tutorial-wordpress-plugin-development-internationalization" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/internationalize/"
            class="toc-page dropdown-item text-wrap text-muted">
            Internationalization
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/"
            class="toc-page dropdown-item text-wrap text-muted">
            Localization
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-activation" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Activation
    </a>
    
    <div id="tutorial-wordpress-plugin-development-activation" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-activation/"
            class="toc-page dropdown-item text-wrap text-muted">
            Activation
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/activation/enable-multisite/"
            class="toc-page dropdown-item text-wrap text-muted">
            Multi site
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/activation/multisite-activation/"
            class="toc-page dropdown-item text-wrap text-muted">
            Multi site Activation
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-deactivation/"
            class="toc-page dropdown-item text-wrap text-muted">
            Deactivation
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-uninstall/"
            class="toc-page dropdown-item text-wrap text-muted">
            Uninstall
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-plugin-development-unit-test" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Testing
    </a>
    
    <div id="tutorial-wordpress-plugin-development-unit-test" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/plugin-unit-testing/"
            class="toc-page dropdown-item text-wrap text-muted">
            Unit Test
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/setup/"
            class="toc-page dropdown-item text-wrap text-muted">
            Test Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/simple-unit-tests/"
            class="toc-page dropdown-item text-wrap text-muted">
            Simple Unit Tests
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/scripts-actions-filters/"
            class="toc-page dropdown-item text-wrap text-muted">
            Unit Test Scripts, Actions, Filters
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/advanced-unit-tests/"
            class="toc-page dropdown-item text-wrap text-muted">
            Advanced Unit Tests
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/internationalization-functions/"
            class="toc-page dropdown-item text-wrap text-muted">
            Test Internationalization Functions
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/ajax/"
            class="toc-page dropdown-item text-wrap text-muted">
            Ajax Unit Tests
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/multisite-plugin-unit-tests/"
            class="toc-page dropdown-item text-wrap text-muted">
            Multi site Plugin Unit Tests
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/&amp;text=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/&amp;t=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/&amp;title=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab%20https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/&amp;title=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/&amp;title=Custom%20Post%20Type%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            <h2 id="71wordpress-custom-post-type">7.1. WordPress Custom Post Type</h2>
<p>With Share on Social Plugin, admins can create and configure multiple
Social Lockers. While it is not impossible to use WordPress option to
store locker settings, better approach would be to use WordPress Custom
Post Type which provides much more robust and convenient framework to
manage multiple items of a type.</p>
<p>In this chapter, we explain how to add new WordPress Custom Post Type
and manage custom posts and its meta data.</p>
<h3 id="wordpress-custom-post-type">WordPress Custom Post Type</h3>
<p>In WordPress, entities like Posts, Pages and Attachments are different
versions of base type Posts. They all holds some contents and also,
other attributes or values called as meta data. WordPress allows
developers to add custom post types which enables them extend the
functionality of the base post type.</p>
<p>For each Social Locker we need to save additional settings such as id,
share link, enabled social networks and display text. As WordPress
Custom Post Type allows creation of multiple items of a custom post type
and save meta data with each item, it is well suited for Social Lockers.</p>
<p>WordPress custom post type integrates seamlessly with WordPress core.
Each custom Post Type, just like Post and Pages, gets its own menu in
Admin Menu and inherits WordPress Post management framework to list,
add, delete, publish and edit items or entities.</p>
<p>In Share on Social Plugin, we add new custom post type - <strong>sos</strong> - and
extend it further to use it as Sos Lockers. The <strong>sos</strong> custom post type
adds a new menu item <strong>Share on Social</strong> to admin
menu.</p>
<p><a href="http://codex.wordpress.org/Function_Reference/register_post_type" target="_blank"><figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/wordpress-plugin-development/media/wp-pd-sos-custom-post-menu.png" alt="wp-pd-sos-custom-post-menu](../media/wp-pd-sos-custom-post-menu-300x159.png)" />
</figure>
</p>
<p>In Share on Social menu, WordPress by default adds first two sub menu
items - Lockers and Add New - as part of its core post management
framework. The last two items - Settings and Statistics - which are
added by the plugin just to group them under the menu and they are not
related to custom post.</p>
<p>Class file <code>admin/class-sos.php</code> handles the <strong>sos</strong> custom post type.
In the <code>setup()</code> method, we add <code>create_post_type()</code> method as action
method to action hook <strong>init</strong>.</p>
<p><code>share-on-social/admin/class-sos.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">class Sos {

    var $post_type = &#39;sos&#39;;

    public function setup () {

        add_action( &#39;init&#39;,array($this,&#39;create_post_type&#39; ) );
    ....
</code></pre></div><p>In action method, we use WordPress API function
[register_post_type()</a>
to register new custom type.</p>
<p><code>share-on-social/admin/class-sos.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">public function create_post_type () {

    register_post_type( $this-&gt;post_type, 
        array(
            &#39;labels&#39; =&gt; array(
                &#39;name&#39; =&gt; _x( &#39;Sos Lockers&#39;, &#39;post type general name&#39;, &#39;sos-domain&#39; ),
                &#39;singular_name&#39; =&gt; _x( &#39;Sos Locker&#39;, &#39;post type singular name&#39;, 
                                       &#39;sos-domain&#39; ),
                &#39;menu_name&#39; =&gt; _x( &#39;Share on Social&#39;, &#39;admin menu&#39;, &#39;sos-domain&#39; ),
                &#39;add_new&#39; =&gt; _x( &#39;Add New&#39;, &#39;sos&#39;, &#39;sos-domain&#39; ),
                &#39;add_new_item&#39; =&gt; __( &#39;Add New Locker&#39;, &#39;sos-domain&#39; ),
                &#39;edit&#39; =&gt; __( &#39;Edit&#39;, &#39;sos-domain&#39; ),
                &#39;edit_item&#39; =&gt; __( &#39;Edit Locker&#39;, &#39;sos-domain&#39; ),
                &#39;new_item&#39; =&gt; __( &#39;New Locker&#39;, &#39;sos-domain&#39; ),
                &#39;all_items&#39; =&gt; __( &#39;Lockers&#39;, &#39;sos-domain&#39; ),
                &#39;view&#39; =&gt; &#39;&#39;,
                &#39;view_item&#39; =&gt; &#39;&#39;
            ),  
                        
            &#39;public&#39; =&gt; false,
            &#39;show_ui&#39; =&gt; true,
            &#39;menu_position&#39; =&gt; 15, 
            &#39;supports&#39; =&gt; array(&#39;title&#39;),
            &#39;taxonomies&#39; =&gt; array(&#39;&#39;),
            &#39;menu_icon&#39; =&gt; SOS_URL . &#39;/images/sos-icon.png&#39;,
            &#39;has_archive&#39; =&gt; true,
            &#39;register_meta_box_cb&#39; =&gt; array($this,&#39;setup_meta_boxes&#39;)
        ) );

    if ( null == Sos_Helper::get_locker_post_id( &#39;basic&#39; ) ) { 
        $this-&gt;create_basic_locker();
    }   

}
</code></pre></div><p>The first parameter is custom post type name which is set to <strong>sos</strong>.
The second parameter is an array of arguments. The function defines a
large number of arguments and we use only some of them. Refer the
<a href="http://codex.wordpress.org/Function_Reference/register_post_type" target="_blank">register_post_type()</a>
for the complete list of parameters and arguments.</p>
<p>The first arg is an array which holds the various labels used by the
post type. Other important args are</p>
<ul>
<li>
<p><strong>public</strong> - set it as false so that only admin can manage sos
custom post type (add new, delete etc.,).</p>
</li>
<li>
<p><strong>show_ui</strong> - display a user-interface (admin panel) for this post
type.</p>
</li>
<li>
<p><strong>supports</strong> - WordPress post editor, by default, allows title field
and content editor. Using arg, supports, we can enable or disable
other fields like thumbnails, excerpts etc., Custom post type sos
allows only the title field.</p>
</li>
</ul>
<p>With this, sos post editor has a single field to enter title of the
post. Other fields of Sos Lockers such as Locker ID, Share on, Share URL
and Display Text have to be stored as meta data of the post. To input
meta data, we need meta boxes in post editor and for this use argument
<strong>register_meta_box_cb</strong> to register callback function that setup
meta boxes in the edit form. We cover meta box callback function in next
blog.</p>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<p>All-in-one function, register_post_type(), accomplishes many things.</p>
<ul>
<li>
<p>registers the sos custom post type.</p>
</li>
<li>
<p>sets labels for add new item, edit item, custom post admin menu and
view items etc.,</p>
</li>
<li>
<p>enables admin panel to manage custom post items - Sos Lockers.</p>
</li>
<li>
<p>enable or disable fields in post editor.</p>
</li>
<li>
<p>provides callback to customize meta boxes in post editor.</p>
</li>
</ul>
<p><strong>Custom Post Type Scope</strong></p>
<p>Don&rsquo;t assume that custom type registration is one time affair in
WordPress.</p>
<p>Instead, whenever we access admin screen or any of its menu, as part of
request cycle, init hook executes register_post_type(). In other
words, during each request, WordPress freshly registers custom post type
and discards it once request is completed!</p>
<p>After registering the sos custom post type, we add a new post of sos
type which is the default locker with locker id basic. While adding the
default locker, we check whether locker with same id exists and create
only if it not found in database. This check is essential otherwise each
request adds a new locker.</p>
<p><code>share-on-social/admin/class-sos.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">    public function create_basic_locker () {
        if ( false == current_user_can( &#39;activate_plugins&#39; ) ) {
            return;
        }

        $post = array(
                &#39;post_name&#39; =&gt; &#39;basic&#39;,
                &#39;post_title&#39; =&gt; &#39;Basic Locker&#39;,
                &#39;post_status&#39; =&gt; &#39;publish&#39;,
                &#39;post_type&#39; =&gt; &#39;sos&#39; );
        $post_id = wp_insert_post( $post );

        if ( $post_id != 0 ) {
            add_post_meta( $post_id, &#39;locker_id&#39;, &#39;basic&#39; );
            add_post_meta( $post_id, &#39;shareon_fb&#39;, &#39;1&#39; );
            add_post_meta( $post_id, &#39;shareon_gplus&#39;, &#39;1&#39; );
            add_post_meta( $post_id, &#39;shareon_twitter&#39;, &#39;1&#39; );
            add_post_meta( $post_id, &#39;share_target&#39;, &#39;page&#39; );
            add_post_meta( $post_id, &#39;locker_text&#39;, $this-&gt;basic_text() );
        }
    }
</code></pre></div><p>While inserting the post, check whether user has the required capability</p>
<ul>
<li>
<p>activate-plugins. We set, among other things, post_type as <strong>sos</strong> in
$post array. WordPress function
<a href="http://codex.wordpress.org/Function_Reference/wp_insert_post" target="_blank">wp_insert_post()</a>
inserts the post to <strong>wp_posts</strong> table. This table holds posts of all
types - posts, pages and even custom posts. On success, function returns
the post id of new post. We use the post id to add meta data for Basic
Locker such as</p>
<ul>
<li>
<p><strong>locker_id</strong> - basic</p>
</li>
<li>
<p><strong>shareon_fb</strong>, <strong>shareon_gplus</strong> and <strong>shareon_twitter</strong> -
enable all Share Buttons in Basic Locker.</p>
</li>
<li>
<p><strong>share_target</strong> - Basic Locker shares URL of the page where locker
is placed.</p>
</li>
<li>
<p><strong>locker_text</strong> - HTML snippet that is used as locker display text.</p>
</li>
</ul>
</li>
</ul>
<script>
    console.log("slot C"); 
</script>
<p>Sos Lockers listing shows default locker - Basic. However, if we try to
add new one or edit the basic locker, the editor shows only the Title
field as we are yet to add meta boxes.</p>
<p>In the next section, we show how to add meta boxes to the post editor to
manage post meta data.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>