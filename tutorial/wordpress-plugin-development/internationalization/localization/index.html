<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="This tutorial explains WordPress Plugin Localization where we install necessary software, create the language files for the plugin and verify the setup."><meta name=author content="Maithilish"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYHTHXW09H"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYHTHXW09H")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"articleSection":"tutorial","name":"Localization - WordPress Plugin Development - CodeTab","headline":"Localization - WordPress Plugin Development - CodeTab","url":"https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/","description":"This tutorial explains WordPress Plugin Localization where we install necessary software, create the language files for the plugin and verify the setup.","inLanguage":"en","image":"https://www.codetab.org/logo.jpg","author":"Maithilish","creator":"Maithilish","publisher":{"@type":"Organization","name":"Maithilish","url":"https://www.codetab.org/","logo":{"@type":"ImageObject","url":"https://www.codetab.org/logo.png","width":"200","height":"200"}},"copyrightHolder":"Maithilish","copyrightYear":"2019","datePublished":"2019-01-11T11:44:00+0530","dateModified":"2019-01-11T11:44:00+0530","wordCount":"628","keywords":["wordpress plugin localization","Blog"]}</script><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/vendor.min.36dba173dca94f4b9fca7c6a1c3d15560f7a96c6ab0c0042dcd000f8469a9dc1.css integrity="sha256-Ntuhc9ypT0ufynxqHD0VVg96lsarDABC3NAA+EaancE="><title>Localization - WordPress Plugin Development - CodeTab</title><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1281079745125126" crossorigin=anonymous></script></head><body id=top><header><nav id=navbar-main class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm"><div class=container-fluid><a class=navbar-brand href=/>Codetab</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#tutorials><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About</span></a></li></ul></div></div></nav></header><div class=container-fluid><div class=row>&nbsp;</div><div class=row><aside id=sidebar class=col-md-3><div class=row><nav id=navbar-side class="bg-light text-secondary"><h4 class="text-muted bg-white pl-2">WP Plugin Development</h4><nav class="navbar navbar-light bg-white navbar-expand-md"><button class="navbar-toggler ml-auto" type=button data-toggle=collapse data-target=#bookmenu aria-controls=bookmenu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=bookmenu><div><div id="WordPress Plugin Development - CodeTab"><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/introduction/ class="toc-page text-wrap text-muted">Introduction</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/install-locally/ class="toc-page text-wrap text-muted">Install WP on Docker</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/simple-plugin/ class="toc-page text-wrap text-muted">Simple Plugin</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/shortcode/ class="toc-page text-wrap text-muted">Shortcode</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/plugin-structure/ class="toc-page text-wrap text-muted">Plugin Structure</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/plugin-main-file/ class="toc-page text-wrap text-muted">Main File</a></div><div><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/hooks-actions-filters/ class="toc-page text-wrap text-muted">Hooks, Actions, Filters</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-admin-module-settings id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Admin - Settings</a><div id=tutorial-wordpress-plugin-development-admin-module-settings class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/add-menu/ class="toc-page dropdown-item text-wrap text-muted">Add Menu</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/settings-api/ class="toc-page dropdown-item text-wrap text-muted">Settings API</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-settings/options-page/ class="toc-page dropdown-item text-wrap text-muted">Options Page</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-admin-module-custom-posts id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Admin - Posts</a><div id=tutorial-wordpress-plugin-development-admin-module-custom-posts class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/post-type/ class="toc-page dropdown-item text-wrap text-muted">Custom Post Type</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/meta-box/ class="toc-page dropdown-item text-wrap text-muted">Meta Box</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/admin-module-custom-posts/save-post/ class="toc-page dropdown-item text-wrap text-muted">Save Post</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-frontend id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Frontend</a><div id=tutorial-wordpress-plugin-development-frontend><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/enqueue-scripts/ class="toc-page dropdown-item text-wrap text-muted">Plugin Enqueue Scripts</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/pass-data-to-javascript/ class="toc-page dropdown-item text-wrap text-danger">Pass Data to JavaScript</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/frontend/debug-info/ class="toc-page dropdown-item text-wrap text-muted">Debug Info</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-ajax id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Ajax</a><div id=tutorial-wordpress-plugin-development-ajax class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/wordpress-ajax/ class="toc-page dropdown-item text-wrap text-muted">Ajax</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/chart-page/ class="toc-page dropdown-item text-wrap text-muted">Chart Page</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/ajax/google-charts/ class="toc-page dropdown-item text-wrap text-muted">Google Charts</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-internationalization id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Internationalization</a><div id=tutorial-wordpress-plugin-development-internationalization class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/internationalize/ class="toc-page dropdown-item text-wrap text-muted">Internationalization</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/ class="toc-page dropdown-item text-wrap text-muted">Localization</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-activation id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Activation</a><div id=tutorial-wordpress-plugin-development-activation class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-activation/ class="toc-page dropdown-item text-wrap text-muted">Activation</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/activation/enable-multisite/ class="toc-page dropdown-item text-wrap text-muted">Multi site</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/activation/multisite-activation/ class="toc-page dropdown-item text-wrap text-muted">Multi site Activation</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-deactivation/ class="toc-page dropdown-item text-wrap text-muted">Deactivation</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/activation/plugin-uninstall/ class="toc-page dropdown-item text-wrap text-muted">Uninstall</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-wordpress-plugin-development-unit-test id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Testing</a><div id=tutorial-wordpress-plugin-development-unit-test class=collapse><a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/plugin-unit-testing/ class="toc-page dropdown-item text-wrap text-muted">Unit Test</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/setup/ class="toc-page dropdown-item text-wrap text-muted">Test Setup</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/simple-unit-tests/ class="toc-page dropdown-item text-wrap text-muted">Simple Unit Tests</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/scripts-actions-filters/ class="toc-page dropdown-item text-wrap text-muted">Unit Test Scripts, Actions, Filters</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/advanced-unit-tests/ class="toc-page dropdown-item text-wrap text-muted">Advanced Unit Tests</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/internationalization-functions/ class="toc-page dropdown-item text-wrap text-muted">Test Internationalization Functions</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/ajax/ class="toc-page dropdown-item text-wrap text-muted">Ajax Unit Tests</a>
<a href=https://www.codetab.org/tutorial/wordpress-plugin-development/unit-test/multisite-plugin-unit-tests/ class="toc-page dropdown-item text-wrap text-muted">Multi site Plugin Unit Tests</a></div></div></div></div></nav></nav></div></aside><div id=contentbar class=col-md-8><div id=share class="row justify-content-end"><div title=twitter><a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/&amp;text=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target=_blank rel=noopener><i class="icon-twitter-squared text-secondary"></i></a></div><div title=facebook><a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/&amp;t=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target=_blank rel=noopener><i class="icon-facebook-squared text-secondary"></i></a></div><div title=linkedin><a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/&amp;title=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target=_blank rel=noopener><i class="icon-linkedin-squared text-secondary"></i></a></div><div title=email><a href="mailto:?subject=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/" target=_blank rel=noopener><i class="icon-mail-squared text-secondary"></i></a></div><div title=whatsapp><a href="https://web.whatsapp.com/send?text=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab%20https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/" target=_blank rel=noopener><i class="icon-whatsapp text-secondary"></i></a></div><div title=reddit><a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/wordpress-plugin-development/internationalization/localization/&amp;title=Localization%20-%20WordPress%20Plugin%20Development%20-%20CodeTab" target=_blank rel=noopener><i class="icon-reddit-alien text-secondary"></i></a></div><i class="icon-blank ctab-transparent"></i></div><div class=row><main id=content class="col-md-11 post-basic"><h2 id=102wordpress-plugin-localization>10.2. WordPress Plugin Localization</h2><p>After internationalization of the plugin, next step is to prepare
language files. This process is known as Localization which consists of
following steps.</p><ul><li><p>generate Portable Object Template (POT) file.</p></li><li><p>generate Portable Object (PO) file for each language.</p></li><li><p>get PO file translated by a translator.</p></li><li><p>generate Machine Object (MO) file from each PO file.</p></li></ul><h3 id=install-software>Install Software</h3><p>To generate POT file, install <strong>WordPress Tools</strong> with following
commands.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ cd /opt/lampp/htdocs/wordpress
$ svn co http://develop.svn.wordpress.org/trunk/tools/
$ ln -s . src
</code></pre><p>First, change to the WordPress installation directory. Next, use SVN to
download the tools. It will download tools from WordPress source
repository and save it your local WordPress directory. We also create a
symbolic link <code>src</code> pointing to <code>wordpress</code> directory, which is for the
hard coded paths in tools php files.</p><div>&nbsp;</div><div>&nbsp;</div><p>To generate PO and MO files, we require <a href=https://www.gnu.org/software/gettext/ target=_blank>GNU
gettext</a>. Normally, GNU gettext
is shipped with standard Linux distributions and you may check whether
it is available in your system with <code>msginit -V</code> command. If not
installed, then install it with following command.</p><pre tabindex=0><code class=language-screen data-lang=screen># yum install gettext
</code></pre><p>To run gettext on Windows, download the Setup program from <a href=http://gnuwin32.sourceforge.net/packages/gettext.htm target=_blank>GNUWin</a> and install.</p><figure class=text-center><img class="lazy img-fluid" data-src=/tutorial/wordpress-plugin-development/media/wp-pd-sos-gettext.png alt="WordPress Plugin Localization - gettext"></figure><h3 id=wordpress-plugin-localization>WordPress Plugin Localization</h3><p>Once required softwares are installed, we can start the localization
process.</p><p>The first task is to generate POT file, which is done with following
commands.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ cd /opt/lampp/htdocs/wordpress/wp-content/plugins/share-on-social/
$ php /opt/lampp/htdocs/wordpress/tools/i18n/makepot.php wp-plugin .
</code></pre><p>Run makepot.php from the plugin directory. It pulls the translatable
strings from all PHP files of the plugin and creates the POT file
<code>share-on-social.pot</code>. Next, move the POT file to <code>langs</code> directory.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ mkdir langs
$ mv share-on-social.pot langs
</code></pre><p>Next task is to generate PO file for each language. As an example, let&rsquo;s
generate PO file for Esperanto language whose locale code is <strong>eo</strong>. For
other languages and locale code, refer <a href=https://codex.wordpress.org/WordPress_in_Your_Language target=_blank>List of localizations</a>.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ cd langs
$ msginit -i share-on-social.pot -o sos-domain-eo.po -l eo
</code></pre><p>GetText&rsquo;s <strong>msginit</strong> generates PO file from the POT file. The output
file is named as <strong>sos-domain-eo.po</strong> where <strong>sos-domain</strong> is the
plugins&rsquo; text domain and <strong>eo</strong> is the locale code of Esperanto.</p><p>Next, translate the strings in <code>langs/sos-domain-eo.po</code>.</p><p><code>share-on-social/langs/sos-domain-eo.po</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1># Copyright (C) 2015 Share on Social
</span></span></span><span class=line><span class=cl><span class=c1># This file is distributed under the same license as the Share on Social package.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>msgid</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgstr</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Project-Id-Version: Share on Social 1.0.0n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Report-Msgid-Bugs-To: http://wordpress.org/support/plugin/share-on-socialn&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;POT-Creation-Date: 2015-01-21 06:42:09+00:00n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;MIME-Version: 1.0n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Content-Type: text/plain; charset=UTF-8n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Content-Transfer-Encoding: 8bitn&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;PO-Revision-Date: 2015-01-21 12:13+0530n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Last-Translator: m &lt;m@m&gt;n&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Language-Team: Esperanton&#34;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Language: eon&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#: admin/class-sos.php:110
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>msgctxt</span> <span class=s2>&#34;post type singular name&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgid</span> <span class=s2>&#34;Share Locker&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgstr</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#: admin/class-sos.php:112
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>msgctxt</span> <span class=s2>&#34;admin menu&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgid</span> <span class=s2>&#34;Share on Social&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgstr</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>....</span>
</span></span></code></pre></div><p>For each translatable string, the <strong>msgid</strong> holds the original string
and <strong>msgstr</strong> will be empty string. Edit the file and enter translated
string in msgstr as shown in next listing.</p><p><code>share-on-social/langs/sos-domain-eo.po</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>#: admin/class-sos.php:110
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>msgctxt</span> <span class=s2>&#34;post type singular name&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgid</span> <span class=s2>&#34;Share Locker&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgstr</span> <span class=s2>&#34;Konigi Locker&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#: admin/class-sos.php:112
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>msgctxt</span> <span class=s2>&#34;admin menu&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgid</span> <span class=s2>&#34;Share on Social&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>msgstr</span> <span class=s2>&#34;Dividi en Socia&#34;</span>
</span></span></code></pre></div><p>Finally, generate MO file from PO using GetText&rsquo;s <strong>msgfmt</strong> command.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ msgfmt -o sos-domain-eo.mo  sos-domain-eo.po
</code></pre><p>It generates <code>sos-domain-eo.mo</code> from <code>sos-domain-eo.po</code>. We have to do
this for each language. When bundling the plugin for release, include
langs directory and MO files. The POT and PO files are not required in
the plugin zip file.</p><p>With that, the plugin localization is complete.</p><div>&nbsp;</div><div>&nbsp;</div><h3 id=validation>Validation</h3><p>We would like to verify whether internationalization and localization of
the plugin is done properly.</p><p>Open WordPress Admin Screen and go to <strong>Settings</strong> → <strong>General</strong> and
select Esperanto in <strong>Site Language</strong> field.</p><figure class=text-center><img class="lazy img-fluid" data-src=/tutorial/wordpress-plugin-development/media/wp-pd-sos-select-lang.png alt="WordPress Plugin Localization - Validate Language"></figure><p>We can also change site language through <strong>WPLANG</strong> setting in
<code>wp-settings.php</code></p><p>WordPress Admin screen flips to Esperanto and Share on Social Plugin
loads <code>langs/sos-domain-eo.mo</code> and displays the menu and other labels in
Esperanto.</p><figure class=text-center><img class="lazy img-fluid" data-src=/tutorial/wordpress-plugin-development/media/wp-pd-sos-esperanto.png alt="WordPress Plugin Localization - Esperanto"></figure><p>In the next chapter, we cover the plugin activation, deactivation and
uninstall topics.</p></main></div></div><aside id=sidebar-right class=col-md-1><div class="row my-5 justify-content-center"></div></aside></div></div><footer class="container-fluid mt-5"><div class=row><div class="col ml-auto"><div class="row mb-1 ml-2"><a class=text-muted href=/privacy-policy>Privacy</a></div><div class="row text-muted mb-2 ml-2"><span>&copy; 2019 &#183;Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span></div></div><div class="col mr-auto"><span class=float-right><a href=# id=back_to_top><i class="icon-up-open h1 text-secondary"></i></a></span></div></div></footer><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script src=/js/vendor.min.e0afe83ba5579b9676fc5f849c1becff1395739520a7c0bc45535f04acd819c3.js></script></body></html>