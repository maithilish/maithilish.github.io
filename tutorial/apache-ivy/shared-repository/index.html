<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="This chapter of Apache Ivy Tutorial builds Apache Ivy Shared repository and a web server based repository."><meta name=author content="Maithilish"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-42139846-3")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"articleSection":"tutorial","name":"Shared Repository - Apache Ivy Tutorial - CodeTab","headline":"Shared Repository - Apache Ivy Tutorial - CodeTab","url":"https://www.codetab.org/tutorial/apache-ivy/shared-repository/","description":"This chapter of Apache Ivy Tutorial builds Apache Ivy Shared repository and a web server based repository.","inLanguage":"en","image":"https://www.codetab.org/logo.jpg","author":"Maithilish","creator":"Maithilish","publisher":{"@type":"Organization","name":"Maithilish","url":"https://www.codetab.org/","logo":{"@type":"ImageObject","url":"https://www.codetab.org/logo.png","width":"200","height":"200"}},"copyrightHolder":"Maithilish","copyrightYear":"2019","datePublished":"2019-01-10T23:32:00+0530","dateModified":"2019-01-10T23:32:00+0530","wordCount":"487","keywords":["Apache Ivy Shared Repository","Blog"]}</script><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/vendor.min.36dba173dca94f4b9fca7c6a1c3d15560f7a96c6ab0c0042dcd000f8469a9dc1.css integrity="sha256-Ntuhc9ypT0ufynxqHD0VVg96lsarDABC3NAA+EaancE="><title>Shared Repository - Apache Ivy Tutorial - CodeTab</title></head><body id=top><header><nav id=navbar-main class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm"><div class=container-fluid><a class=navbar-brand href=/>Codetab</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#tutorials><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About</span></a></li></ul></div></div></nav></header><div class=container-fluid><div class=row>&nbsp;</div><div class=row><aside id=sidebar class=col-md-3><div class=row><nav id=navbar-side class="bg-light text-secondary"><h4 class="text-muted bg-white pl-2">Apache Ivy Guide</h4><nav class="navbar navbar-light bg-white navbar-expand-md"><button class="navbar-toggler ml-auto" type=button data-toggle=collapse data-target=#bookmenu aria-controls=bookmenu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=bookmenu><div><div id="Apache Ivy Tutorial - Apache Ivy Tutorial - CodeTab"><div><a href=https://www.codetab.org/tutorial/apache-ivy/introduction/ class="toc-page text-wrap text-muted">Introduction</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/installation/ class="toc-page text-wrap text-muted">Installation</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/ant-tasks/ class="toc-page text-wrap text-muted">Ant Tasks</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/resolve/ class="toc-page text-wrap text-muted">Resolve</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/cachepath-retrieve/ class="toc-page text-wrap text-muted">Cachepath and Retrieve</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/pattern/ class="toc-page text-wrap text-muted">Pattern</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/repository-resolvers/ class="toc-page text-wrap text-muted">Resolvers and Repository</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/install-task-local-repository/ class="toc-page text-wrap text-muted">Install Task and Local Repositories</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/shared-repository/ class="toc-page text-wrap text-danger">Shared Repository</a></div><div><a href=https://www.codetab.org/tutorial/apache-ivy/publish/ class="toc-page text-wrap text-muted">Publish</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-apache-ivy-ivyde id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Eclipse Ivy Plugin</a><div id=tutorial-apache-ivy-ivyde class=collapse><a href=https://www.codetab.org/tutorial/apache-ivy/ivyde/eclipse-ivyde-plugin-resolve/ class="toc-page dropdown-item text-wrap text-muted">IvyDE Plugin for Eclipse</a>
<a href=https://www.codetab.org/tutorial/apache-ivy/ivyde/ivyde-settings-retrieve/ class="toc-page dropdown-item text-wrap text-muted">IvyDE Settings and Retrieve</a></div></div></div></div></nav></nav></div></aside><div id=contentbar class=col-md-7><div id=share class="row justify-content-end"><div title=twitter><a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/apache-ivy/shared-repository/&amp;text=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-twitter-squared text-secondary"></i></a></div><div title=facebook><a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/apache-ivy/shared-repository/&amp;t=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-facebook-squared text-secondary"></i></a></div><div title=linkedin><a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/apache-ivy/shared-repository/&amp;title=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-linkedin-squared text-secondary"></i></a></div><div title=email><a href="mailto:?subject=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/apache-ivy/shared-repository/" target=_blank rel=noopener><i class="icon-mail-squared text-secondary"></i></a></div><div title=whatsapp><a href="https://web.whatsapp.com/send?text=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/apache-ivy/shared-repository/" target=_blank rel=noopener><i class="icon-whatsapp text-secondary"></i></a></div><div title=reddit><a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/apache-ivy/shared-repository/&amp;title=Shared%20Repository%20-%20Apache%20Ivy%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-reddit-alien text-secondary"></i></a></div><i class="icon-blank ctab-transparent"></i></div><div class=row><main id=content class="col-md-11 post-basic"><h2 id=62apache-ivy-shared-repository>6.2.Â Apache Ivy Shared Repository</h2><p>Apache Ivy Shared Repository</p><p>Shared repository is similar to a local repository in almost all aspects
except that all users can access a shared repository and whereas local
repository is private to the user who owns it.</p><p>Default configuration comes with a resolver named <strong>shared</strong> which
points to <code>$HOME/.ivy2/shared</code> directory. If you don&rsquo;t like a shared
repository in your home directory, then it may be moved to any other
locations. Best practice would be to place the it in a directory to
which all users or a group of users have read and write access.</p><p>Let&rsquo;s create a shared repository at <code>/opt/ivy/repository/shared</code></p><pre tabindex=0><code class=language-screen data-lang=screen>mkdir -p /opt/ivy/repository/shared
chown -R ivy.ivy /opt/ivy
chmod -R 777 /opt/ivy
</code></pre><p>Repository directory is accessible by all users.</p><p>Use following variables to override the default values of shared
resolver.</p><ul><li><p>ivy.shared.default.root</p></li><li><p>ivy.shared.default.ivy.pattern</p></li><li><p>ivy.shared.default.artifact.pattern</p></li></ul><p><code>build.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl><span class=nt>&lt;project</span> <span class=na>name=</span><span class=s>&#34;shared repository&#34;</span> <span class=na>default=</span><span class=s>&#34;install&#34;</span> 
</span></span><span class=line><span class=cl> <span class=na>xmlns:ivy=</span><span class=s>&#34;antlib:org.apache.ivy.ant&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;target</span> <span class=na>name=</span><span class=s>&#34;install&#34;</span> <span class=na>description=</span><span class=s>&#34;--&gt; install modules to shared reporsitory&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;ivy.shared.default.root&#34;</span> 
</span></span><span class=line><span class=cl>         <span class=na>value=</span><span class=s>&#34;/opt/ivy/repository/shared&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;ivy:install</span> <span class=na>organisation=</span><span class=s>&#34;commons-lang&#34;</span> <span class=na>module=</span><span class=s>&#34;commons-lang&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=na>revision=</span><span class=s>&#34;2.6&#34;</span> <span class=na>transitive=</span><span class=s>&#34;true&#34;</span> <span class=na>overwrite=</span><span class=s>&#34;false&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=na>from=</span><span class=s>&#34;public&#34;</span> <span class=na>to=</span><span class=s>&#34;shared&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;/target&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/project&gt;</span>
</span></span></code></pre></div><p>Shared repository default root is set through variable
<code>ivy.shared.default.root</code> and we set it to <code>/opt/ivy/repository/shared</code>.</p><p>To access the shared repository, users have to override
<code>ivy.shared.default.root</code> variable in their build files before calling
&lt;ivy:resolve>.</p><div>&nbsp;</div><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-1281079745125126 data-ad-slot=6135368983></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div>&nbsp;</div><p>Apache Ivy Shared Repository on a Web Server</p><p>The above strategy for a shared repository works well when developers
have access to the server through telnet. But typically in an enterprise
set up, developers work from the desktop and in such a scenario set up a
repository accessible over the network .</p><p>To serve the shared repository over the network, locate the repository
on a web server which runs the http daemon. Create a directory for the
repository under <strong>Document Root</strong> folder of the httpd.</p><pre tabindex=0><code class=language-screen data-lang=screen>mkdir /var/www/html/ivyrepo
chown apache.apache /var/www/html/ivyrepo
chmod 775 /var/www/html/ivyrepo
usermod -aG apache m # m is username
service httpd start # start the apache web server
</code></pre><p>In this example, we use Apache HTTP server with its default Document
root at /var/www/html. Users who are allowed to install modules are
added to apache group and they have to use following build.xml to
install the modules.</p><p><code>build.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl><span class=nt>&lt;project</span> <span class=na>name=</span><span class=s>&#34;shared repository&#34;</span> <span class=na>default=</span><span class=s>&#34;install&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=na>xmlns:ivy=</span><span class=s>&#34;antlib:org.apache.ivy.ant&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;target</span> <span class=na>name=</span><span class=s>&#34;install&#34;</span> <span class=na>description=</span><span class=s>&#34;--&gt; install modules to shared reporsitory&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;ivy.shared.default.root&#34;</span> <span class=na>value=</span><span class=s>&#34;/var/www/html/ivyrepo&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;ivy:install</span> <span class=na>organisation=</span><span class=s>&#34;commons-lang&#34;</span> <span class=na>module=</span><span class=s>&#34;commons-lang&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=na>revision=</span><span class=s>&#34;2.6&#34;</span> <span class=na>transitive=</span><span class=s>&#34;true&#34;</span> <span class=na>overwrite=</span><span class=s>&#34;false&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=na>from=</span><span class=s>&#34;public&#34;</span> <span class=na>to=</span><span class=s>&#34;shared&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;/target&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/project&gt;</span>
</span></span></code></pre></div><p>Developers have to use following ivysettings.xml to access the
repository from their Desktops.</p><p><code>ivysettings.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl><span class=nt>&lt;ivysettings&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;web.ivy.pattern&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=na>value=</span><span class=s>&#34;[organisation]/[module]/[revision]/[type]s/[artifact].[ext]&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=na>override=</span><span class=s>&#34;false&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;web.artifact.pattern&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=na>value=</span><span class=s>&#34;[organisation]/[module]/[revision]/[type]s/[artifact].[ext]&#34;</span> 
</span></span><span class=line><span class=cl>              <span class=na>override=</span><span class=s>&#34;false&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;settings</span> <span class=na>defaultResolver=</span><span class=s>&#34;chain&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;resolvers&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;chain</span> <span class=na>name=</span><span class=s>&#34;chain&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=nt>&lt;url</span> <span class=na>name=</span><span class=s>&#34;web&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ivy</span> <span class=na>pattern=</span><span class=s>&#34;http://localhost/ivyrepo/${web.ivy.pattern}&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;artifact</span> <span class=na>pattern=</span><span class=s>&#34;http://localhost/ivyrepo/${web.artifact.pattern}&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>   <span class=nt>&lt;/url&gt;</span>
</span></span><span class=line><span class=cl>   <span class=nt>&lt;ibiblio</span> <span class=na>name=</span><span class=s>&#34;public&#34;</span> <span class=na>m2compatible=</span><span class=s>&#34;true&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/chain&gt;</span>
</span></span><span class=line><span class=cl> <span class=nt>&lt;/resolvers&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/ivysettings&gt;</span>
</span></span></code></pre></div><p>Here we use the URL resolver. Change http://localhost in &lt;ivy> and
&lt;artifact> pattern to the URL of the server.</p><div>&nbsp;</div><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-1281079745125126 data-ad-slot=6135368983></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div>&nbsp;</div><p>Apache Ivy Repository Managers</p><p>To make your shared repository setup more robust, use web based Ivy
Repository Managers like Archiva, Artifactory or Nexus. These front ends
come with a fine grained security model for repository access by the
users.</p></main></div></div><aside id=sidebar-right class=col-md-2><div class="row my-5 justify-content-center border"><div>&nbsp;</div><ins class=adsbygoogle style=display:inline-block;width:160px;height:600px data-ad-client=ca-pub-1281079745125126 data-ad-slot=8963022093></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div>&nbsp;</div></div></aside></div></div><footer class="container-fluid mt-5"><div class=row><div class="col ml-auto"><div class="row mb-1 ml-2"><a class=text-muted href=/privacy-policy>Privacy</a></div><div class="row text-muted mb-2 ml-2"><span>&copy; 2019 &#183;Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span></div></div><div class="col mr-auto"><span class=float-right><a href=# id=back_to_top><i class="icon-up-open h1 text-secondary"></i></a></span></div></div></footer><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script src=/js/vendor.min.e0afe83ba5579b9676fc5f849c1becff1395739520a7c0bc45535f04acd819c3.js></script></body></html>