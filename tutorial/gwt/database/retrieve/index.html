<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="This section of GWT Tutorial retrieves data through JDO, Hibernate and MyBatis to show that objects persisted through an ORM are retrievable through others.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "JDO – Hibernate - GWT Tutorial - CodeTab",
        "headline" : "JDO – Hibernate - GWT Tutorial - CodeTab",
        "url" : "https://www.codetab.org/tutorial/gwt/database/retrieve/",
        "description" : "This section of GWT Tutorial retrieves data through JDO, Hibernate and MyBatis to show that objects persisted through an ORM are retrievable through others.",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "[\\logo.svg$]Maithilish",
        "creator" : "[\\logo.svg$]Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "[\\logo.svg$]Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "[\\logo.svg$]Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-10T19:22:00+0530",
        "dateModified" : "2019-01-10T19:22:00+0530",
        "wordCount" : "1056",
        "keywords" : [ "jdo hibernate","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.5094155807f5e8e42efd4efe08a15d3c51025b1e28787bdea850902bf7650261.css" integrity="sha256-UJQVWAf16OQu/U7&#43;CKFdPFECWx4oeHveqFCQK/dlAmE=">

<title>JDO – Hibernate - GWT Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">GWT Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="GWT Tutorial - Complete Project - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/install/"
            class="toc-page text-wrap text-muted ">
            Install GWT in Eclipse
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/create-project/"
            class="toc-page text-wrap text-muted ">
            Project Setup
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-project-code/"
            class="toc-page text-wrap text-muted ">
            GWT Project Code
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-demo/"
            class="toc-page text-wrap text-muted ">
            GWT Tutorial Demo
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-shell" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Shell
    </a>
    
    <div id="tutorial-gwt-shell" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/finsshell/"
            class="toc-page dropdown-item text-wrap text-muted">
            UIBinder and Custom Widget
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/contentpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TabLayoutPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/gwt-logging/"
            class="toc-page dropdown-item text-wrap text-muted">
            Logging
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-menu" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Menu
    </a>
    
    <div id="tutorial-gwt-menu" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu/"
            class="toc-page dropdown-item text-wrap text-muted">
            ClientBundle
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu-parts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Anchor 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus Example
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-model" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Modle
    </a>
    
    <div id="tutorial-gwt-model" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/model/model/"
            class="toc-page dropdown-item text-wrap text-muted">
            Model
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-content" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Content
    </a>
    
    <div id="tutorial-gwt-content" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/content/"
            class="toc-page dropdown-item text-wrap text-muted">
            GWT Tutorial - Content
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-celltable/"
            class="toc-page dropdown-item text-wrap text-muted">
            CellTable
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/"
            class="toc-page dropdown-item text-wrap text-muted">
            SuggestBox
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/titlepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TitlePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/"
            class="toc-page dropdown-item text-wrap text-muted">
            UiFactory
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/factpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            FactPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            DisclosurePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/toolbar/"
            class="toc-page dropdown-item text-wrap text-muted">
            Toolbar
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/"
            class="toc-page dropdown-item text-wrap text-muted">
            DataGrid
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-chart/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google Chart
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/"
            class="toc-page dropdown-item text-wrap text-muted">
            Close Tabs
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-rpc" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        RPC
    </a>
    
    <div id="tutorial-gwt-rpc" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/"
            class="toc-page dropdown-item text-wrap text-muted">
            RPC
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/"
            class="toc-page dropdown-item text-wrap text-muted">
            Rest of RPC
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-database" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Database
    </a>
    
    <div id="tutorial-gwt-database" class="">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/setup-database/"
            class="toc-page dropdown-item text-wrap text-muted">
            Database Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/persist/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO Persistence 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/retrieve/"
            class="toc-page dropdown-item text-wrap text-danger">
            JDO and Hibernate
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/gwt-dao/"
            class="toc-page dropdown-item text-wrap text-muted">
            DAO
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-google-app-engine" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Goolge App Engine
    </a>
    
    <div id="tutorial-gwt-google-app-engine" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google App Engine
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Data Upload
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Task Queue
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Backends
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift
    </a>
    
    <div id="tutorial-gwt-openshift" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/"
            class="toc-page dropdown-item text-wrap text-muted">
            Prepare Project
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/"
            class="toc-page dropdown-item text-wrap text-muted">
            Configure
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Build and Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-development/"
            class="toc-page dropdown-item text-wrap text-muted">
            Development
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Online V3 Deployment
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-build" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Apache Ivy
    </a>
    
    <div id="tutorial-gwt-build" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/build/apache-ivy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Apache Ivy
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/database/retrieve/&amp;text=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/database/retrieve/&amp;t=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/database/retrieve/&amp;title=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/database/retrieve/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/database/retrieve/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/database/retrieve/&amp;title=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/gwt/database/retrieve/&amp;title=JDO%20%e2%80%93%20Hibernate%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            

<h2 id="8-3-retrieve">8.3. Retrieve</h2>

<p>In this section, we retrieve persisted symbols through a variety of ORM
like JDO, Hibernate and MyBatis. We do so, just to demonstrate that
objects persisted through an ORM are readily retrievable through others.</p>

<h5 id="jdo">JDO</h5>

<p>In JDO, we use <code>PersistenceManager</code> to retrieve an object from the
database.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    
    <span class="n">PersistenceManager</span> <span class="nf">pm</span> <span class="o">=</span> <span class="n">pmf</span><span class="p">.</span><span class="na">getPersistenceManager</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
       <span class="n">Symbol</span> <span class="nf">symbol</span> <span class="o">=</span> <span class="n">pm</span><span class="p">.</span><span class="na">getObjectById</span><span class="p">(</span><span class="n">Symbol</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
       <span class="c1">// use the object
</span><span class="c1"></span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
          <span class="n">pm</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
    <span class="p">}</span></code></pre></div>
<p>Sometimes, we may be like to retrieve only a certain fields of an
object, and for this, JDO supports JDOQL and SQL query. Following code
uses JDO&rsquo;s NamedQuery feature to retrieve list of symbol names from
SYMBOL table.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">  <span class="n">PersistenceManager</span> <span class="nf">pm</span> <span class="o">=</span> <span class="n">pmf</span><span class="p">.</span><span class="na">getPersistenceManager</span><span class="p">();</span>
  <span class="k">try</span> <span class="p">{</span>
      <span class="n">Query</span> <span class="nf">query</span> <span class="o">=</span> <span class="n">pm</span><span class="p">.</span><span class="na">newNamedQuery</span><span class="p">(</span><span class="n">Symbol</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="s">&#34;selectSymbolNames&#34;</span><span class="p">);</span>
      <span class="n">query</span><span class="p">.</span><span class="na">setResultClass</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
      <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">list</span> <span class="o">=</span> <span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">query</span><span class="p">.</span><span class="na">execute</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
      <span class="n">pm</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
  <span class="p">}</span></code></pre></div>
<p><strong>Query</strong> element defines the NamedQuery and its SQL.</p>

<p><code>in.fins.shared/package.jdo</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML"><span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&#34;Symbol&#34;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&#34;name&#34;</span> <span class="na">primary-key=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&#34;label&#34;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&#34;dataGroups&#34;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;element</span> <span class="na">column=</span><span class="s">&#34;symbol_name&#34;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/field&gt;</span>
   <span class="nt">&lt;query</span> <span class="na">name=</span><span class="s">&#34;selectSymbolNames&#34;</span> <span class="na">language=</span><span class="s">&#34;javax.jdo.query.JDOQL&#34;</span><span class="nt">&gt;</span>
            CDATA[
            SELECT s.name FROM in.fins.shared.Symbol s
            ]]&gt;<span class="nt">&lt;/query&gt;</span>
<span class="nt">&lt;/class&gt;</span></code></pre></div>
<h2 id="jdo-class-enhancement">JDO Class enhancement</h2>

<p>JDO uses byte-code manipulation to make normal Java classes as
persistable through a process is known as class enhancement. This
enables JDO to keep track of modifications to persistence objects so as
to trigger database update only on changes. In RStore, ant target
<strong>enhance</strong> takes care of enhancement. DataNucleus throws
<code>ClassNotPersistenceCapableException</code> when we try to persist classes
which are not enhanced.</p>

<p>Hibernate and MyBatis require no class enhancement.</p>



<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<h5 id="hibernate">Hibernate</h5>

<p>Configuration file of Hibernate is <code>hibernate.cfg.xml</code> in which we
define session factory, one for each database connection, using
<strong>session-factory</strong> element. JDBC properties are set within the
<strong>session-factory</strong> element. Whereas JDO loads the mapping file from
class path, Hibernate requires inclusion of mapping files in its
configuration file, via mapping element. Following configuration
includes three mapping files.</p>

<p><code>src/hibernate.cfg.xml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML"><span class="nt">&lt;hibernate-configuration&gt;</span>
        <span class="nt">&lt;session-factory&gt;</span>

                <span class="c">&lt;!-- Database connection settings --&gt;</span>
                   .....

                <span class="c">&lt;!-- mapping files --&gt;</span>
                <span class="nt">&lt;mapping</span> <span class="na">resource=</span><span class="s">&#34;in/fins/shared/Symbol.hbm.xml&#34;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;mapping</span> <span class="na">resource=</span><span class="s">&#34;in/fins/shared/DataGroup.hbm.xml&#34;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;mapping</span> <span class="na">resource=</span><span class="s">&#34;in/fins/shared/Data.hbm.xml&#34;</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;/session-factory&gt;</span>
<span class="nt">&lt;/hibernate-configuration&gt;</span></code></pre></div>
<p>Each hbm.xml file maps a single persistable class, and let&rsquo;s go through
<code>Symbol.hbm,xml</code> to understand Hibernate mapping concepts.</p>

<p><code>in.fins.shared/Symbol.hbm.xml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML"><span class="cp">&lt;?xml version=&#34;1.0&#34;?&gt;</span>
<span class="cp">&lt;!DOCTYPE hibernate-mapping PUBLIC
</span><span class="cp">        &#34;-//Hibernate/Hibernate Mapping DTD 3.0//EN&#34;
</span><span class="cp">        &#34;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&#34;&gt;</span>


<span class="nt">&lt;hibernate-mapping</span> <span class="na">package=</span><span class="s">&#34;in.fins.shared&#34;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&#34;Symbol&#34;</span> <span class="na">table=</span><span class="s">&#34;SYMBOL&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id</span> <span class="na">name=</span><span class="s">&#34;name&#34;</span> <span class="na">column=</span><span class="s">&#34;name&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&#34;dataGroups&#34;</span> <span class="na">cascade=</span><span class="s">&#34;all&#34;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;key</span> <span class="na">column=</span><span class="s">&#34;SYMBOL_NAME&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;list-index</span> <span class="na">column=</span><span class="s">&#34;DATAGROUPS_INTEGER_IDX&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;one-to-many</span> <span class="na">class=</span><span class="s">&#34;DataGroup&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/list&gt;</span>
    <span class="nt">&lt;/class&gt;</span>

    <span class="nt">&lt;query</span> <span class="na">name=</span><span class="s">&#34;selectSymbolNames&#34;</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[
</span><span class="cp">          select name from Symbol 
</span><span class="cp">          ]]&gt;</span>
    <span class="nt">&lt;/query&gt;</span>

<span class="nt">&lt;/hibernate-mapping&gt;</span></code></pre></div>
<p>Mapping structure is almost similar to JDO with some variations in
naming of elements and attributes. <strong>Table</strong> attribute is explicitly
mentioned in <strong>class</strong> element. An <strong>id</strong> element defines primary key
field, whereas <strong>property</strong> element defines a regular field. Attribute
<strong>type=&ldquo;serializable&rdquo;</strong> in <strong>property</strong> element serializes the field.
For 1-N relationship, <strong>list</strong> element is used with <strong>one-to-many</strong>
element where foreign key is specified with key element. <strong>Query</strong>
element specifies named query.</p>

<p>Typical Hibernate session is as shown in the following snippet from
<code>HibernateDao</code>.</p>

<p><code>in.rstore.dao.hibernate/HibernateDao.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="k">try</span> <span class="p">{</span>
                <span class="n">Configuration</span> <span class="nf">configuration</span> <span class="o">=</span>
                      <span class="k">new</span> <span class="n">Configuration</span><span class="p">().</span><span class="na">configure</span><span class="p">();</span>
                <span class="n">ServiceRegistry</span> <span class="nf">serviceRegistry</span> <span class="o">=</span> 
                      <span class="k">new</span> <span class="n">ServiceRegistryBuilder</span><span class="p">()</span>
                         <span class="p">.</span><span class="na">applySettings</span><span class="p">(</span><span class="n">configuration</span><span class="p">.</span><span class="na">getProperties</span><span class="p">())</span>
                         <span class="p">.</span><span class="na">buildServiceRegistry</span><span class="p">();</span>
                <span class="n">SessionFactory</span> <span class="nf">sf</span> <span class="o">=</span> 
                         <span class="n">configuration</span><span class="p">.</span><span class="na">buildSessionFactory</span><span class="p">(</span><span class="n">serviceRegistry</span><span class="p">);</span>

                <span class="n">Session</span> <span class="nf">session</span> <span class="o">=</span> <span class="n">sf</span><span class="p">.</span><span class="na">openSession</span><span class="p">();</span>
                <span class="n">Symbol</span> <span class="nf">symbol</span> <span class="o">=</span> <span class="p">(</span><span class="n">Symbol</span><span class="p">)</span> <span class="n">session</span><span class="p">.</span><span class="na">load</span><span class="p">(</span><span class="n">Symbol</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
                    <span class="p">....</span>

        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">HibernateException</span> <span class="nf">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="n">ExceptionInInitializerError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
                <span class="n">session</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
        <span class="p">}</span></code></pre></div>
<p><code>Configuration().configure()</code> searches for <code>hibernate.cfg.xml</code> in
classpath and configures the <code>SessionFactory</code>. <code>Session</code> obtained from
SessionFactory is used to interact with the database.
<code>Session.getNamedQuery()</code> and <code>Query.list()</code> methods are used to query
the database through NamedQuery.</p>



<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>




<h5 id="mybatis">MyBatis</h5>

<p>MyBatis is altogether a different class of ORM, which relays heavily on
SQL to map object to tables. One has to have a fair degree of SQL skill
to work with MyBatis. This section is optional and you may skip this if
you aren&rsquo;t planning to use MyBatis in your project.</p>

<p>JDO and Hibernate are the leaders in open source ORM softwares. For some
reasons, you still like to work with MyBatis, then go through the
reminder of this section.</p>

<p>MyBatis configuration file is <code>mybatis-config.xml</code>, wherein
<strong>typeAlias</strong> element provides short alias to long fully qualified class
name, <strong>environment</strong> element configures JDBC connection and <strong>mapper</strong>
element adds mapping file. Following snippet from <code>Mapper.xml</code>, shows
MyBatis mapping structure.</p>

<p><code>in.fins.shared/Mappers.xml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML"><span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&#34;mappers&#34;</span><span class="nt">&gt;</span>

        <span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;resultSymbol&#34;</span> <span class="na">type=</span><span class="s">&#34;Symbol&#34;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;name&#34;</span> <span class="na">column=</span><span class="s">&#34;name&#34;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;collection</span> <span class="na">property=</span><span class="s">&#34;dataGroups&#34;</span> <span class="na">ofType=</span><span class="s">&#34;DataGroup&#34;</span>
                        <span class="na">column=</span><span class="s">&#34;name&#34;</span> <span class="na">javaType=</span><span class="s">&#34;List&#34;</span> <span class="na">select=</span><span class="s">&#34;selectDataGroups&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/resultMap&gt;</span>
        ....

        <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;selectSymbol&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;String&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;resultSymbol&#34;</span><span class="nt">&gt;</span>
                select * from Symbol where name = #{name}
        <span class="nt">&lt;/select&gt;</span>

        <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;selectDataGroups&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;String&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;resultDataGroup&#34;</span><span class="nt">&gt;</span>
                select * from datagroup where symbol_name = #{name}
        <span class="nt">&lt;/select&gt;</span>
        ....</code></pre></div>
<p>Mapping structure is entirely different from what we have seen in JDO
and Hibernate. <strong>Select</strong> element select rows from a table via SQL The
first select element, selectSymbol selects a row whose name column
equals the input parameter and the second select element,
selectDataGroups selects rows from DATAGROUP table where column
symbol_name matches input parameter. It is important to note that,
these two statements are distinct and no way interconnected. The first
one, fetches a single Symbol object, but its List&lt;DataGroup&gt; field
will be null, and the second one, fetches a list of DataGroup. Now the
question is how to set the list to List&lt;DataGroup&gt; field of Symbol.</p>

<p>Attribute <strong>resultMap</strong> in select element, indicates that result of
select has to be handed over to a specific resultMap defined by
<strong>resultMap</strong> element, which may be used to interlinks the multiple
statements. From the result of selectSymbol statement, MyBatis
constructs a ResultMap named resultSymbol. On doing so, when it
encounters <strong>collection</strong> element in ResultMap, it fires
selectDataGroups statement to fetch a list of DataGroup which is set
Symbol.dataGroups field. ResultMap chaining, allows us to populate
DataGroup.List&lt;Data&gt; field in a similar fashion. Refer RStore&rsquo;s
Mapper.xml, for the complete listing.</p>

<p>In JDO and Hibernate, an attribute is all that is required to serialize
a field. But in MyBatis, it not possible to get away so easily.
Generally, database stores serialized object in a Binary Large Object
(BLOB) column and MyBatis gets it back as <code>Blob</code> object. It is our job
to deserialize the blob and assign it to a field. MyBatis supports a
construct, known as <code>TypeHandler</code>, for this sort of type conversion, and
RStore uses a custom type handler
<code>in.rstore.dao.mybatis.BlobTypeHandler</code> to convert Blob to List&lt;Fact&gt;</p>

<p>Next chapter integrates Fins with database using the concepts covered in
this chapter.</p>

<h5 id="forward-pointers">Forward Pointers</h5>

<p><em>DataNucleus JDO Documentation</em> - refer JDO API tab of <a href="http://www.datanucleus.org/products/accessplatform_3_2/" target="_blank">DataNucleus Access Platform</a></p>

<p><em>1-N Mapping</em> - refer <a href="http://www.datanucleus.org/products/accessplatform_3_2/jdo/orm/one_to_many_list.html" target="_blank">JDO : 1-N Relationships with
Lists</a></p>

<p><em>Class Enhancement</em> - refer <a href="http://www.datanucleus.org/products/accessplatform/jdo/enhancer.html#enhancement" target="_blank">JDO Class
enhancement</a></p>

<p><em>Hibernate</em> - refer Hibernate Core Reference Manual of latest version in
<a href="http://www.hibernate.org/docs" target="_blank">Hibernate Docs site</a></p>

<p><em>MyBatis</em> - refer <a href="http://mybatis.github.com/mybatis-3/" target="_blank">MyBatis reference
documentation</a></p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>