<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="GWT Tutorial Toolbar custom widget allows users to navigate dataset and view data for other time periods. Toolbar is composed with GWT ImageResource.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "Toolbar - GWT Tutorial - CodeTab",
        "headline" : "Toolbar - GWT Tutorial - CodeTab",
        "url" : "https://www.codetab.org/tutorial/gwt/content/toolbar/",
        "description" : "GWT Tutorial Toolbar custom widget allows users to navigate dataset and view data for other time periods. Toolbar is composed with GWT ImageResource.",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-10T20:03:00+0530",
        "dateModified" : "2019-01-10T20:03:00+0530",
        "wordCount" : "772",
        "keywords" : [ "toolbar","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.e7fd2d89f73c680873529a110a9007503a1bda864a3a3a6c53c4eb02a54c35eb.css" integrity="sha256-5/0tifc8aAhzUpoRCpAHUDob2oZKOjpsU8TrAqVMNes=">

<title>Toolbar - GWT Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">GWT Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="GWT Tutorial - Complete Project - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/install/"
            class="toc-page text-wrap text-muted ">
            Install GWT in Eclipse
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/create-project/"
            class="toc-page text-wrap text-muted ">
            Project Setup
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-project-code/"
            class="toc-page text-wrap text-muted ">
            GWT Project Code
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-demo/"
            class="toc-page text-wrap text-muted ">
            GWT Tutorial Demo
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-shell" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Shell
    </a>
    
    <div id="tutorial-gwt-shell" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/finsshell/"
            class="toc-page dropdown-item text-wrap text-muted">
            UIBinder and Custom Widget
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/contentpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TabLayoutPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/gwt-logging/"
            class="toc-page dropdown-item text-wrap text-muted">
            Logging
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-menu" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Menu
    </a>
    
    <div id="tutorial-gwt-menu" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu/"
            class="toc-page dropdown-item text-wrap text-muted">
            ClientBundle
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu-parts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Anchor 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus Example
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-model" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Modle
    </a>
    
    <div id="tutorial-gwt-model" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/model/model/"
            class="toc-page dropdown-item text-wrap text-muted">
            Model
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-content" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Content
    </a>
    
    <div id="tutorial-gwt-content" class="">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/content/"
            class="toc-page dropdown-item text-wrap text-muted">
            GWT Tutorial - Content
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-celltable/"
            class="toc-page dropdown-item text-wrap text-muted">
            CellTable
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/"
            class="toc-page dropdown-item text-wrap text-muted">
            SuggestBox
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/titlepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TitlePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/"
            class="toc-page dropdown-item text-wrap text-muted">
            UiFactory
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/factpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            FactPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            DisclosurePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/toolbar/"
            class="toc-page dropdown-item text-wrap text-danger">
            Toolbar
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/"
            class="toc-page dropdown-item text-wrap text-muted">
            DataGrid
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-chart/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google Chart
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/"
            class="toc-page dropdown-item text-wrap text-muted">
            Close Tabs
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-rpc" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        RPC
    </a>
    
    <div id="tutorial-gwt-rpc" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/"
            class="toc-page dropdown-item text-wrap text-muted">
            RPC
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/"
            class="toc-page dropdown-item text-wrap text-muted">
            Rest of RPC
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-database" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Database
    </a>
    
    <div id="tutorial-gwt-database" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/setup-database/"
            class="toc-page dropdown-item text-wrap text-muted">
            Database Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/persist/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO Persistence 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/retrieve/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO and Hibernate
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/gwt-dao/"
            class="toc-page dropdown-item text-wrap text-muted">
            DAO
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-google-app-engine" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Goolge App Engine
    </a>
    
    <div id="tutorial-gwt-google-app-engine" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google App Engine
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Data Upload
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Task Queue
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Backends
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift
    </a>
    
    <div id="tutorial-gwt-openshift" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/"
            class="toc-page dropdown-item text-wrap text-muted">
            Prepare Project
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/"
            class="toc-page dropdown-item text-wrap text-muted">
            Configure
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Build and Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-development/"
            class="toc-page dropdown-item text-wrap text-muted">
            Development
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Online V3 Deployment
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-build" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Apache Ivy
    </a>
    
    <div id="tutorial-gwt-build" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/build/apache-ivy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Apache Ivy
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/content/toolbar/&amp;text=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/content/toolbar/&amp;t=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/content/toolbar/&amp;title=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/content/toolbar/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/content/toolbar/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/content/toolbar/&amp;title=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/gwt/content/toolbar/&amp;title=Toolbar%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            <h2 id="68toolbar">6.8. Toolbar</h2>
<p>FactTable displays the latest available data for a category, but the
user may also like to view data for previous periods, and through
ToolbarItem user may navigate Forward or Backward.</p>
<figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/gwt/media/toolbar.png" alt="Toolbar" />
</figure>

<h6 id="figure611toolbar">Figure 6.11. Toolbar</h6>
<p>Following UI declaration adds <code>ToolbarItem</code> to <code> FactTable</code>.</p>
<p><code>in.fins.client.content/Snapshot.ui.xml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML">      <span class="nt">&lt;g:customCell&gt;</span>
              <span class="nt">&lt;f:FactTable</span> <span class="na">captionText=</span><span class="s">&#34;BS&#34;</span> <span class="na">category=</span><span class="s">&#34;BS&#34;</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;f:FactTable</span> <span class="na">captionText=</span><span class="s">&#34;Holding&#34;</span> <span class="na">category=</span><span class="s">&#34;Shareholding&#34;</span><span class="nt">&gt;</span>
                              <span class="nt">&lt;f:ToolbarItem</span> <span class="na">type=</span><span class="s">&#34;previous&#34;</span> <span class="na">category=</span><span class="s">&#34;Shareholding&#34;</span> <span class="nt">/&gt;</span>
                              <span class="nt">&lt;f:ToolbarItem</span> <span class="na">type=</span><span class="s">&#34;next&#34;</span> <span class="na">category=</span><span class="s">&#34;Shareholding&#34;</span> <span class="nt">/&gt;</span>
                      <span class="nt">&lt;/f:FactTable&gt;</span>
                      <span class="nt">&lt;f:ToolbarItem</span> <span class="na">type=</span><span class="s">&#34;previous&#34;</span> <span class="na">category=</span><span class="s">&#34;BS&#34;</span> <span class="nt">/&gt;</span>
                      <span class="nt">&lt;f:ToolbarItem</span> <span class="na">type=</span><span class="s">&#34;next&#34;</span> <span class="na">category=</span><span class="s">&#34;BS&#34;</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/f:FactTable&gt;</span>
      <span class="nt">&lt;/g:customCell&gt;</span>
</code></pre></div><p>This UI snippet adds ToolbarItem, forward and backward, to outer as well
as to inner FactTables.</p>
<p><code>ToolbarItem</code> is a GWT <code>Image</code> which may be tagged to a event source.
Style <em>fins-Toolbar-Image</em>  adds margin to the sides of the image</p>
<p><code>in.fins.client.widget/ToolbarItem.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ToolbarItem</span> <span class="kd">extends</span> <span class="n">Image</span> <span class="o">{</span>

        <span class="n">Object</span> <span class="n">eventSource</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">ToolbarItem</span><span class="o">(</span><span class="n">ImageResource</span> <span class="n">imageResource</span><span class="o">)</span> <span class="o">{</span>
                <span class="kd">super</span><span class="o">(</span><span class="n">imageResource</span><span class="o">);</span>
                <span class="n">setStylePrimaryName</span><span class="o">(</span><span class="s">&#34;fins-Toolbar-Image&#34;</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setEventSource</span><span class="o">(</span><span class="n">Object</span> <span class="n">eventSource</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">eventSource</span> <span class="o">=</span> <span class="n">eventSource</span><span class="o">;</span>
        <span class="o">}</span>
</code></pre></div><p>UiFactory creates ToolbarItem with different images.</p>
<p><code>in.fins.client.content/Snapshot.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="n">ToolbarItem</span> <span class="nf">toolbarItemFactory</span><span class="o">(</span><span class="n">String</span> <span class="n">type</span><span class="o">,</span> <span class="n">String</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">FinsResources</span> <span class="n">images</span> <span class="o">=</span> <span class="n">FinsResources</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">;</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;previous&#34;</span><span class="o">))</span> <span class="o">{</span>
                          <span class="o">....</span>
                        <span class="n">ToolbarItem</span> <span class="n">tbi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ToolbarItem</span><span class="o">(</span><span class="n">images</span><span class="o">.</span><span class="na">previous</span><span class="o">());</span>
                          <span class="o">....</span>
                        <span class="k">return</span> <span class="n">tbi</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;next&#34;</span><span class="o">))</span> <span class="o">{</span>
                          <span class="o">....</span>
                        <span class="n">ToolbarItem</span> <span class="n">tbi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ToolbarItem</span><span class="o">(</span><span class="n">images</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
                          <span class="o">....</span>
                        <span class="k">return</span> <span class="n">tbi</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
</code></pre></div><p><code>FactTable.add()</code> method adds them to <code>HorizontalPanel</code> of FactTable.</p>
<p><code>in.fins.client.widget/FactTable.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Widget</span> <span class="n">w</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="k">instanceof</span> <span class="n">FactTable</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">vPanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="k">instanceof</span> <span class="n">ToolbarItem</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ToolbarItem</span> <span class="n">ti</span> <span class="o">=</span> <span class="o">(</span><span class="n">ToolbarItem</span><span class="o">)</span> <span class="n">w</span><span class="o">;</span>
                        <span class="n">toolbar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
                        
                        <span class="o">....</span>
                <span class="o">}</span>
        <span class="o">}</span>
</code></pre></div>

<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<h5 id="dataaction-and-dataevent">DataAction and DataEvent</h5>
<p>On load, FactTable handles <code>SymbolEvent</code> fired by <code>SymbolAction</code> and
displays data for the latest period. <code>SymbolEvent.Symbol</code> holds data for
the latest date only as eagerly loading data for all periods is a waste
and hence it is of little use for data of other periods. Instead, an
action class has to fetch Data for previous or next date when user click
ToolbarItem and for this we require <code> DataAction</code>.</p>
<p>On each click, for Forward ToolbarItem, <code>DataAction</code> fetches Data for
the next period as offset is set to 1 and Backward does the reverse.
Instead of a date, we are using offset because FactTable doesn&rsquo;t know
the next or previous date and it knows only the date for which data is
being displayed. Further it is not a good idea to arrive next or
previous dates through some date calculation as frequency of data may
differ among categories. For example, BS,PL and Cash Flow usually
contains yearly data whereas Price, PE or PB has daily or weekly data,
and shareholding data is at random intervals. Offset takes care of all
these cases.</p>
<p>ToolbarItem UiFactory attaches an instance of DataAction to a
ToolbarItem which also sets the direction of DataAction.</p>
<p><code>in.fins.client.content/Snapshot.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="n">ToolbarItem</span> <span class="nf">toolbarItemFactory</span><span class="o">(</span><span class="n">String</span> <span class="n">type</span><span class="o">,</span> <span class="n">String</span> <span class="n">category</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">FinsResources</span> <span class="n">images</span> <span class="o">=</span> <span class="n">FinsResources</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">;</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;previous&#34;</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">DataAction</span> <span class="n">dataAction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataAction</span><span class="o">(</span><span class="n">category</span><span class="o">,</span> <span class="s">&#34;Backward&#34;</span><span class="o">,</span>
                                        <span class="n">getFilter</span><span class="o">(</span><span class="n">category</span><span class="o">));</span>
                        <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">addHandlerToSource</span><span class="o">(</span><span class="n">SymbolEvent</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span>
                                        <span class="n">dataAction</span><span class="o">);</span>
                        <span class="n">ToolbarItem</span> <span class="n">tbi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ToolbarItem</span><span class="o">(</span><span class="n">images</span><span class="o">.</span><span class="na">previous</span><span class="o">());</span>
                        <span class="n">tbi</span><span class="o">.</span><span class="na">addClickHandler</span><span class="o">(</span><span class="n">dataAction</span><span class="o">);</span>
                        <span class="n">tbi</span><span class="o">.</span><span class="na">setEventSource</span><span class="o">(</span><span class="n">dataAction</span><span class="o">);</span>
                        <span class="k">return</span> <span class="n">tbi</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;next&#34;</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">DataAction</span> <span class="n">dataAction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataAction</span><span class="o">(</span><span class="n">category</span><span class="o">,</span> <span class="s">&#34;Forward&#34;</span><span class="o">,</span>
                                        <span class="n">getFilter</span><span class="o">(</span><span class="n">category</span><span class="o">));</span>
                        <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">addHandlerToSource</span><span class="o">(</span><span class="n">SymbolEvent</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span>
                                        <span class="n">dataAction</span><span class="o">);</span>

                        <span class="n">ToolbarItem</span> <span class="n">tbi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ToolbarItem</span><span class="o">(</span><span class="n">images</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
                        <span class="n">tbi</span><span class="o">.</span><span class="na">addClickHandler</span><span class="o">(</span><span class="n">dataAction</span><span class="o">);</span>
                        <span class="n">tbi</span><span class="o">.</span><span class="na">setEventSource</span><span class="o">(</span><span class="n">dataAction</span><span class="o">);</span>
                        <span class="k">return</span> <span class="n">tbi</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
</code></pre></div><p><code>DataAction</code> implements two handlers; <code>SymbolHandler</code> and
<code>ClickHandler</code>. It handles the <code>SymbolEvent</code> fired by <code>SymbolAction</code> and
assign the Symbol to its field for later reference. ToolbarItem clicks
fires <code>ClickEvent</code> and <code>ClickHandler</code> fetches the Data from datastore
and fires a <code>DataEvent</code>.</p>
<p><code>in.fins.client.action/DataAction.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">....</span>
                <span class="n">Data</span> <span class="n">data</span> <span class="o">=</span> <span class="n">SymbolDatabase</span><span class="o">.</span><span class="na">getData</span><span class="o">(</span><span class="n">symbolName</span><span class="o">,</span> <span class="n">category</span><span class="o">,</span> <span class="n">date</span><span class="o">,</span> <span class="n">offset</span><span class="o">,</span><span class="n">filter</span><span class="o">);</span>
                <span class="o">....</span>
                <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">fireEventFromSource</span><span class="o">(</span><span class="k">new</span> <span class="n">DataEvent</span><span class="o">(</span><span class="n">data</span><span class="o">),</span> <span class="n">eventSource</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSymbolChange</span><span class="o">(</span><span class="n">SymbolEvent</span> <span class="n">symbolEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">symbol</span> <span class="o">=</span> <span class="n">symbolEvent</span><span class="o">.</span><span class="na">getSymbol</span><span class="o">();</span>
        <span class="o">}</span>
</code></pre></div>

<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>


<p>All that is left is to handle the DataEvent by FactTable.</p>
<p><code>in.fins.client.widget/FactTable.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Widget</span> <span class="n">w</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="k">instanceof</span> <span class="n">FactTable</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">vPanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="k">instanceof</span> <span class="n">ToolbarItem</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">ToolbarItem</span> <span class="n">ti</span> <span class="o">=</span> <span class="o">(</span><span class="n">ToolbarItem</span><span class="o">)</span> <span class="n">w</span><span class="o">;</span>
                        <span class="n">toolbar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">w</span><span class="o">);</span>
                        <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">addHandlerToSource</span><span class="o">(</span><span class="n">DataEvent</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span>
                                        <span class="n">ti</span><span class="o">.</span><span class="na">getEventSource</span><span class="o">(),</span> <span class="k">this</span><span class="o">);</span>
                <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDataChange</span><span class="o">(</span><span class="n">DataEvent</span> <span class="n">dataEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">Data</span> <span class="n">data</span> <span class="o">=</span> <span class="n">dataEvent</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
                <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&#34;DataEvent recd - &#34;</span> <span class="o">+</span> <span class="n">data</span><span class="o">);</span>
                <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getDate</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">date</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">DateTimeFormat</span> <span class="n">fmt</span> <span class="o">=</span> <span class="n">DateTimeFormat</span><span class="o">.</span><span class="na">getFormat</span><span class="o">(</span><span class="s">&#34;MMM yy&#34;</span><span class="o">);</span>
                        <span class="n">setHeaderText</span><span class="o">(</span><span class="n">fmt</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">));</span>
                        <span class="n">dataProvider</span><span class="o">.</span><span class="na">setList</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getFacts</span><span class="o">());</span>
                <span class="o">}</span>
                <span class="n">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="o">}</span>
</code></pre></div><p><code>FactTable.add()</code> method adds itself as handler for DataEvent, and
<code>onDataChange()</code> method sets Fact list from Data to <code>ListDataProvider</code>
to display the new data. When you navigate the data using ToolbarItem,
you may notice that data is inconsistent for any given period, and this
is because, on each access <code>SymbolDatabase</code> generates random values and
this gets rectified once we move to proper datastore in the next part.</p>
<figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/gwt/media/tb-events.png" alt="Events" />
</figure>

<h6 id="figure612events">Figure 6.12. Events</h6>
<p>With just an Image and some event wiring, we are able to design a
versatile Tool Bar. But having said so, we have to concede these Toolbar
items are inadequate for any meaningful data analysis. For easy
comparison of facts over a date range, it would be more convenient if
the data is presented in a tabular view, and for this, we have to use
Pop-up.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>