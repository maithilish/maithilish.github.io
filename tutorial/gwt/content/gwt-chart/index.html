<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="GWT Tutorial uses Google Chart Tools for data visualization. In this section, we explain the steps to integrate Google Chart Tools with GWT.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "Google Charts - GWT Tutorial - CodeTab",
        "headline" : "Google Charts - GWT Tutorial - CodeTab",
        "url" : "https://www.codetab.org/tutorial/gwt/content/gwt-chart/",
        "description" : "GWT Tutorial uses Google Chart Tools for data visualization. In this section, we explain the steps to integrate Google Chart Tools with GWT.",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-10T16:51:00+0530",
        "dateModified" : "2019-01-10T16:51:00+0530",
        "wordCount" : "635",
        "keywords" : [ "google chart","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.e7fd2d89f73c680873529a110a9007503a1bda864a3a3a6c53c4eb02a54c35eb.css" integrity="sha256-5/0tifc8aAhzUpoRCpAHUDob2oZKOjpsU8TrAqVMNes=">

<title>Google Charts - GWT Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">GWT Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="GWT Tutorial - Complete Project - CodeTab">
    
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/install/"
            class="toc-page text-wrap text-muted ">
            Install GWT in Eclipse
        </a>
    </div>
    
    
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/create-project/"
            class="toc-page text-wrap text-muted ">
            Project Setup
        </a>
    </div>
    
    
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-project-code/"
            class="toc-page text-wrap text-muted ">
            GWT Project Code
        </a>
    </div>
    
    
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-demo/"
            class="toc-page text-wrap text-muted ">
            GWT Tutorial Demo
        </a>
    </div>
    
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-shell" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Shell
    </a>
    
    <div id="tutorial-gwt-shell" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/finsshell/"
            class="toc-page dropdown-item text-wrap text-muted">
            UIBinder and Custom Widget
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/contentpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TabLayoutPanel
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/gwt-logging/"
            class="toc-page dropdown-item text-wrap text-muted">
            Logging
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-menu" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Menu
    </a>
    
    <div id="tutorial-gwt-menu" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu/"
            class="toc-page dropdown-item text-wrap text-muted">
            ClientBundle
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu-parts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Anchor 
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus Example
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-model" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Modle
    </a>
    
    <div id="tutorial-gwt-model" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/model/model/"
            class="toc-page dropdown-item text-wrap text-muted">
            Model
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-content" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Content
    </a>
    
    <div id="tutorial-gwt-content" class="">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/content/"
            class="toc-page dropdown-item text-wrap text-muted">
            GWT Tutorial - Content
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-celltable/"
            class="toc-page dropdown-item text-wrap text-muted">
            CellTable
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/"
            class="toc-page dropdown-item text-wrap text-muted">
            SuggestBox
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/titlepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TitlePanel
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/"
            class="toc-page dropdown-item text-wrap text-muted">
            UiFactory
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/factpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            FactPanel
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            DisclosurePanel
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/toolbar/"
            class="toc-page dropdown-item text-wrap text-muted">
            Toolbar
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/"
            class="toc-page dropdown-item text-wrap text-muted">
            DataGrid
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-chart/"
            class="toc-page dropdown-item text-wrap text-danger">
            Google Chart
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/"
            class="toc-page dropdown-item text-wrap text-muted">
            Close Tabs
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-rpc" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        RPC
    </a>
    
    <div id="tutorial-gwt-rpc" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/"
            class="toc-page dropdown-item text-wrap text-muted">
            RPC
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/"
            class="toc-page dropdown-item text-wrap text-muted">
            Rest of RPC
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-database" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Database
    </a>
    
    <div id="tutorial-gwt-database" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/setup-database/"
            class="toc-page dropdown-item text-wrap text-muted">
            Database Setup
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/persist/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO Persistence 
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/retrieve/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO and Hibernate
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/gwt-dao/"
            class="toc-page dropdown-item text-wrap text-muted">
            DAO
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-google-app-engine" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Goolge App Engine
    </a>
    
    <div id="tutorial-gwt-google-app-engine" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google App Engine
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Deploy
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Data Upload
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Cache
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Task Queue
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Backends
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift
    </a>
    
    <div id="tutorial-gwt-openshift" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Setup
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/"
            class="toc-page dropdown-item text-wrap text-muted">
            Prepare Project
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/"
            class="toc-page dropdown-item text-wrap text-muted">
            Configure
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Build and Deploy
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-development/"
            class="toc-page dropdown-item text-wrap text-muted">
            Development
        </a>
        
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Online V3 Deployment
        </a>
        
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-build" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Apache Ivy
    </a>
    
    <div id="tutorial-gwt-build" class="collapse">
        
        
        
        <a href="https://www.codetab.org/tutorial/gwt/build/apache-ivy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Apache Ivy
        </a>
        
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/content/gwt-chart/&amp;text=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/content/gwt-chart/&amp;t=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/content/gwt-chart/&amp;title=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/content/gwt-chart/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/content/gwt-chart/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/content/gwt-chart/&amp;title=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/gwt/content/gwt-chart/&amp;title=Google%20Charts%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            <h2 id="610chart">6.10. Chart</h2>
<p>Earlier, we designed <code>FactDisclosePanel</code> and <code>ChartPanel</code> but stopped
short of completing the actual charts as it may be difficult to grasp at
that stage. In this chapter, we are going to complete it and display
charts using Google Chart Tools also known as Google Visualization.</p>
<figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/gwt/media/chart.png" alt="Chart" />
</figure>

<h6 id="figure616chart">Figure 6.16. Chart</h6>
<h2 id="install-google-chart-tools">Install Google Chart Tools</h2>
<p>GWT SDK doesn&rsquo;t ship with Chart module, and we have to download and add
Google Chart Tools module to the project.</p>
<p>Download gwt-visualization-&lt;&lt;version&gt;&gt;.zip file from
<a href="http://code.google.com/p/gwt-google-apis/wiki/Downloads?tm=2" target="_blank">Downloads</a>
and unzip the package and copy gwt-visualization-&lt;&lt;version&gt;&gt;.jar to
<code>war/WEB-INF/lib</code> dir. Next, add the jar to project build path. Select
and right click the <code>war/WEB-INF/lib/gwt-visualization.jar</code> and in the
context menu choose <strong>Build Path</strong> → <strong>Add to Build Path</strong> to add the
library to the project build path.</p>
<p>Before going further. familiarize yourself with Google Chart Tool
through <a href="http://code.google.com/p/gwt-google-apis/wiki/VisualizationGettingStarted" target="_blank">Getting Started
Guide</a></p>
<p>To use Chart Tool, inherit the module in fins.gwt.xml file with
following line.</p>
<p><code>in.fins/fins.gwt.xml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML"><span class="nt">&lt;inherits</span> <span class="na">name=</span><span class="s">&#34;com.google.gwt.visualization.Visualization&#34;</span> <span class="nt">/&gt;</span>
</code></pre></div><p>In the half finished <code>ChartPanel</code>, we used <code>DataGroupAction</code> to fetch
data for a category for all dates available in datastore. For example,
to draw Price chart we fetch <code>DataGroup</code> for Quote category that
contains Price facts for all dates.</p>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<p> </p>
<p>Once <code>DataGroupAction</code> fetches <code>DataGroup</code>, it fires <code>DataGroupEvent</code>
which is handled by <code>onDataGroupChange()</code> method, but it is not possible
to draw the chart in this method Reason being, to load the Google Chart
Tools API module, we have to invoke the Google Ajax Loader with a
callback method, and in the call back method, we have to add the code
that is required to create the chart. Once Chart API is loaded, that
happens asynchronously, loader executes the callback method to create
and display the chart.</p>
<p> </p>
<p><code>in.fins.client.widget/ChartPanel.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="kd">public</span> <span class="nf">ChartPanel</span><span class="o">(</span><span class="n">String</span> <span class="n">title</span><span class="o">,</span> <span class="n">String</span> <span class="n">key</span><span class="o">,</span> <span class="n">String</span> <span class="n">chartWidth</span><span class="o">,</span>
                        <span class="n">String</span> <span class="n">chartHeight</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">rangeSelector</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="n">chartWidth</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">chartHeight</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">rangeSelector</span> <span class="o">=</span> <span class="n">rangeSelector</span><span class="o">;</span>

                <span class="n">sPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimplePanel</span><span class="o">();</span>
                <span class="n">initWidget</span><span class="o">(</span><span class="n">sPanel</span><span class="o">);</span>

                <span class="n">onLoadCallback</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
                        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                                <span class="n">AnnotatedTimeLine</span> <span class="n">chart</span> <span class="o">=</span> 
                                      <span class="k">new</span> <span class="n">AnnotatedTimeLine</span><span class="o">(</span><span class="n">createTable</span><span class="o">(),</span>
                                                <span class="n">createOptions</span><span class="o">(),</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">);</span>
                                <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&#34;Chart created&#34;</span><span class="o">);</span>
                                <span class="n">sPanel</span><span class="o">.</span><span class="na">setWidget</span><span class="o">(</span><span class="n">chart</span><span class="o">);</span>
                        <span class="o">}</span>
                <span class="o">};</span>
        <span class="o">}</span>
</code></pre></div><p>Call back method, <code>onLoadCallBack()</code> is a Java Runnable object that runs
in a separate thread and in its run method we create the chart.</p>
<p><code>in.fins.client.widget/ChartPanel.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="kd">protected</span> <span class="n">Options</span> <span class="nf">createOptions</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">Options</span> <span class="n">options</span> <span class="o">=</span> <span class="n">AnnotatedTimeLine</span><span class="o">.</span><span class="na">Options</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
                <span class="n">options</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;allowRedraw&#34;</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="n">options</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;displayExactValues&#34;</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="n">options</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;dateFormat&#34;</span><span class="o">,</span> <span class="s">&#34;MMM dd, yyyy&#34;</span><span class="o">);</span>
                <span class="n">options</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;displayRangeSelector&#34;</span><span class="o">,</span> <span class="n">rangeSelector</span><span class="o">);</span>
                <span class="n">options</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;fill&#34;</span><span class="o">,</span> <span class="s">&#34;20&#34;</span><span class="o">);</span>
                <span class="k">return</span> <span class="n">options</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="n">AbstractDataTable</span> <span class="nf">createTable</span><span class="o">()</span> <span class="o">{</span>

                <span class="n">DataTable</span> <span class="n">dataTable</span> <span class="o">=</span> <span class="n">DataTable</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
                <span class="n">dataTable</span><span class="o">.</span><span class="na">addColumn</span><span class="o">(</span><span class="n">ColumnType</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="s">&#34;Date&#34;</span><span class="o">);</span>
                <span class="n">dataTable</span><span class="o">.</span><span class="na">addColumn</span><span class="o">(</span><span class="n">ColumnType</span><span class="o">.</span><span class="na">NUMBER</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">title</span><span class="o">);</span>

                <span class="n">List</span><span class="o">&lt;</span><span class="n">Data</span><span class="o">&gt;</span> <span class="n">dataList</span> <span class="o">=</span> <span class="n">dataGroup</span><span class="o">.</span><span class="na">getDataList</span><span class="o">();</span>
                <span class="n">dataTable</span><span class="o">.</span><span class="na">addRows</span><span class="o">(</span><span class="n">dataList</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>

                <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">dataList</span><span class="o">);</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">dataList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                        <span class="n">Data</span> <span class="n">data</span> <span class="o">=</span> <span class="n">dataList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                        <span class="n">dataTable</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getDate</span><span class="o">());</span>
                        <span class="k">for</span> <span class="o">(</span><span class="n">Fact</span> <span class="n">fact</span> <span class="o">:</span> <span class="n">data</span><span class="o">.</span><span class="na">getFacts</span><span class="o">())</span> <span class="o">{</span>
                                <span class="k">if</span> <span class="o">(</span><span class="n">fact</span><span class="o">.</span><span class="na">getKey</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">{</span>
                                        <span class="k">try</span> <span class="o">{</span>
                                                <span class="kt">double</span> <span class="n">value</span> 
                                             <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">fact</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
                                                <span class="n">dataTable</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">1</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
                                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                                        <span class="o">}</span>
                                <span class="o">}</span>
                        <span class="o">}</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="n">dataTable</span><span class="o">;</span>
       <span class="o">}</span>
</code></pre></div><p>Method <code>createOptions()</code> returns Options which are used to configure the
chart. Various configuration options for each Chart type is available in
<a href="https://developers.google.com/chart/interactive/docs/gallery" target="_blank">Chart
Gallery</a>.
Method <code>createTable()</code> returns <code>DataTable</code> of two columns, one for date
and another for the number. This method, traverses <code>List&lt;Data&gt;</code> and sets
the date from each Data to the first column and gets matching fact from
List&lt;Fact&gt; and sets its value to the second column.</p>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>


<p>Let&rsquo;s understand how Ajax Loader executes the callback method
<code>onLoadCallback()</code>.</p>
<p><code>in.fins.client.widget/ChartPanel.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDataGroupChange</span><span class="o">(</span><span class="n">DataGroupEvent</span> <span class="n">dataGroupEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&#34;dataGroupEvent received. Load charts &#34;</span><span class="o">);</span>
                <span class="n">dataGroup</span> <span class="o">=</span> <span class="n">dataGroupEvent</span><span class="o">.</span><span class="na">getDataGroup</span><span class="o">();</span>
                <span class="n">VisualizationUtils</span><span class="o">.</span><span class="na">loadVisualizationApi</span><span class="o">(</span><span class="n">onLoadCallback</span><span class="o">,</span>
                                <span class="n">AnnotatedTimeLine</span><span class="o">.</span><span class="na">PACKAGE</span><span class="o">);</span>
        <span class="o">}</span>
</code></pre></div><p>In handler method <code> onDataGroupChange()</code>, DataGroup is retrieved from
DataGroupEvent and assigned to dataGroup field. Next, we call
<code>VisualizationUtils loadVisulationApi()</code> method by passing <code>Runnable</code>
object created earlier as callback. VisualizationUtils uses Ajax loader
to load the Visualization API, and after it loads the API, it calls the
runnable object (i.e. onLoadCallBack method) to create the chart.</p>
<p>In the next section, which is the closing section of Part 1 of the book,
we take a look at tab closing.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>