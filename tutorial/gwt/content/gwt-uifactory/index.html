<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="GWT UiFactory is an extended way to construct GWT Widgets. In GWT UiFactory, a factory method creates the widget and hand it over to UiBinder.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/www.codetab.org\/"
        },
        "articleSection" : "tutorial",
        "name" : "UiFactory - GWT Tutorial - CodeTab",
        "headline" : "UiFactory - GWT Tutorial - CodeTab",
        "description" : "GWT UiFactory is an extended way to construct GWT Widgets. In GWT UiFactory, a factory method creates the widget and hand it over to UiBinder.",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-10 20:11:00 \x2b0530 IST",
        "dateModified" : "2019-01-10 20:11:00 \x2b0530 IST",
        "url" : "\/tutorial\/gwt\/content\/gwt-uifactory\/",
        "wordCount" : "946",
        "keywords" : [ "gwt uifactory","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.5094155807f5e8e42efd4efe08a15d3c51025b1e28787bdea850902bf7650261.css" integrity="sha256-UJQVWAf16OQu/U7&#43;CKFdPFECWx4oeHveqFCQK/dlAmE=">

<title>UiFactory - GWT Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">GWT Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="GWT Tutorial - Complete Project - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/introduction/"
            class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/install/"
            class="toc-page text-muted ">
            Install GWT in Eclipse
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/create-project/"
            class="toc-page text-muted ">
            Project Setup
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-project-code/"
            class="toc-page text-muted ">
            GWT Project Code
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-demo/"
            class="toc-page text-muted ">
            GWT Tutorial Demo
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-shell" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Shell
    </a>
    
    <div id="tutorial-gwt-shell" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/finsshell/"
            class="toc-page dropdown-item text-muted">
            UIBinder and Custom Widget
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/contentpanel/"
            class="toc-page dropdown-item text-muted">
            TabLayoutPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/gwt-logging/"
            class="toc-page dropdown-item text-muted">
            Logging
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-menu" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Menu
    </a>
    
    <div id="tutorial-gwt-menu" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu/"
            class="toc-page dropdown-item text-muted">
            ClientBundle
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu-parts/"
            class="toc-page dropdown-item text-muted">
            Anchor 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/"
            class="toc-page dropdown-item text-muted">
            EventBus
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/"
            class="toc-page dropdown-item text-muted">
            EventBus Example
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-model" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Modle
    </a>
    
    <div id="tutorial-gwt-model" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/model/model/"
            class="toc-page dropdown-item text-muted">
            Model
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-content" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Content
    </a>
    
    <div id="tutorial-gwt-content" class="">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/content/"
            class="toc-page dropdown-item text-muted">
            GWT Tutorial - Content
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-celltable/"
            class="toc-page dropdown-item text-muted">
            CellTable
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/"
            class="toc-page dropdown-item text-muted">
            SuggestBox
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/titlepanel/"
            class="toc-page dropdown-item text-muted">
            TitlePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/"
            class="toc-page dropdown-item text-danger">
            UiFactory
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/factpanel/"
            class="toc-page dropdown-item text-muted">
            FactPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/"
            class="toc-page dropdown-item text-muted">
            DisclosurePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/toolbar/"
            class="toc-page dropdown-item text-muted">
            Toolbar
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/"
            class="toc-page dropdown-item text-muted">
            DataGrid
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-chart/"
            class="toc-page dropdown-item text-muted">
            Google Chart
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/"
            class="toc-page dropdown-item text-muted">
            Close Tabs
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-rpc" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        RPC
    </a>
    
    <div id="tutorial-gwt-rpc" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/"
            class="toc-page dropdown-item text-muted">
            RPC
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/"
            class="toc-page dropdown-item text-muted">
            Rest of RPC
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-database" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Database
    </a>
    
    <div id="tutorial-gwt-database" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/setup-database/"
            class="toc-page dropdown-item text-muted">
            Database Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/persist/"
            class="toc-page dropdown-item text-muted">
            JDO Persistence 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/retrieve/"
            class="toc-page dropdown-item text-muted">
            JDO and Hibernate
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/gwt-dao/"
            class="toc-page dropdown-item text-muted">
            DAO
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-google-app-engine" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Goolge App Engine
    </a>
    
    <div id="tutorial-gwt-google-app-engine" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/"
            class="toc-page dropdown-item text-muted">
            Google App Engine
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/"
            class="toc-page dropdown-item text-muted">
            App Engine Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/"
            class="toc-page dropdown-item text-muted">
            GAE Data Upload
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/"
            class="toc-page dropdown-item text-muted">
            App Engine Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/"
            class="toc-page dropdown-item text-muted">
            App Engine Task Queue
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/"
            class="toc-page dropdown-item text-muted">
            GAE Backends
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift
    </a>
    
    <div id="tutorial-gwt-openshift" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift/"
            class="toc-page dropdown-item text-muted">
            OpenShift Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/"
            class="toc-page dropdown-item text-muted">
            Prepare Project
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/"
            class="toc-page dropdown-item text-muted">
            Configure
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/"
            class="toc-page dropdown-item text-muted">
            Build and Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-development/"
            class="toc-page dropdown-item text-muted">
            Development
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/"
            class="toc-page dropdown-item text-muted">
            OpenShift Online V3 Deployment
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-build" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Apache Ivy
    </a>
    
    <div id="tutorial-gwt-build" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/build/apache-ivy/"
            class="toc-page dropdown-item text-muted">
            Apache Ivy
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/&amp;text=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/&amp;t=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/&amp;title=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/&amp;title=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/&amp;title=UiFactory%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<h2 id="6-4-uifactory">6.4. UiFactory</h2>

<p>UiBinder constructs a widget in multiple ways, and they fall into two
categories.</p>

<ul>
<li><p>UiBinder creates the widget and insert it to UI structure.</p></li>

<li><p>Application code creates the widget and hand it over to UiBinder to
insert it to UI structure.</p></li>
</ul>

<h5 id="widget-creation-delegated-to-uibinder">Widget creation delegated to UiBinder</h5>

<p>This is of two types - without value attributes and with value
attributes.</p>

<p><strong>Without value attributes</strong> - For <code>&lt;f:TitlePanel ui:field=”titlePanel”
/&gt;</code>, UiBinder uses default constructor of TitlePanel to create the
widget.</p>

<p><strong>With value attributes and @UiConstructor</strong> - For <code>&lt;f:TitlePanel
ui:field=”titlePanel” myText=”some text” /&gt;</code>, UiBinder looks for a
constructor annotated with @UiConstructor and if there is one with
matching parameters then uses it to create the widget.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiConstructor</span>
        <span class="kd">public</span> <span class="nf">TitlePanel</span><span class="p">(</span><span class="n">String</span> <span class="nf">myText</span><span class="p">){</span>
                <span class="n">initWidget</span><span class="p">(</span><span class="n">binder</span><span class="p">.</span><span class="na">createAndBindUi</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
                <span class="n">label</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="n">myText</span><span class="p">);</span>
        <span class="p">}</span></code></pre></div>
<p><strong>With value attributes and setter methods</strong> - In case there is no
constructor that fulfills the above conditions, then UiBinder requires a
setter method to set the value of the attribute. In the previous
example, UiBinder looks for method <code>setMyText()</code>. It is important to
note that UiBinder calls the setter once widget is instantiated.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="kd">public</span> <span class="nf">TitlePanel</span><span class="p">(){</span>
                <span class="n">initWidget</span><span class="p">(</span><span class="n">binder</span><span class="p">.</span><span class="na">createAndBindUi</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="kd">public</span> <span class="nf">void</span> <span class="n">setMyText</span><span class="p">(</span><span class="n">String</span> <span class="nf">myText</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">label</span><span class="p">.</span><span class="na">text</span> <span class="o">=</span> <span class="n">myText</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>
<h5 id="create-widget-and-handover-it-to-uibinder">Create Widget and handover it to UiBinder</h5>

<p>In this method, we have to create the widget and handover it to UiBinder
which adds the widget to UI structure as defined in ui.xml, and there
are two ways to do this.</p>

<p><strong>Field marked with @UiField(provided=true)</strong> - In case field is marked
with <code>@UiField(provided=true)</code> then we have to instantiate the widget
before calling <code>UiBinder.createAndBindUi()</code> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiField</span><span class="p">(</span><span class="n">provided</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
        <span class="n">Image</span> <span class="nf">image</span><span class="p">;</span>

        <span class="kd">public</span> <span class="nf">SomeWidget</span><span class="p">()</span> <span class="p">{</span>

                <span class="c1">// create image and then call createAndBind
</span><span class="c1"></span>
                <span class="n">image</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Image</span><span class="p">(</span><span class="n">imageResource</span><span class="p">);</span>        
                <span class="n">initWidget</span><span class="p">(</span><span class="n">binder</span><span class="p">.</span><span class="na">createAndBindUi</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
        <span class="p">}</span></code></pre></div>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>




<h3 id="gwt-uifactory">GWT UiFactory</h3>

<p>In case you wish to bypass the above mentioned constructors i.e. default
constructor or UiConstructor or constructor plus setter methods, then
use <code>@UiFactory</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">TitlePanel</span> <span class="n">titlePanelFactory</span><span class="p">(</span><span class="n">String</span> <span class="nf">myText</span><span class="p">){</span>
                <span class="n">TitlePanel</span> <span class="nf">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TitlePanel</span><span class="p">();</span>

                <span class="c1">// any other code
</span><span class="c1"></span>
                <span class="k">return</span> <span class="n">tp</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>
<p>This factory method has to be added to java file where TitlePanel is
used and not in TitlePanel.java. Once factory method is defined then we
have to, instantiate and return proper widget, and Uibinder adds the
widget returned by the factory method to UI Tree. We are free to add any
other logic within in factory method.</p>

<p>GWT UiFactory is suitable when we want to handle multiple instances of a
widget in a uniform manner. Let&rsquo;s imagine, we have three instances of
Zwidget then using UiField to attach a handler results in following code</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiField</span>
        <span class="n">ZWidget</span>  <span class="nf">w1</span><span class="p">,</span>  <span class="n">w2</span><span class="p">,</span> <span class="n">w3</span><span class="p">;</span>

        <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandler</span><span class="p">(</span><span class="n">SomeEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="n">w1</span><span class="p">);</span>
        <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandler</span><span class="p">(</span><span class="n">SomeEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="n">w2</span><span class="p">);</span>
        <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandler</span><span class="p">(</span><span class="n">SomeEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="n">w3</span><span class="p">);</span></code></pre></div>
<p>UiFactory compacts the code as</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">ZWidget</span> <span class="n">zFactory</span><span class="p">(){</span>
                <span class="n">ZWidget</span> <span class="nf">w</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ZWidget</span><span class="p">();</span>
                <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandler</span><span class="p">(</span><span class="n">SomeEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="n">zw</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">w</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>
<p>Before creating a widget UiBinder checks whether there is a factory
method that returns the widget and if there is one, it uses that method
to obtain the widget instead creating one. It is our job to create and
return the widget in the factory method, and we may add any other logic
inside the factory method.</p>

<p>With that brief introduction to GWT UiFactory we now move to create
<code>AutoSuggest</code> and <code>TitlePanel</code> with UiFactory. First remove the handler
added in the constructor of Snapshot and add factories.</p>

<p><code>in.fins.client.content/Snapshot.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">AutoSuggest</span> <span class="n">autoSuggestFactory</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">AutoSuggest</span> <span class="nf">autoSuggest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AutoSuggest</span><span class="p">();</span>
                <span class="k">return</span> <span class="n">autoSuggest</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">TitlePanel</span> <span class="n">titlePanelFactory</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">TitlePanel</span> <span class="nf">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TitlePanel</span><span class="p">();</span>
                <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandler</span><span class="p">(</span><span class="n">NameEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="n">tp</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">tp</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>
<p>UiFactory for <code>AutoSuggest</code> and <code>TitlePanel</code> is unnecessary, but soon we
are going have widgets with dozens of instances and as explained earlier
using UiFactory for such widgets makes a lot of sense. For the sake of
uniformity and also to make readers comfortable with @UiFactory we have
used them even, for widgets with single instances like AutoSuggest and
TitlePanel.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/gwt/media/uif-events.png" alt="Event wiring" />
</figure>


<h6 id="figure-6-2-event-wiring">Figure 6.2. Event wiring</h6>

<p>Access the application and test event by selecting a symbol name in
suggestion box and on TitlePanel displays the name, and it seems things
are working as expected. Test it further by selecting Symbol menu to
open a second tab and then select a name and this causes TitlePanel in
other tabs to display selected name. NameEvent fired by
<code>AutoSelection.handleSelection()</code> propagates also to TitlePanel in other
tabs.</p>

<p>This is bound happen as we told the <code>EventBus</code> that <code>TitlePanel</code> is
interested in <code>NameEvent</code>. EventBus dispatches the NameEvent to each and
every TitlePanel and thats why event fired by Tab 2 updates
Tab2-TitlePanel as well as in Tab1-TitlePanel.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/gwt/media/uif-events2.png" alt="Event broadcast" />
</figure>


<h6 id="figure-6-3-event-broadcast">Figure 6.3. Event broadcast</h6>

<p>Event generated by widgets in one tab should be dispatched to interested
widgets in that tab only, and events should not propagate to other tabs.</p>

<p>EventBus API provides two methods exactly for this.</p>

<ul>
<li><p>fireEventFromSource(event, source)</p></li>

<li><p>addHandlerToSource(type, source, handler)</p></li>
</ul>

<p>These methods tag event to a source and listens only for events which
are tagged to a specific source.</p>

<p><code>in.fins.client.content/Snapshot.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">AutoSuggest</span> <span class="n">autoSuggestFactory</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">AutoSuggest</span> <span class="nf">autoSuggest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AutoSuggest</span><span class="p">();</span>
                <span class="n">autoSuggest</span><span class="p">.</span><span class="na">setEventSource</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">autoSuggest</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nd">@UiFactory</span>
        <span class="kd">public</span> <span class="nf">TitlePanel</span> <span class="n">titlePanelFactory</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">TitlePanel</span> <span class="nf">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TitlePanel</span><span class="p">();</span>
                <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">addHandlerToSource</span><span class="p">(</span><span class="n">NameEvent</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="n">tp</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">tp</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>
<p><code>in.fins.client.widget/AutoSuggest.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="kd">private</span> <span class="nf">Object</span> <span class="n">eventSource</span><span class="p">;</span>

<span class="p">....</span>


        <span class="nd">@UiHandler</span><span class="p">(</span><span class="s">&#34;suggestBox&#34;</span><span class="p">)</span>
        <span class="kd">public</span> <span class="nf">void</span> <span class="n">handleSelection</span><span class="p">(</span><span class="n">SelectionEvent</span><span class="o">&lt;</span><span class="n">SuggestOracle</span><span class="p">.</span><span class="na">Suggestion</span><span class="o">&gt;</span> <span class="nf">s</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">log</span><span class="p">.</span><span class="na">fine</span><span class="p">(</span><span class="s">&#34;Selection : &#34;</span> <span class="o">+</span> <span class="n">suggestBox</span><span class="p">.</span><span class="na">getText</span><span class="p">());</span>
                <span class="n">EventBus</span><span class="p">.</span><span class="na">get</span><span class="p">().</span><span class="na">fireEventFromSource</span><span class="p">(</span><span class="k">new</span> <span class="n">NameEvent</span><span class="p">(</span><span class="n">suggestBox</span><span class="p">.</span><span class="na">getText</span><span class="p">()),</span>
                                <span class="n">eventSource</span><span class="p">);</span>
                <span class="n">suggestBox</span><span class="p">.</span><span class="na">setText</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">public</span> <span class="nf">void</span> <span class="n">setEventSource</span><span class="p">(</span><span class="n">Object</span> <span class="nf">eventSource</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="na">eventSource</span> <span class="o">=</span> <span class="n">eventSource</span><span class="p">;</span>
        <span class="p">}</span></code></pre></div>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<p>Snapshot is used as eventSource because it is visible to both
AutoSuggest and TitlePanel. Now AutoSuggest fires NameEvent tagged to a
Snapshot instance, and TitlePanel handles NameEvent tagged with that
Snapshot instance and with this Snapshot tab is no longer interested in
NameEvent originated in other tabs.</p>

<h2 id="constructor-or-uifactory">Constructor or UiFactory</h2>

<p>Less widget instances or instance behavior is heterogeneous go for
constructor.</p>

<p>Multiple widget instances and instances have similar behavior then go
for UiFactory.</p>

<p>Next section designs FactPanel to display some facts about the Symbol
selected by the user.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>