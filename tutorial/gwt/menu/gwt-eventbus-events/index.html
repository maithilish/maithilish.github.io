<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="GWT EventBus mechanism, introduced in GWT 2.1, is an elegant way to decouple events source and handler. GWT Tutorial extensively uses GWT EventBus.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://google.com/article"
        },
        "articleSection" : "tutorial",
        "name" : "EventBus - GWT Tutorial - CodeTab",
        "headline" : "EventBus - GWT Tutorial - CodeTab",
        "url" : "https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/",
        "description" : "GWT EventBus mechanism, introduced in GWT 2.1, is an elegant way to decouple events source and handler. GWT Tutorial extensively uses GWT EventBus.",
        "inLanguage" : "en",
        "image": "https://www.codetab.org/logo.jpg",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": {
            "@type": "Organization",
            "name": "Maithilish",
            "url": "https://www.codetab.org/",
            "logo": {
               "@type": "ImageObject",
               "url": "https://www.codetab.org/logo.png",
               "width":"200",
               "height":"200"
            }
        },
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-10T11:54:00+0530",
        "dateModified" : "2019-01-10T11:54:00+0530",
        "wordCount" : "817",
        "keywords" : [ "gwt eventbus","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.e7fd2d89f73c680873529a110a9007503a1bda864a3a3a6c53c4eb02a54c35eb.css" integrity="sha256-5/0tifc8aAhzUpoRCpAHUDob2oZKOjpsU8TrAqVMNes=">

<title>EventBus - GWT Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>

  <div class="row">
    
    <aside id="sidebar" class="col-md-3">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">GWT Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="GWT Tutorial - Complete Project - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/introduction/"
            class="toc-page text-wrap text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/install/"
            class="toc-page text-wrap text-muted ">
            Install GWT in Eclipse
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/create-project/"
            class="toc-page text-wrap text-muted ">
            Project Setup
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-project-code/"
            class="toc-page text-wrap text-muted ">
            GWT Project Code
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/gwt/gwt-demo/"
            class="toc-page text-wrap text-muted ">
            GWT Tutorial Demo
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-shell" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Shell
    </a>
    
    <div id="tutorial-gwt-shell" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/finsshell/"
            class="toc-page dropdown-item text-wrap text-muted">
            UIBinder and Custom Widget
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/contentpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TabLayoutPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/shell/gwt-logging/"
            class="toc-page dropdown-item text-wrap text-muted">
            Logging
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-menu" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Menu
    </a>
    
    <div id="tutorial-gwt-menu" class="">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu/"
            class="toc-page dropdown-item text-wrap text-muted">
            ClientBundle
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/menu-parts/"
            class="toc-page dropdown-item text-wrap text-muted">
            Anchor 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/"
            class="toc-page dropdown-item text-wrap text-danger">
            EventBus
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/"
            class="toc-page dropdown-item text-wrap text-muted">
            EventBus Example
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-model" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Modle
    </a>
    
    <div id="tutorial-gwt-model" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/model/model/"
            class="toc-page dropdown-item text-wrap text-muted">
            Model
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-content" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Content
    </a>
    
    <div id="tutorial-gwt-content" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/content/"
            class="toc-page dropdown-item text-wrap text-muted">
            GWT Tutorial - Content
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-celltable/"
            class="toc-page dropdown-item text-wrap text-muted">
            CellTable
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/"
            class="toc-page dropdown-item text-wrap text-muted">
            SuggestBox
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/titlepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            TitlePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/"
            class="toc-page dropdown-item text-wrap text-muted">
            UiFactory
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/factpanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            FactPanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/"
            class="toc-page dropdown-item text-wrap text-muted">
            DisclosurePanel
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/toolbar/"
            class="toc-page dropdown-item text-wrap text-muted">
            Toolbar
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/"
            class="toc-page dropdown-item text-wrap text-muted">
            DataGrid
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-chart/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google Chart
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/"
            class="toc-page dropdown-item text-wrap text-muted">
            Close Tabs
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-rpc" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        RPC
    </a>
    
    <div id="tutorial-gwt-rpc" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/"
            class="toc-page dropdown-item text-wrap text-muted">
            RPC
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/"
            class="toc-page dropdown-item text-wrap text-muted">
            Rest of RPC
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-database" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Database
    </a>
    
    <div id="tutorial-gwt-database" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/setup-database/"
            class="toc-page dropdown-item text-wrap text-muted">
            Database Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/persist/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO Persistence 
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/retrieve/"
            class="toc-page dropdown-item text-wrap text-muted">
            JDO and Hibernate
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/database/gwt-dao/"
            class="toc-page dropdown-item text-wrap text-muted">
            DAO
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-google-app-engine" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Goolge App Engine
    </a>
    
    <div id="tutorial-gwt-google-app-engine" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/"
            class="toc-page dropdown-item text-wrap text-muted">
            Google App Engine
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Data Upload
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/"
            class="toc-page dropdown-item text-wrap text-muted">
            App Engine Task Queue
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/"
            class="toc-page dropdown-item text-wrap text-muted">
            GAE Backends
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift
    </a>
    
    <div id="tutorial-gwt-openshift" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/"
            class="toc-page dropdown-item text-wrap text-muted">
            Prepare Project
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/"
            class="toc-page dropdown-item text-wrap text-muted">
            Configure
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Build and Deploy
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-development/"
            class="toc-page dropdown-item text-wrap text-muted">
            Development
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/"
            class="toc-page dropdown-item text-wrap text-muted">
            OpenShift Online V3 Deployment
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-gwt-build" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Apache Ivy
    </a>
    
    <div id="tutorial-gwt-build" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/gwt/build/apache-ivy/"
            class="toc-page dropdown-item text-wrap text-muted">
            Apache Ivy
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
    </aside>

    <div id="contentbar" class="col-md-7">
        <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/&amp;text=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/&amp;t=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/&amp;title=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/&amp;title=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/&amp;title=EventBus%20-%20GWT%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
        <div class="row">
          <main id="content" class="col-md-11 post-basic">
            <h2 id="43gwt-eventbus-and-events">4.3. GWT EventBus and Events</h2>
<p><code>ContentPanel</code> has to listen for <code>MenuItem</code> clicks and add tab with
appropriate content.</p>
<h5 id="traditional-event-handling">Traditional Event Handling</h5>
<p>Implement ClickHandler in ContentPanel with the following modifications.</p>
<p><code>in.fins.client.widget/ContentPanel.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="o">....</span>

<span class="kn">import</span> <span class="nn">com.google.gwt.event.dom.client.ClickEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.event.dom.client.ClickHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.user.client.ui.Anchor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.user.datepicker.client.DateBox</span><span class="o">;</span>

<span class="o">.....</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ContentPanel</span> <span class="kd">extends</span> <span class="n">ResizeComposite</span> <span class="kd">implements</span> <span class="n">ClickHandler</span>

<span class="o">....</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
   <span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="o">((</span><span class="n">Anchor</span><span class="o">)</span> <span class="n">event</span><span class="o">.</span><span class="na">getSource</span><span class="o">()).</span><span class="na">getText</span><span class="o">();</span>
   <span class="n">addTab</span><span class="o">(</span><span class="n">text</span><span class="o">,</span> <span class="k">new</span> <span class="n">DateBox</span><span class="o">());</span>
  <span class="o">}</span>

<span class="o">....</span>
</code></pre></div><p><code>DateBox</code> is a placeholder, and actual content replaces it later.</p>
<p>In MenuBar class add a method <code>addClickHandler()</code> which sets click
handler for each and every anchor embedded in <code>StackLayoutPanel</code>. It
iterates through the LayoutPanels and adds the handler to all MenuItems.</p>
<p><code>in.fins.client.widget/MenuBar.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="o">....</span>

<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.user.client.ui.LayoutPanel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.user.client.ui.HasWidgets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.event.dom.client.ClickHandler</span><span class="o">;</span>

<span class="o">....</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">addClickHandler</span><span class="o">(</span><span class="n">ClickHandler</span> <span class="n">clickHandler</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Widget</span> <span class="n">widget</span> <span class="o">=</span> <span class="n">getWidget</span><span class="o">();</span>
    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="o">((</span><span class="n">HasWidgets</span><span class="o">)</span> <span class="n">widget</span><span class="o">).</span><span class="na">iterator</span><span class="o">();</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
         <span class="n">Widget</span> <span class="n">w</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
         <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="k">instanceof</span> <span class="n">LayoutPanel</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="n">it1</span> <span class="o">=</span> <span class="o">((</span><span class="n">HasWidgets</span><span class="o">)</span> <span class="n">w</span><span class="o">).</span><span class="na">iterator</span><span class="o">();</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">it1</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">Widget</span> <span class="n">menuItem</span> <span class="o">=</span> <span class="n">it1</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">menuItem</span> <span class="k">instanceof</span> <span class="n">MenuItem</span><span class="o">)</span> <span class="o">{</span>
               <span class="o">((</span><span class="n">MenuItem</span><span class="o">)</span> <span class="n">menuItem</span><span class="o">).</span><span class="na">anchor</span>
               <span class="o">.</span><span class="na">addClickHandler</span><span class="o">(</span><span class="n">clickHandler</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
         <span class="o">}</span>
     <span class="o">}</span>
<span class="o">}</span>

<span class="o">....</span>
</code></pre></div><p>Link ContentPanel and MenuBar by calling <code>addClickHandler()</code> method in
<code>FinsShell.java</code> .</p>
<p><code>in.fins.client.content/FinsShell.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="o">....</span>

<span class="kn">import</span> <span class="nn">in.fins.client.widget.MenuBar</span><span class="o">;</span>

<span class="o">....</span>

<span class="nd">@UiField</span>
<span class="n">MenuBar</span> <span class="n">menuBar</span><span class="o">;</span>

<span class="kd">public</span> <span class="nf">FinsShell</span><span class="o">()</span> <span class="o">{</span>

<span class="o">....</span>

  <span class="n">contentPanel</span><span class="o">.</span><span class="na">addTab</span><span class="o">(</span><span class="s">&#34;Home&#34;</span><span class="o">,</span> <span class="k">new</span> <span class="n">DateBox</span><span class="o">());</span>

  <span class="n">menuBar</span><span class="o">.</span><span class="na">addClickHandler</span><span class="o">(</span><span class="n">contentPanel</span><span class="o">);</span>
<span class="o">}</span>

<span class="o">....</span>
</code></pre></div>

<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<p> </p>
<p>With this, menu adds tab to ContentPanel.</p>
<p>This is the traditional way to handle events which directly couples
MenuBar and ContentPanel. <code>EventBus</code> mechanism, introduced in GWT 2.1,
is an elegant way to decouple events source and handler. Revert back the
modifications done in this section i.e. remove ClickHandler
implementation in <code>ContentPanel.java</code>, <code>addClickHandler()</code> method in
<code>MenuBar.java</code> and method call in <code>FinsShell.java</code>, and we ready to look
at GWT EventBus.</p>
<p> </p>
<h5 id="gwt-eventbus">GWT EventBus</h5>
<p>GWT EventBus allows objects to interact without having direct
dependencies upon one another, and with this event sources no longer
require to maintain handler lists. Typically an application will have
one <code>EventBus</code>, which carries the events broadcast by event sources.</p>
<p>Create a new package <figure class="text-center" >
  <img class="lazy img-fluid" data-src="/tutorial/gwt/media/package.png" alt="" />
</figure>
<code>in.fins.client.event</code> to
hold events and their handlers classes. First task is to create an
application wide <code>EventBus</code>. Add <code>EventBus.java</code> to
<code>in.fins.client.event</code> package.</p>
<p><code>in.fins.client.event/EventBus.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">package</span> <span class="nn">in.fins.client.event</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.gwt.core.client.GWT</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.event.shared.SimpleEventBus</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EventBus</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nf">EventBus</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">SimpleEventBus</span> <span class="n">INSTANCE</span> <span class="o">=</span> <span class="n">GWT</span>
            <span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">SimpleEventBus</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">SimpleEventBus</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">INSTANCE</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>It is a singleton which return an instance of <code>SimpleEventBus</code>.</p>
<p>Next we require <code>MenuEvent</code>, that has to fire when user clicks
<code>MenuItem</code>. Add <code>MenuEvent</code> to <code>in.fins.client.event</code> package. Eclipse
shows some error about MenuHandler which may be ignored as we are going
to add it in the next step.</p>
<p><code>in.fins.client.event/MenuEvent.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">package</span> <span class="nn">in.fins.client.event</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.web.bindery.event.shared.Event</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MenuEvent</span> <span class="kd">extends</span> <span class="n">Event</span><span class="o">&lt;</span><span class="n">MenuHandler</span><span class="o">&gt;</span> <span class="o">{</span>                       
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Type</span><span class="o">&lt;</span><span class="n">MenuHandler</span><span class="o">&gt;</span> <span class="n">TYPE</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Type</span><span class="o">&lt;</span><span class="n">MenuHandler</span><span class="o">&gt;();</span>    
        <span class="kd">private</span> <span class="n">String</span> <span class="n">menu</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MenuEvent</span><span class="o">(</span><span class="n">String</span> <span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">menu</span> <span class="o">=</span> <span class="n">menu</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getMenu</span><span class="o">()</span> <span class="o">{</span> 
        <span class="k">return</span> <span class="n">menu</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Type</span><span class="o">&lt;</span><span class="n">MenuHandler</span><span class="o">&gt;</span> <span class="nf">getAssociatedType</span><span class="o">()</span> <span class="o">{</span>                           
                <span class="k">return</span> <span class="n">TYPE</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">dispatch</span><span class="o">(</span><span class="n">MenuHandler</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>                           
        <span class="n">handler</span><span class="o">.</span><span class="na">onMenuSelection</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div><table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><p><img src="../media/1.png" alt="1" class="callout" /></p></td>
<td style="text-align: left;"><div class="para">
extends <code class="classname">Event&lt;MenuHandler&gt;</code> and implements its two methods
</div></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p><img src="../media/2.png" alt="2" class="callout" /></p></td>
<td style="text-align: left;"><div class="para">
<code class="classname">Type</code> associated with this event is <span class="interface">MenuHandler</span>
</div></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p><img src="../media/3.png" alt="3" class="callout" /></p></td>
<td style="text-align: left;"><div class="para">
<code class="methodname">Type&lt;MenuHandler&gt; getAssociatedType()</code> - Returns the Type used to register this event, allowing an EventBus to find handlers of <span class="interface">MenuHandler</span> class.
</div></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p><img src="../media/4.png" alt="4" class="callout" /></p></td>
<td style="text-align: left;"><div class="para">
<code class="methodname">void dispatch(MenuHandler handler)</code> – calls the handler and pass on the source <code class="classname">MenuEvent</code>.
</div></td>
</tr>
</tbody>
</table>
<p>Next add MenuHandler interface, which extends EventHandler. Method
defined here is called in <code>MenuEvent.dispatch()</code>. There is no
restriction in naming the method.</p>
<p><code>in.fins.client.event/MenuHandler.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">package</span> <span class="nn">in.fins.client.event</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.gwt.event.shared.EventHandler</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MenuHandler</span> <span class="kd">extends</span> <span class="n">EventHandler</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMenuSelection</span><span class="o">(</span><span class="n">MenuEvent</span> <span class="n">menuEvent</span><span class="o">);</span>

<span class="o">}</span>
</code></pre></div><p>Make <code>ContentPanel</code> as MenuHandler with following modifications to
<code>ContentPanel.java</code>.</p>
<p><code>in.fins.client.widget/ContentPanel.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="o">....</span>

<span class="kn">import</span> <span class="nn">in.fins.client.event.EventBus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">in.fins.client.event.MenuEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">in.fins.client.event.MenuHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.user.datepicker.client.DateBox</span><span class="o">;</span>

<span class="o">....</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ContentPanel</span> <span class="kd">extends</span> <span class="n">ResizeComposite</span> <span class="kd">implements</span> <span class="n">MenuHandler</span> <span class="o">{</span>

        <span class="kd">public</span> <span class="nf">ContentPanel</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">initWidget</span><span class="o">(</span><span class="n">binder</span><span class="o">.</span><span class="na">createAndBindUi</span><span class="o">(</span><span class="k">this</span><span class="o">));</span>
                <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">addHandler</span><span class="o">(</span><span class="n">MenuEvent</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
<span class="o">....</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMenuSelection</span><span class="o">(</span><span class="n">MenuEvent</span> <span class="n">menuEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">String</span> <span class="n">contentName</span> <span class="o">=</span> <span class="n">menuEvent</span><span class="o">.</span><span class="na">getMenu</span><span class="o">();</span>
                <span class="n">addTab</span><span class="o">(</span><span class="n">contentName</span><span class="o">,</span> <span class="k">new</span> <span class="n">DateBox</span><span class="o">());</span>
        <span class="o">}</span>
 <span class="o">}</span>
</code></pre></div><p><code>ContentPanel</code> implements MenuHandler and its handler method retrieves
the name of the selected menu from <code>MenuEvent</code> and adds a tab with
<code>addTab()</code> method. In constructor, <code>addHandler()</code> registers the
<code>ContentPanel</code> with <code>EventBus</code> to receive any <code>MenuEvent</code>.</p>
<p>Now all that is left is to fire MenuEvents.</p>
<p><code>in.fins.client.widget/MenuItem.java</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java"><span class="o">....</span>

<span class="kn">import</span> <span class="nn">in.fins.client.event.EventBus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">in.fins.client.event.MenuEvent</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.gwt.event.dom.client.ClickEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gwt.event.dom.client.ClickHandler</span><span class="o">;</span>

<span class="o">....</span>

        <span class="nd">@UiConstructor</span>
        <span class="kd">public</span> <span class="nf">MenuItem</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">,</span> <span class="n">ImageResource</span> <span class="n">imageResource</span><span class="o">,</span>
                        <span class="kd">final</span> <span class="n">String</span> <span class="n">contentName</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">initWidget</span><span class="o">(</span><span class="n">binder</span><span class="o">.</span><span class="na">createAndBindUi</span><span class="o">(</span><span class="k">this</span><span class="o">));</span>
                <span class="n">anchor</span><span class="o">.</span><span class="na">setHTML</span><span class="o">(</span><span class="n">getHtml</span><span class="o">(</span><span class="n">imageResource</span><span class="o">,</span> <span class="n">text</span><span class="o">));</span>
                <span class="n">anchor</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">contentName</span><span class="o">);</span>
                <span class="n">anchor</span><span class="o">.</span><span class="na">addClickHandler</span><span class="o">(</span><span class="k">new</span> <span class="n">ClickHandler</span><span class="o">()</span> <span class="o">{</span>
                        <span class="nd">@Override</span>
                        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                                <span class="n">EventBus</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">fireEvent</span><span class="o">(</span><span class="k">new</span> <span class="n">MenuEvent</span><span class="o">(</span><span class="n">contentName</span><span class="o">));</span>
                        <span class="o">}</span>
                <span class="o">});</span>
        <span class="o">}</span>

<span class="o">....</span>
</code></pre></div><p>This adds <code>ClickHandler</code> to the <code>Anchor</code> which fires a new <code>MenuEvent</code>
with menu name to <code>EventBus</code>. On click, MenuItem sends a MenuEvent to
EventBus, and it in turn, dispatches it to any interested handler i.e.
to ContentPanel and all these without any direct coupling between Menu
and ContentPanel.</p>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>


<p>GWT EventBus coding is slightly complicated as compared to
event-listener and you may want to switch back to event-listener model.
But hold that thought, once we get to the next widget benefits of
EventBus become apparent. Throughout the application, we are going to
use EventBus to handle events and to some its logic may still bit fuzzy,
so to reinforce the concept let&rsquo;s add Status widget to application.</p>

          </main>
        </div>
      </div>
  
    <aside id="sidebar-right" class="col-md-2">
      <div class="row my-5 justify-content-center border">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>

  </div>

</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>