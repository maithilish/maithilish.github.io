<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="OpenShift Deployment - push the GWT application source to OpenShift and build it on server or; build GWT app locally and push the war to OpenShift."><meta name=author content="Maithilish"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-42139846-3")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"articleSection":"tutorial","name":"Deploy on OpenShift - GWT Tutorial - CodeTab","headline":"Deploy on OpenShift - GWT Tutorial - CodeTab","url":"https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/","description":"OpenShift Deployment - push the GWT application source to OpenShift and build it on server or; build GWT app locally and push the war to OpenShift.","inLanguage":"en","image":"https://www.codetab.org/logo.jpg","author":"Maithilish","creator":"Maithilish","publisher":{"@type":"Organization","name":"Maithilish","url":"https://www.codetab.org/","logo":{"@type":"ImageObject","url":"https://www.codetab.org/logo.png","width":"200","height":"200"}},"copyrightHolder":"Maithilish","copyrightYear":"2019","datePublished":"2019-01-10T16:20:00+0530","dateModified":"2019-01-10T16:20:00+0530","wordCount":"1026","keywords":["openshift deployment","Blog"]}</script><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/vendor.min.36dba173dca94f4b9fca7c6a1c3d15560f7a96c6ab0c0042dcd000f8469a9dc1.css integrity="sha256-Ntuhc9ypT0ufynxqHD0VVg96lsarDABC3NAA+EaancE="><title>Deploy on OpenShift - GWT Tutorial - CodeTab</title></head><body id=top><header><nav id=navbar-main class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm"><div class=container-fluid><a class=navbar-brand href=/>Codetab</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#tutorials><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About</span></a></li></ul></div></div></nav></header><div class=container-fluid><div class=row>&nbsp;</div><div class=row><aside id=sidebar class=col-md-3><div class=row><nav id=navbar-side class="bg-light text-secondary"><h4 class="text-muted bg-white pl-2">GWT Tutorial</h4><nav class="navbar navbar-light bg-white navbar-expand-md"><button class="navbar-toggler ml-auto" type=button data-toggle=collapse data-target=#bookmenu aria-controls=bookmenu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=bookmenu><div><div id="GWT Tutorial - Complete Project - CodeTab"><div><a href=https://www.codetab.org/tutorial/gwt/introduction/ class="toc-page text-wrap text-muted">Introduction</a></div><div><a href=https://www.codetab.org/tutorial/gwt/install/ class="toc-page text-wrap text-muted">Install GWT in Eclipse</a></div><div><a href=https://www.codetab.org/tutorial/gwt/create-project/ class="toc-page text-wrap text-muted">Project Setup</a></div><div><a href=https://www.codetab.org/tutorial/gwt/gwt-project-code/ class="toc-page text-wrap text-muted">GWT Project Code</a></div><div><a href=https://www.codetab.org/tutorial/gwt/gwt-demo/ class="toc-page text-wrap text-muted">GWT Tutorial Demo</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-shell id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Shell</a><div id=tutorial-gwt-shell class=collapse><a href=https://www.codetab.org/tutorial/gwt/shell/finsshell/ class="toc-page dropdown-item text-wrap text-muted">UIBinder and Custom Widget</a>
<a href=https://www.codetab.org/tutorial/gwt/shell/contentpanel/ class="toc-page dropdown-item text-wrap text-muted">TabLayoutPanel</a>
<a href=https://www.codetab.org/tutorial/gwt/shell/gwt-logging/ class="toc-page dropdown-item text-wrap text-muted">Logging</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-menu id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Menu</a><div id=tutorial-gwt-menu class=collapse><a href=https://www.codetab.org/tutorial/gwt/menu/menu/ class="toc-page dropdown-item text-wrap text-muted">ClientBundle</a>
<a href=https://www.codetab.org/tutorial/gwt/menu/menu-parts/ class="toc-page dropdown-item text-wrap text-muted">Anchor</a>
<a href=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-events/ class="toc-page dropdown-item text-wrap text-muted">EventBus</a>
<a href=https://www.codetab.org/tutorial/gwt/menu/gwt-eventbus-example/ class="toc-page dropdown-item text-wrap text-muted">EventBus Example</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-model id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Modle</a><div id=tutorial-gwt-model class=collapse><a href=https://www.codetab.org/tutorial/gwt/model/model/ class="toc-page dropdown-item text-wrap text-muted">Model</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-content id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Content</a><div id=tutorial-gwt-content class=collapse><a href=https://www.codetab.org/tutorial/gwt/content/content/ class="toc-page dropdown-item text-wrap text-muted">GWT Tutorial - Content</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-celltable/ class="toc-page dropdown-item text-wrap text-muted">CellTable</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-autosuggest/ class="toc-page dropdown-item text-wrap text-muted">SuggestBox</a>
<a href=https://www.codetab.org/tutorial/gwt/content/titlepanel/ class="toc-page dropdown-item text-wrap text-muted">TitlePanel</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-uifactory/ class="toc-page dropdown-item text-wrap text-muted">UiFactory</a>
<a href=https://www.codetab.org/tutorial/gwt/content/factpanel/ class="toc-page dropdown-item text-wrap text-muted">FactPanel</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-disclosepanel/ class="toc-page dropdown-item text-wrap text-muted">DisclosurePanel</a>
<a href=https://www.codetab.org/tutorial/gwt/content/toolbar/ class="toc-page dropdown-item text-wrap text-muted">Toolbar</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-datagrid/ class="toc-page dropdown-item text-wrap text-muted">DataGrid</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-chart/ class="toc-page dropdown-item text-wrap text-muted">Google Chart</a>
<a href=https://www.codetab.org/tutorial/gwt/content/gwt-close-tabs/ class="toc-page dropdown-item text-wrap text-muted">Close Tabs</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-rpc id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>RPC</a><div id=tutorial-gwt-rpc class=collapse><a href=https://www.codetab.org/tutorial/gwt/rpc/gwt-remote-procedure-calls/ class="toc-page dropdown-item text-wrap text-muted">RPC</a>
<a href=https://www.codetab.org/tutorial/gwt/rpc/rest-of-rpc/ class="toc-page dropdown-item text-wrap text-muted">Rest of RPC</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-database id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Database</a><div id=tutorial-gwt-database class=collapse><a href=https://www.codetab.org/tutorial/gwt/database/setup-database/ class="toc-page dropdown-item text-wrap text-muted">Database Setup</a>
<a href=https://www.codetab.org/tutorial/gwt/database/persist/ class="toc-page dropdown-item text-wrap text-muted">JDO Persistence</a>
<a href=https://www.codetab.org/tutorial/gwt/database/retrieve/ class="toc-page dropdown-item text-wrap text-muted">JDO and Hibernate</a>
<a href=https://www.codetab.org/tutorial/gwt/database/gwt-dao/ class="toc-page dropdown-item text-wrap text-muted">DAO</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-google-app-engine id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Goolge App Engine</a><div id=tutorial-gwt-google-app-engine class=collapse><a href=https://www.codetab.org/tutorial/gwt/google-app-engine/google-app-engine/ class="toc-page dropdown-item text-wrap text-muted">Google App Engine</a>
<a href=https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-deploy/ class="toc-page dropdown-item text-wrap text-muted">App Engine Deploy</a>
<a href=https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-manage-data/ class="toc-page dropdown-item text-wrap text-muted">GAE Data Upload</a>
<a href=https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-cache/ class="toc-page dropdown-item text-wrap text-muted">App Engine Cache</a>
<a href=https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-task-queue/ class="toc-page dropdown-item text-wrap text-muted">App Engine Task Queue</a>
<a href=https://www.codetab.org/tutorial/gwt/google-app-engine/app-engine-backends/ class="toc-page dropdown-item text-wrap text-muted">GAE Backends</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-openshift id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>OpenShift</a><div id=tutorial-gwt-openshift><a href=https://www.codetab.org/tutorial/gwt/openshift/openshift/ class="toc-page dropdown-item text-wrap text-muted">OpenShift Setup</a>
<a href=https://www.codetab.org/tutorial/gwt/openshift/prepare-openshift-project/ class="toc-page dropdown-item text-wrap text-muted">Prepare Project</a>
<a href=https://www.codetab.org/tutorial/gwt/openshift/openshift-configure/ class="toc-page dropdown-item text-wrap text-muted">Configure</a>
<a href=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/ class="toc-page dropdown-item text-wrap text-danger">Build and Deploy</a>
<a href=https://www.codetab.org/tutorial/gwt/openshift/openshift-development/ class="toc-page dropdown-item text-wrap text-muted">Development</a>
<a href=https://www.codetab.org/tutorial/gwt/openshift/openshift-online-v3-deployment/ class="toc-page dropdown-item text-wrap text-muted">OpenShift Online V3 Deployment</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-gwt-build id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Apache Ivy</a><div id=tutorial-gwt-build class=collapse><a href=https://www.codetab.org/tutorial/gwt/build/apache-ivy/ class="toc-page dropdown-item text-wrap text-muted">Apache Ivy</a></div></div></div></div></nav></nav></div></aside><div id=contentbar class=col-md-7><div id=share class="row justify-content-end"><div title=twitter><a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/&amp;text=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-twitter-squared text-secondary"></i></a></div><div title=facebook><a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/&amp;t=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-facebook-squared text-secondary"></i></a></div><div title=linkedin><a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/&amp;title=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-linkedin-squared text-secondary"></i></a></div><div title=email><a href="mailto:?subject=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/" target=_blank rel=noopener><i class="icon-mail-squared text-secondary"></i></a></div><div title=whatsapp><a href="https://web.whatsapp.com/send?text=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/" target=_blank rel=noopener><i class="icon-whatsapp text-secondary"></i></a></div><div title=reddit><a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/gwt/openshift/openshift-build-deploy/&amp;title=Deploy%20on%20OpenShift%20-%20GWT%20Tutorial%20-%20CodeTab" target=_blank rel=noopener><i class="icon-reddit-alien text-secondary"></i></a></div><i class="icon-blank ctab-transparent"></i></div><div class=row><main id=content class="col-md-11 post-basic"><h2 id=124openshift-deployment>12.4. OpenShift Deployment</h2><p>Even though, we developed a fairly complicated GWT application and
deployed it to App Engine, surprisingly we never discussed about build
cycle. Google Plugin for Eclipse (GPE) was building the application in
background. But, when it comes to OpenShift, we have to build and
deploy.</p><p>Steps to build a GWT application with JDO are</p><ul><li><p>compile the java classes with javac.</p></li><li><p>enhance persistence classes with JDO Enhancer.</p></li><li><p>compile GWT module with GWT Compiler, which compiles java classes to
JavaScript.</p></li><li><p>pack everything as a war archive and deploy it to app server.</p></li></ul><p>There are a couple of ways for OpenShift Deployment; push the
application source to OpenShift and build the application on server or;
build the application locally and push the war to OpenShift.</p><h5 id=build-on-openshift>Build on OpenShift</h5><p>Recommended way to deploy the application is to push the source to
OpenShift and then build the war on server. Source is pushed to server
with</p><pre tabindex=0><code class=language-screen data-lang=screen>$ cd &lt;app directory&gt;
$ git commit -am &#34;some change log&#34;
$ git push
</code></pre><p>Cloned application folder contains a <code>pom.xml</code>, which contains a profile
named openshift. When source is pushed to OpenShift, this profile is
executed which builds the application and creates a war.</p><p>There are some difficulties to implement this.</p><ul><li><p>profile in maven pom requires modifications to add JDO enhancer and
GWT compile.</p></li><li><p>requires GWT SDK jars on server to compile the GWT module.</p></li><li><p>requires major changes to project directory structure to make it in
line with maven project structure.</p></li><li><p>GWT complier requires heavy resources and OpenShift Small Gear is
unable to handle this requirement as reported in OpenShift forums.</p></li></ul><p>While the first three issues are manageable, the last one is difficult
to overcome.</p><h5 id=build-locally>Build locally</h5><p>Another way, which is easy to implement, is to build the project locally
and then push the war to OpenShift.</p><p>We use Ant to build the project. Add the project build file -
<code>build.xml</code> to Ant View which shows the following targets.</p><figure class=text-center><img class="lazy img-fluid" data-src=/tutorial/gwt/media/buildtargets.png alt></figure><p>To compile classes, build requires GWT and GAE SDK and in <code>build.xml</code>,
set the path to SDK on your system.</p><p><code>build.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl>        <span class=c>&lt;!-- Configure path to GWT and GAE SDK - !! Change these !! --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;gwt.sdk&#34;</span> <span class=na>location=</span><span class=s>&#34;/orange/apps/google/gwt/gwt-2.5.0&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;property</span> <span class=na>name=</span><span class=s>&#34;gae.sdk&#34;</span> <span class=na>location=</span><span class=s>&#34;/orange/apps/google/gae/appengine-java-sdk-1.7.5&#34;</span> <span class=nt>/&gt;</span>
</span></span></code></pre></div><p>Target <strong>enhance</strong> enhances the persistence
classes.</p><p><code>build.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl>        <span class=nt>&lt;target</span> <span class=na>name=</span><span class=s>&#34;enhance&#34;</span> <span class=na>depends=</span><span class=s>&#34;javac&#34;</span> <span class=na>description=</span><span class=s>&#34;Enhance JDO&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c>&lt;!-- the classpath to enhance --&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;path</span> <span class=na>id=</span><span class=s>&#34;enhancer.classpath&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;project.lib.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;project.class.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/path&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c>&lt;!-- define the task enhancer --&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;taskdef</span> <span class=na>name=</span><span class=s>&#34;nucleusenhancer&#34;</span> <span class=na>classpathref=</span><span class=s>&#34;enhancer.classpath&#34;</span> <span class=na>classname=</span><span class=s>&#34;org.datanucleus.enhancer.tools.EnhancerTask&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c>&lt;!-- enhance --&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;nucleusenhancer</span> <span class=na>classpathref=</span><span class=s>&#34;enhancer.classpath&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/target&gt;</span>
</span></span></code></pre></div><p>Target <strong>gwtc</strong> compiles the GWT module using GWT
complier.</p><p><code>build.xml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-XML data-lang=XML><span class=line><span class=cl>        <span class=nt>&lt;target</span> <span class=na>name=</span><span class=s>&#34;gwtc&#34;</span> <span class=na>depends=</span><span class=s>&#34;javac,enhance&#34;</span> <span class=na>description=</span><span class=s>&#34;GWT compile to JavaScript&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;java</span> <span class=na>failonerror=</span><span class=s>&#34;true&#34;</span> <span class=na>fork=</span><span class=s>&#34;true&#34;</span> <span class=na>classname=</span><span class=s>&#34;com.google.gwt.dev.Compiler&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;classpath&gt;</span>
</span></span><span class=line><span class=cl>                                <span class=nt>&lt;pathelement</span> <span class=na>location=</span><span class=s>&#34;src&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                                <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;project.class.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                                <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;project.lib.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                                <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;gwt.sdk.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                                <span class=nt>&lt;path</span> <span class=na>refid=</span><span class=s>&#34;gwt.validation.path&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;/classpath&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=c>&lt;!-- add jvmarg -Xss16M if StackOverflowError --&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;jvmarg</span> <span class=na>value=</span><span class=s>&#34;-Xmx256M&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=c>&lt;!-- gwt args --&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;arg</span> <span class=na>value=</span><span class=s>&#34;-war&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;arg</span> <span class=na>value=</span><span class=s>&#34;war&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=c>&lt;!-- module --&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;arg</span> <span class=na>line=</span><span class=s>&#34;in.fins.fins&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/java&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/target&gt;</span>
</span></span></code></pre></div><p>All you have to do is to run <strong>target war</strong>, which builds the project
and creates fins.war in project folder.</p><div>&nbsp;</div><div>&nbsp;</div><p><strong>Deploy to OpenShift</strong>. To deploy the war to OpenShift execute
following commands in cloned application folder - demo.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ cd &lt;cloned application folder - demo&gt;
$ cp &lt;workspace project dir&gt;/fins.war webapps
$ git add webapps/fins.war
$ rm pom.xml
$ git rm pom.xml
$ git commit -am &#34;project war added&#34;
$ git push
</code></pre><p>From project directory fins.war is copied to webapps directory of demo
folder (cloned application folder) and then a git add to update the git
index. Next, we remove pom.xml to disable maven build on OpenShift. If
this file exists, then OpenShift tries to build the application when
code is pushed to server. Git commit updates the local repository with
changes. Finally, git push uploads the changes and fins.war to OpenShift
git repository.</p><p>Now Fins is accessible from <code>http://demo-finsdemo.rhccloud.com/fins</code>. To
access fins from <code>http://demo-finsdemo.rhccloud.com/</code> change the name of
war to ROOT.war.</p><h2 id=git-revisions>Git Revisions</h2><p>Git Repository holds all revisions of war file, which may soon exhaust
the 1GB storage limit. Clean up the Git repo, application&rsquo;s logs and tmp
directories to free up the space with</p><pre tabindex=0><code class=language-screen data-lang=screen>$ rhc app tidy demo
</code></pre><h5 id=scaled-applications>Scaled Applications</h5><p>Fins demo application that we just created is a non-scaled application,
to which OpenShift allots one Gear. When load increases, response may
start to degrade. OpenShift allows application scaling, which provides
for the automatic allocation of resources based on demand. When
application is scaled, OpenShift adds a <strong>HAProxy</strong> cartridge to the
application, which listens to incoming requests and pass on the request
to web cartridge. When HAProxy detects overload, it alerts OpenShift,
which starts a new web cartridge on a additional gear to handle the
request.</p><p>Scaled application is created by passing -s to create action.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ rhc app create demo jbossews-1.0 -s
</code></pre><p>Application type - Scaled or Non-Scaled, has to indicated at creation
and it is not possible to convert from one to another once app is
created.</p><p>MySQL cartridge is added to application as being done earlier. It is not
possible to add phpMyAdmin to a scaled application. In scaled
application, database cartridge gets it own dedicated gear.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ rhc cartridge add mysql-5.1 -a demo
</code></pre><figure class=text-center><img class="lazy img-fluid" data-src=/tutorial/gwt/media/scaledapp.png alt="Scaled Application"></figure><h6 id=figure123scaled-application>Figure 12.3. Scaled Application</h6><p>Initially, OpenShift allocates two gears to the scaled demo application.
The first gear holds fins code, JBoss EWS cartridge and HAProxy
cartridge, and the second gear holds MySQL cartridge. When load crosses
certain threshold, it allots the third gear, which holds fins code and
second instance of JBoss EWS and load is distributed between first and
third gear.</p><p>There is no change in build and deployment process. In case, the war is
named as fins.war then you need to modify <code>haproxy.cfg</code> file as follows.</p><pre tabindex=0><code class=language-screen data-lang=screen>$ rhc app ssh demo
&gt; vi haproxy/conf/haproxy.cfg      // edit with vi editor
</code></pre><p>search for line <strong>option httpchk GET /</strong> and change it to <strong>option
httpchk GET /fins</strong> . HAProxy uses this option to check the health of
http server. If this is not proper, then app shows HAProxy Statistics
Report, with a down local-gear. This change is not required if war is
named as ROOT.war.</p><div>&nbsp;</div><div>&nbsp;</div><p>Restart the application with</p><pre tabindex=0><code class=language-screen data-lang=screen>$ rhc app restart demo
</code></pre><p>Next we set up Tomcat and Eclipse to develop the application locally.</p></main></div></div><aside id=sidebar-right class=col-md-2><div class="row my-5 justify-content-center border"><div>&nbsp;</div><div>&nbsp;</div></div></aside></div></div><footer class="container-fluid mt-5"><div class=row><div class="col ml-auto"><div class="row mb-1 ml-2"><a class=text-muted href=/privacy-policy>Privacy</a></div><div class="row text-muted mb-2 ml-2"><span>&copy; 2019 &#183;Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span></div></div><div class="col mr-auto"><span class=float-right><a href=# id=back_to_top><i class="icon-up-open h1 text-secondary"></i></a></span></div></div></footer><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script src=/js/vendor.min.e0afe83ba5579b9676fc5f849c1becff1395739520a7c0bc45535f04acd819c3.js></script></body></html>