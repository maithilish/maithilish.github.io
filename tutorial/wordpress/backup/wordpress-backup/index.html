<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="In this chapter of WordPress Tutorial, we cover WordPress Backup topics - Backup, Restore, Migrate and Clone. Before we get into the WordPress Backup,">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Backup - WordPress Tutorial - CodeTab",
        "headline" : "Backup - WordPress Tutorial - CodeTab",
        "description" : "In this chapter of WordPress Tutorial, we cover WordPress Backup topics - Backup, Restore, Migrate and Clone. Before we get into the WordPress Backup,",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-11 03:53:00 +0530 IST",
        "dateModified" : "2019-01-11 03:53:00 +0530 IST",
        "url" : "/tutorial/wordpress/backup/wordpress-backup/",
        "wordCount" : "790",
        "keywords" : [ "wordpress backup","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.06af1451a3c5b3b70a0c0bd7be26092e20e9c31251c08d44dbe1486a9a2a414c.css" integrity="sha256-Bq8UUaPFs7cKDAvXviYJLiDpwxJRwI1E2&#43;FIapoqQUw=">

<title>Backup - WordPress Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">WordPress Guide</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="WordPress Tutorial - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress/" class="toc-page text-muted ">
            About WordPress
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/openshift-wordpress/" class="toc-page text-muted ">
            OpenShift WordPress Tutorial
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-installation/" class="toc-page text-muted ">
            Installation
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-settings/" class="toc-page text-muted ">
            Settings
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-posts-vs-pages/" class="toc-page text-muted ">
            Posts Vs Pages
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-themes/" class="toc-page text-muted ">
            Themes
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-plugins/" class="toc-page text-muted ">
            Plugins
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-w3-total-cache" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        W3 Total Cache
    </a>
    
    <div id="tutorial-wordpress-w3-total-cache" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/settings/" class="toc-page dropdown-item text-muted">
            W3 Total Cache Settings
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/browser-cache/" class="toc-page dropdown-item text-muted">
            W3 Total Cache Browser Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/minify-settings/" class="toc-page dropdown-item text-muted">
            W3 Total Cache Minify Settings
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/performance-analyze/" class="toc-page dropdown-item text-muted">
            Performance Analyze
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-seo" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Search Engine Optimization
    </a>
    
    <div id="tutorial-wordpress-seo" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/seo/seo-tips/" class="toc-page dropdown-item text-muted">
            SEO Tips
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/seo/wordpress-seo-plugin/" class="toc-page dropdown-item text-muted">
            SEO Plugin
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-webmaster-tools" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Web Master Tools
    </a>
    
    <div id="tutorial-wordpress-webmaster-tools" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/webmaster-tools/google-analytics/" class="toc-page dropdown-item text-muted">
            Google Analytics
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/webmaster-tools/google-webmaster-tools/" class="toc-page dropdown-item text-muted">
            Google Webmaster Tools
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-import" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Import Static Site
    </a>
    
    <div id="tutorial-wordpress-import" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/import-static-html-site/" class="toc-page dropdown-item text-muted">
            Import Static HTML Site
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/child-theme/" class="toc-page dropdown-item text-muted">
            Child Theme
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/dynamic-stylesheets/" class="toc-page dropdown-item text-muted">
            Dynamic Stylesheets
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-backup" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Backup
    </a>
    
    <div id="tutorial-wordpress-backup" class="">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/" class="toc-page dropdown-item text-danger">
            Backup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/dropbox-backup/" class="toc-page dropdown-item text-muted">
            Dropbox Backup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/restore-clone-migrate/" class="toc-page dropdown-item text-muted">
            Restore, Clone, Migrate
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift Cloud
    </a>
    
    <div id="tutorial-wordpress-openshift" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/install-source/" class="toc-page dropdown-item text-muted">
            OpenShift WordPress Install Source
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/dns-setup/" class="toc-page dropdown-item text-muted">
            OpenShift DNS Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/rhc-client-tools/" class="toc-page dropdown-item text-muted">
            OpenShift RHC Client Tools
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/linux-primer/" class="toc-page dropdown-item text-muted">
            OpenShift Linux Primer
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/&amp;text=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/&amp;t=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/&amp;title=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/&amp;title=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/&amp;title=Backup%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<h2 id="11-1-wordpress-backup">11.1. WordPress Backup</h2>

<p>So far in the tutorial, we covered WordPress topics that assist us to
install WordPress, add contents, optimize the performance and page
ranking. All that effort we put to build a quality site may go in vein
unless we have a good WordPress Backup and Restore strategy. In this
chapter, we cover WordPress Backup topics - Backup, Restore, Migrate and
Clone.</p>

<h3 id="wordpress-backup">WordPress Backup</h3>

<p>There are a number of plugins for WordPress backup. Out of them many
offers essential features with an upgrade to paid version.</p>

<p><a href="https://wordpress.org/plugins/backwpup/" target="_blank">BackWPup Free Plugin</a> is one
of the best free plugin for WordPress backup. It comes with features to
move the backup files to various cloud storages including Dropbox.</p>

<p>However, we use a command line scripts to backup codetab.org which is:</p>

<ul>
<li><p>Simple to setup and use.</p></li>

<li><p>Backups the whole setup and contents.</p></li>

<li><p>Schedules automatic backup on OpenShift.</p></li>

<li><p>Push the compressed backup set to DropBox.</p></li>

<li><p>Restore the full site from the backup set.</p></li>

<li><p>Clone the site from the backup set.</p></li>
</ul>

<p>Benefit of learning the backup at command line (CLI) is that it helps to
understand structure and layout WordPress installation and this
knowledge comes handy when we recover the site and to troubleshoot any
other site related issues.</p>



<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>




<p>How data is stored in WordPress</p>

<p>Before we get into the WordPress backup, it is important to understand
how WordPress stores the data.</p>

<p>WordPress installation consists of two parts - core WordPress
installation and user added data. Core installation contains the PHP and
setup files that powers the WordPress. We need not consider them for
backup as we can always reinstall them from the source.</p>

<p>From the backup perspective, we concentrate on user added data that
consists of themes, plugins, media library and finally actual posts and
pages. Strictly speaking, there is no need to backup themes and plugins
as we can reinstall them. However, for the sake of convenience, we
include them in the backup so that we can restore the site less time.</p>

<p>WordPress stores the user data in two locations.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/wordpress/media/wp-backupitems.png" alt="WordPress Backup - WordPress files and data locations" />
</figure>


<p><strong>MySQL database</strong>: WordPress stores post and page contents in a MySQL
database table. Plugin and theme configurations go into a database
table, but WordPress stores their files in a directory. Likewise, it
uploads the media files to a directory but stores the media metadata
(details about the media) in a database table. WordPress settings too
are saved in the database. WordPress saves its own settings in the
database.</p>

<p><strong>WordPress wp-content</strong>: Plugin, Theme, and Media files are stored in
<code>wp-content</code> directory within WordPress installation directory. Majority
of plugins store their settings in the database table, but some save in
wp-content directory. Media and other uploaded files are saved in folder
<code>wp-content/uploads</code>, plugins in <code>wp-content/plugins</code> and themes in<code>
wp-content/themes</code>.</p>

<p>For a full backup of WordPress, we need to take backup of MySQL
database, <code>plugins</code>, <code>themes</code> and <code>uploads</code> directories.</p>

<p>In this rest of the section, we explain the WordPress CLI backup. If you
have an inclination towards CLI, then go for the CLI backup else use
BackWPup Free Plugin to backup the site.</p>

<p><strong>CLI</strong></p>

<p>To complete tasks in this chapter, we need to access OpenShift Shell
through RHC or PuTTY (for Windows users). <a href="/tutorial/wordpress/openshift/rhc-client-tools/">OpenShift RHC Client Tools</a> explains RHC and PuTTY setup. Before continuing, setup these tools and download and extract wordpress-tutorial-sample.zip to OpenShift server as explained in the Appendix.The <code>backup</code> folder in the wordpress-tutorial-sample.zip contains the backup scripts.</p>

<h3 id="wordpress-backup-script">WordPress Backup Script</h3>

<p>To backup WordPress, log in to OpenShift Shell.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen"> rhc ssh quickstart</code></pre></div>
<p>In OpenShift Shell, change directory to <code>app-root/data/backup</code>, which
holds the backup scripts extracted from <code>wordpress-tutorial-sample.zip</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">&gt; cd app-root/data/backup</code></pre></div>
<p>To create a backup, run the script file <code>local-backup.sh</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">&gt; ./local-backup.sh</code></pre></div>
<p>Script dumps the MySQL database to a SQL file. Then it archives the SQL
file and three wp-content directories - plugins, themes and uploads -
using tar (tape archive) command. In OpenShift, WordPress wp-content
directories - <code>plugins</code>, <code>themes</code> and <code>uploads</code> - reside in
<code>app-root/data</code> directory. Finally it compresses the tar file as a gzip
file. We can list the backup file with:</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">&gt; ls -lrt *.gz</code></pre></div>
<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/wordpress/media/wp-backup-filelisting.png" alt="WordPress Backup file listing." />
</figure>


<p>Script names the backup gz file using WordPress application name and the
backup date.</p>

<p>In the script, to backup MySQL database we use mysqldump command, which
dumps the MySQL database as SQL statements.</p>

<p><code>backup/local-backup.sh</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML">...

DB_NAME=$OPENSHIFT_APP_NAME
MYSQLDUMP_FILE=&#34;$OPENSHIFT_APP_NAME-$DATE.sql&#34;

mysqldump -u $OPENSHIFT_MYSQL_DB_USERNAME --password=$OPENSHIFT_MYSQL_DB_PASSWORD     
          -S $OPENSHIFT_MYSQL_DB_SOCKET $DB_NAME &gt; $BACKUP_DIR/$MYSQLDUMP_FILE

...</code></pre></div>


<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>



<p>OpenShift environment variables are useful to pass Username, Password
and Socket details to the mysqldump. For the application named
<strong>quickstart</strong>, OpenShift sets OPENSHIFT_APP_NAME to <strong>quickstart</strong>
and creates a database named <strong>quickstart</strong>. By using variable
OPENSHIFT_APP_NAME, mysqldump dumps the database named <strong>quickstart</strong>.</p>

<p>In the next section, we expand the backup script to push the backup
files to Dropbox.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>