<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="OpenShift WordPress Install Source - While, OpenShift Instant Apps are stable and updated frequently, we rather prefer to install WordPress from its source.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/www.codetab.org\/"
        },
        "articleSection" : "tutorial",
        "name" : "OpenShift Install WordPress - WordPress Tutorial - CodeTab",
        "headline" : "OpenShift Install WordPress - WordPress Tutorial - CodeTab",
        "description" : "OpenShift WordPress Install Source - While, OpenShift Instant Apps are stable and updated frequently, we rather prefer to install WordPress from its source.",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-11T02:52:00+0530",
        "dateModified" : "2019-01-11T02:52:00+0530",
        "url" : "\/tutorial\/wordpress\/openshift\/install-source\/",
        "wordCount" : "1651",
        "keywords" : [ "openshift wordpress install","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.5094155807f5e8e42efd4efe08a15d3c51025b1e28787bdea850902bf7650261.css" integrity="sha256-UJQVWAf16OQu/U7&#43;CKFdPFECWx4oeHveqFCQK/dlAmE=">

<title>OpenShift Install WordPress - WordPress Tutorial - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">

    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">WordPress Guide</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="WordPress Tutorial - CodeTab">
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/introduction/"
            class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress/"
            class="toc-page text-muted ">
            About WordPress
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/openshift-wordpress/"
            class="toc-page text-muted ">
            OpenShift WordPress Tutorial
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-installation/"
            class="toc-page text-muted ">
            Installation
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-settings/"
            class="toc-page text-muted ">
            Settings
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-posts-vs-pages/"
            class="toc-page text-muted ">
            Posts Vs Pages
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-themes/"
            class="toc-page text-muted ">
            Themes
        </a>
    </div>
    
    <div>
        <a href="https://www.codetab.org/tutorial/wordpress/wordpress-plugins/"
            class="toc-page text-muted ">
            Plugins
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-w3-total-cache" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        W3 Total Cache
    </a>
    
    <div id="tutorial-wordpress-w3-total-cache" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/settings/"
            class="toc-page dropdown-item text-muted">
            W3 Total Cache Settings
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/browser-cache/"
            class="toc-page dropdown-item text-muted">
            W3 Total Cache Browser Cache
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/minify-settings/"
            class="toc-page dropdown-item text-muted">
            W3 Total Cache Minify Settings
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/w3-total-cache/performance-analyze/"
            class="toc-page dropdown-item text-muted">
            Performance Analyze
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-seo" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Search Engine Optimization
    </a>
    
    <div id="tutorial-wordpress-seo" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/seo/seo-tips/"
            class="toc-page dropdown-item text-muted">
            SEO Tips
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/seo/wordpress-seo-plugin/"
            class="toc-page dropdown-item text-muted">
            SEO Plugin
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-webmaster-tools" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Web Master Tools
    </a>
    
    <div id="tutorial-wordpress-webmaster-tools" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/webmaster-tools/google-analytics/"
            class="toc-page dropdown-item text-muted">
            Google Analytics
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/webmaster-tools/google-webmaster-tools/"
            class="toc-page dropdown-item text-muted">
            Google Webmaster Tools
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-import" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Import Static Site
    </a>
    
    <div id="tutorial-wordpress-import" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/import-static-html-site/"
            class="toc-page dropdown-item text-muted">
            Import Static HTML Site
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/child-theme/"
            class="toc-page dropdown-item text-muted">
            Child Theme
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/import/dynamic-stylesheets/"
            class="toc-page dropdown-item text-muted">
            Dynamic Stylesheets
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-backup" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Backup
    </a>
    
    <div id="tutorial-wordpress-backup" class="collapse">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/wordpress-backup/"
            class="toc-page dropdown-item text-muted">
            Backup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/dropbox-backup/"
            class="toc-page dropdown-item text-muted">
            Dropbox Backup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/backup/restore-clone-migrate/"
            class="toc-page dropdown-item text-muted">
            Restore, Clone, Migrate
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-wordpress-openshift" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        OpenShift Cloud
    </a>
    
    <div id="tutorial-wordpress-openshift" class="">
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/install-source/"
            class="toc-page dropdown-item text-danger">
            OpenShift WordPress Install Source
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/dns-setup/"
            class="toc-page dropdown-item text-muted">
            OpenShift DNS Setup
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/rhc-client-tools/"
            class="toc-page dropdown-item text-muted">
            OpenShift RHC Client Tools
        </a>
        
        
        <a href="https://www.codetab.org/tutorial/wordpress/openshift/linux-primer/"
            class="toc-page dropdown-item text-muted">
            OpenShift Linux Primer
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/wordpress/openshift/install-source/&amp;text=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/wordpress/openshift/install-source/&amp;t=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/wordpress/openshift/install-source/&amp;title=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab&amp;body=https://www.codetab.org/tutorial/wordpress/openshift/install-source/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab%20https://www.codetab.org/tutorial/wordpress/openshift/install-source/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/wordpress/openshift/install-source/&amp;title=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=https://www.codetab.org/tutorial/wordpress/openshift/install-source/&amp;title=OpenShift%20Install%20WordPress%20-%20WordPress%20Tutorial%20-%20CodeTab" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<p>Through out the WordPress Tutorial, we stick with the WordPress
installed from OpenShift Instant App bundled by OpenShift team. While,
OpenShift Instant Apps are stable and updated frequently, we still
prefer to do a OpenShift WordPress install from its source.</p>

<p>Consider this scenario. We have a site with WordPress 3.8.3 and every
week, on Sunday, we take the backup. Meanwhile, WordPress releases
version 3.9 and next Wednesday, OpenShift updates the Instant App to
3.9. To our bad luck, very next day we mess up our site. To restore, we
create a new OpenShift WordPress Application and because of an update,
its version is 3.9. However, the backup set contains data for WordPress
3.8.3.</p>

<p>Restore goes through, but we end up with a WordPress version 3.9 with
WordPress 3.8.3 database. Usually, it is not a good practice jumping
versions during restore as it may subtly break something inside without
our notice.</p>

<p>We prefer to install WordPress from source to have finer control over
the WordPress installation.</p>

<p><strong>Note</strong></p>

<p>When we start with OpenShift and WordPress, it is advisable to use
OpenShift Instant App. After we gain sufficient expertise in managing
the OpenShift and WordPress migrate the site to WordPress source
installation.</p>

<h2 id="openshift-wordpress-install-from-source">OpenShift WordPress Install from Source</h2>

<p>In WordPress source installation process, instead of the Instant App
bundled by OpenShift, we use WordPress release from WordPress.org.
Latest WordPress source bundle is available from <a href="https://wordpress.org/" target="_blank">WordPress Org</a>, and earlier versions of WordPress are available in <a href="https://wordpress.org/download/release-archive/" target="_blank">Release Archive</a>.</p>

<p><strong>CLI</strong></p>

<p>While Instant App installation was entirely using OpenShift Web Console,
OpenShift WordPress Install Source method uses not only OpenShift Web
Console but also RHC Client Tools.</p>

<p>To carry out tasks explained in this chapter, we require to install and
setup RHC and PuTTY (Windows users). To install RHC and PuTTY, refer <a href="/tutorial/wordpress/openshift/rhc-client-tools/">OpenShift RHC Client Tools</a></p>

<p>To start with, we create an application in OpenShift. We assume that we
already have an OpenShift account with a namespace as explained in <a href="/tutorial/wordpress/openshift-wordpress/">OpenShift WordPress Tutorial</a>.</p>

<p>To create a new application, open OpenShift Web Console and choose
<strong>Application</strong> tab and click <strong>Add Application</strong>. In the <strong>Choose a
type of application</strong> screen, scroll down to PHP section and select PHP
5.3. It adds PHP 5.3 cartridge to our application and displays
<strong>Configure the application</strong> screen. In the <strong>Public URL</strong> field, enter
the name of the application and hit <strong>Create Application</strong> button. We
chose PHP 5.3 cartridge, which bundles Apache Web Server with PHP 5.3
module, because to run WordPress software requires the PHP enabled web
server.</p>

<p>Next we need to add MySQL database cartridge to the application. To do
that, go to <strong>Application Overview</strong> screen and click  <strong>see the entire
list of cartridges you can add</strong> link. In the  <strong>Choose a cartridge
type</strong> screen choose MySQL 5.1 cartridge.</p>

<p>That completes the creation of a new OpenShift application with two
cartridges - PHP 5.3 and MySQL 5.1. Now, if we access the public URL of
the application, it displays the PHP Welcome page.</p>



<div>&nbsp;</div>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="6135368983"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>




<p>Deploy WordPress</p>

<p>OpenShift uses Git, software configuration management tool, to manage
the application development and deployment. We use Git to download the
OpenShift application repository, add WordPress to the repository and
deploy back the application to the OpenShift.</p>

<p>To download the application repository, we require its Git URL. Find out
Git URL from <strong>OpenShift Web Console</strong> → <strong>Applications</strong> →
<strong>Application Overview</strong> → <strong>Source Code</strong>. Copy Source code field to
the clipboard.</p>

<p>In the PC, open the command prompt and change to some directory where we
can download the source and work on it. Open command prompt and run git
clone. Replace &lt;Git URL&gt; with the Source Code field copied earlier.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Window and Linux

C:&gt; git clone &lt;Git URL&gt;</code></pre></div>
<p>Git downloads (clone) the application repository from OpenShift server
and places it in a directory named same as the application name. For
example, if our application name is <strong>quickstart</strong>, then Git downloads
the source to a folder named <code>quickstart</code>.</p>

<p>For newly created PHP application, source contains a single <code>index.php</code>.
However, remember that this is not a plain directory but a Git
Repository. It contains a hidden directory <code>.git</code> which holds
repository objects to keep track of changes as we go forward.</p>

<p>Next step is to add WordPress software to the repository. Download the
required WordPress release from <a href="https://wordpress.org/download/release-archive/" target="_blank">Release
Archive</a> or the latest
version from the front page. Extract the downloaded zip and we get a
directory named <code>wordpress</code> that contains WordPress software. Copy the
<code>wordpress</code> directory to the application repository.</p>

<p>Change to application repository and rename the directory <code>wordpress</code>
as <code>php</code> with the move command.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Windows

C:&gt; cd quickstart
C:&gt; move &lt;path-to&gt;\wordpress .
C:&gt; move wordpress php

Linux

$ cd quickstart
$ mv &lt;path-to&gt;/wordpress .
$ mv wordpress php</code></pre></div>
<p>WordPress uses a file named <code>wp-config.php</code> to store the WordPress
configurations like database connection properties, etc. To create this
file, change to <code>php</code> directory and copy the WordPress supplied
<code>wp-config-sample.php</code> to <code>wp-config.php</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Windows

C:&gt; cd php
C:&gt; copy  wp-config-sample.php  wp-config.php

Linux

$ cd php
$ cp wp-config-sample.php  wp-config.php</code></pre></div>
<p>We need to make some changes to the Sample Config file. Edit the
<code>wp-config.php</code> and modify MySQL settings as shown in next snippet.</p>

<p><code>quickstart/php/wp-config.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML">// ** MySQL settings - You can get this info from your web host ** //
/** The name of the database for WordPress */
define(&#39;DB_NAME&#39;, getenv(&#39;OPENSHIFT_APP_NAME&#39;));

/** MySQL database username */
define(&#39;DB_USER&#39;, getenv(&#39;OPENSHIFT_MYSQL_DB_USERNAME&#39;));

/** MySQL database password */
define(&#39;DB_PASSWORD&#39;, getenv(&#39;OPENSHIFT_MYSQL_DB_PASSWORD&#39;));

/** MySQL hostname */
define(&#39;DB_HOST&#39;, getenv(&#39;OPENSHIFT_MYSQL_DB_HOST&#39;) . &#39;:&#39; . getenv(&#39;OPENSHIFT_MYSQL_DB_PORT&#39;));</code></pre></div>
<p>In the WP Config file, we also need to enter some unique phrases for the
items in Authentication Keys and Salts section. Remove the lines shown
in the next screenshot from the WP Config file.</p>

<p><code>quickstart/php/wp-config.php</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML">define(&#39;AUTH_KEY&#39;,         &#39;put your unique phrase here&#39;);
define(&#39;SECURE_AUTH_KEY&#39;,  &#39;put your unique phrase here&#39;);
define(&#39;LOGGED_IN_KEY&#39;,    &#39;put your unique phrase here&#39;);
define(&#39;NONCE_KEY&#39;,        &#39;put your unique phrase here&#39;);
define(&#39;AUTH_SALT&#39;,        &#39;put your unique phrase here&#39;);
define(&#39;SECURE_AUTH_SALT&#39;, &#39;put your unique phrase here&#39;);
define(&#39;LOGGED_IN_SALT&#39;,   &#39;put your unique phrase here&#39;);
define(&#39;NONCE_SALT&#39;,       &#39;put your unique phrase here&#39;);</code></pre></div>
<p>We can get random unique keys and salts from WordPress Org. Open
<a href="https://api.wordpress.org/secret-key/1.1/salt/" target="_blank">WordPress API</a> in a
browser tab, which generates and displays random keys and salts. Copy
the contents, paste it to the WP Config file&rsquo;s and save the changes.</p>

<p>Use <code>git status</code> to check the pending changes and then add the php
directory and its content to the Git repository.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Window and Linux

C:&gt; cd quickstart        // change to application source dir created by Git clone
C:&gt; git status
C:&gt; git add php</code></pre></div>
<p>Finally, we need to commit the changes to the repository.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Window and Linux

C:&gt; git commit -am &#34;WordPress software added&#34;</code></pre></div>
<p>For a better understanding, let&rsquo;s recap the items we did so far.</p>

<ul>
<li><p>With Git, we clone the OpenShift PHP application repository to a
local repository in our PC.</p></li>

<li><p>Download the WordPress Software and copy the extracted wordpress
directory to the application repository and renamed the directory as
php.</p></li>

<li><p>Create wp-config.php file and modify its parameters for OpenShift.</p></li>

<li><p>Finally, we add all the changes to Git and commit the changes.</p></li>
</ul>

<p>So far, all the changes are made in the local repository. Next, we need
to push the changes back to the remote repository that is in OpenShift.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Window and Linux

C:&gt; git push</code></pre></div>
<p>Git compresses and pushes the change objects - new php directory and its
content - to the application repository in the OpenShift application.
Git push takes some time to complete as it has to transfer about 35 MB.
After updating the OpenShift repository, Git also restarts the OpenShift
application and MySQL database as part of the deployment cycle. Our new
WordPress application is ready, but before proceeding to WordPress
installation, we need to make one crucial change to WordPress structure
that is specific to OpenShift.</p>

<p>Move wp-content directories</p>

<p>WordPress places themes, plugins and upload files in three separate
directories under its <code>wp-content</code> directory. In OpenShift, Git deploys
the application in directory <code>app-root/repo</code>. The php directory that
contains WordPress software goes into this directory. The WordPress
directory structure in OpenShift is shown in the screenshot.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/wordpress/media/wp-source-wordpressdir.png" alt="OpenShift WordPress Install Source - WordPress Directory Structure" />
</figure>


<p>By default, whenever we install a new theme it installs in
<code>app-root/repo/php/wp-content/themes</code>. Plugins and uploads are treated
similarly. That leads to a problem in OpenShift. When we make some
changes to the application repository and push the changes to OpenShift,
Git overwrites the php directory with the new version. Obviously the
items that WordPress installs under <code>wp-content</code> are lost.</p>

<p>To overcome this problem, we have to move wp-content directories to
<code>app-root/data</code> so that they are not overwritten during deployment.</p>

<p>We use <strong>Git action hook</strong> feature to link wp-content directories to
app-root/data directories. Open command prompt and change to the local
Git repository. Delete plugins, themes and uploads directory from
<code>php/wp-content</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Windows

C:&gt; cd quickstart
C:&gt; cd php\wp-content
C:&gt; rmdir plugins themes uploads /s


Linux

$ cd quickstart
$ cd php/wp-content
$ rm -rf plugins themes uploads</code></pre></div>
<p>Next add a file named <code>build</code> to <code>quickstart/.openshift/action_hooks</code>
with following
contents.</p>

<p><code>quickstart/.openshift/action_hooks/build</code></p>
<div class="highlight"><pre class="chroma"><code class="language-XML" data-lang="XML">ln -sf $OPENSHIFT_DATA_DIR/uploads $OPENSHIFT_REPO_DIR/php/wp-content/uploads
ln -sf $OPENSHIFT_DATA_DIR/plugins $OPENSHIFT_REPO_DIR/php/wp-content/plugins
ln -sf $OPENSHIFT_DATA_DIR/themes $OPENSHIFT_REPO_DIR/php/wp-content/themes</code></pre></div>
<p>Commit the change to Git local repository with following commands.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen"> Windows 

C:&gt; cd quickstart
C:&gt; git add .openshift\action_hooks\build
C:&gt; git update-index --chmod=+x .openshift\action_hooks\build
C:&gt; git commit -am &#34;Build script added&#34;

 Linux

$ cd quickstart
$ chmod 755 .openshift/action_hooks/build
$ git add .openshift/action_hooks/build
$ git commit -am &#34;Build script added&#34;</code></pre></div>
<p> </p>

<p>Finally, push the changes back to OpenShift repository.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">Windows and Linux

C:&gt; git push</code></pre></div>
<p>Git executes build file after it deploys the new version of the
application. In the build script, we create three links in
php/wp-content which points to directories in app-root/data so that
themes, plugins and uploads files lands in app-root/data instead of
repo/php/wp-content.</p>

<script>
    console.log("slot C"); 
</script>

<p>Next we need to create three directories in <code>app-root/data</code>. To create
the directories, log in to OpenShift Shell and execute the following
commands.</p>
<div class="highlight"><pre class="chroma"><code class="language-screen" data-lang="screen">&gt; cd app-root/data
&gt; mkdir plugins themes uploads</code></pre></div>
<p>With that WordPress source deployment is over, and WordPress is ready
for installation. Complete the installation and settings explained in <a href="/tutorial/wordpress/wordpress-installation/">WordPress Installation</a>.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.8489448e4e75ceb388a38abde3871de9485502974c5feddcf04a3d413dc6e103.js"></script>
</body>

</html>