<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="Scoopi uses set of YML definition files to extract data from web pages. Set of example definition files is provided to learn the yml elements used by Scoopi"><meta name=author content="Maithilish"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-42139846-3")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"articleSection":"tutorial","name":"Definition files - Scoopi Web Scraper - why just scrape when you can scoop","headline":"Definition files - Scoopi Web Scraper - why just scrape when you can scoop","url":"https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/","description":"Scoopi uses set of YML definition files to extract data from web pages. Set of example definition files is provided to learn the yml elements used by Scoopi","inLanguage":"en","image":"https://www.codetab.org/logo.jpg","author":"Maithilish","creator":"Maithilish","publisher":{"@type":"Organization","name":"Maithilish","url":"https://www.codetab.org/","logo":{"@type":"ImageObject","url":"https://www.codetab.org/logo.png","width":"200","height":"200"}},"copyrightHolder":"Maithilish","copyrightYear":"2020","datePublished":"2020-11-05T22:37:00+0530","dateModified":"2020-11-05T22:37:00+0530","wordCount":"525","keywords":["definition file","Blog"]}</script><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/vendor.min.36dba173dca94f4b9fca7c6a1c3d15560f7a96c6ab0c0042dcd000f8469a9dc1.css integrity="sha256-Ntuhc9ypT0ufynxqHD0VVg96lsarDABC3NAA+EaancE="><title>Definition files - Scoopi Web Scraper - why just scrape when you can scoop</title></head><body id=top><header><nav id=navbar-main class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm"><div class=container-fluid><a class=navbar-brand href=/>Codetab</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#tutorials><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About</span></a></li></ul></div></div></nav></header><div class=container-fluid><div class=row>&nbsp;</div><div class=row><aside id=sidebar class=col-md-3><div class=row><nav id=navbar-side class="bg-light text-secondary"><h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4><nav class="navbar navbar-light bg-white navbar-expand-md"><button class="navbar-toggler ml-auto" type=button data-toggle=collapse data-target=#bookmenu aria-controls=bookmenu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=bookmenu><div><div id="Scoopi Web Scraper"><div><a href=https://www.codetab.org/tutorial/scoopi-web-scraper/introduction/ class="toc-page text-wrap text-muted">Introduction</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-scoopi-web-scraper-basic id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Basics</a><div id=tutorial-scoopi-web-scraper-basic><a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/installation-quick-start/ class="toc-page dropdown-item text-wrap text-muted">Installation and Quick Start</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/ class="toc-page dropdown-item text-wrap text-danger">Definition File</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/datadef/ class="toc-page dropdown-item text-wrap text-muted">DataDef</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/dimensions/ class="toc-page dropdown-item text-wrap text-muted">Dimensions</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/data-items-dynamic-query/ class="toc-page dropdown-item text-wrap text-muted">Data Items and Dynamic Query</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/index-indexrange-breakafter/ class="toc-page dropdown-item text-wrap text-muted">Index, IndexRange and BreakAfter</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/filters/ class="toc-page dropdown-item text-wrap text-muted">Filters</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/selector-query-analyzer/ class="toc-page dropdown-item text-wrap text-muted">Selector</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-scoopi-web-scraper-advanced id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Advanced</a><div id=tutorial-scoopi-web-scraper-advanced class=collapse><a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-dimensions/ class="toc-page dropdown-item text-wrap text-muted">Multi Dimensions</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-tasks/ class="toc-page dropdown-item text-wrap text-muted">Multi Tasks</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/workflow-steps-plugins/ class="toc-page dropdown-item text-wrap text-muted">WorkFlow, Steps and Plugins</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/ class="toc-page dropdown-item text-wrap text-muted">Converters</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/scripter/ class="toc-page dropdown-item text-wrap text-muted">Scripter</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/create-locators-links/ class="toc-page dropdown-item text-wrap text-muted">Create Locators from Links</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/pagination/ class="toc-page dropdown-item text-wrap text-muted">Pagination</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/appender-encoder/ class="toc-page dropdown-item text-wrap text-muted">Appender and Encoder</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/dom-loader-selenium-webdriver/ class="toc-page dropdown-item text-wrap text-muted">Dom Loader</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/advanced/ajax-selenium-webdriver/ class="toc-page dropdown-item text-wrap text-muted">Ajax</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-scoopi-web-scraper-manage id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Manage</a><div id=tutorial-scoopi-web-scraper-manage class=collapse><a href=https://www.codetab.org/tutorial/scoopi-web-scraper/manage/persistence/ class="toc-page dropdown-item text-wrap text-muted">Persistence</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/manage/split-definitions/ class="toc-page dropdown-item text-wrap text-muted">Split Definitions</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/manage/logs/ class="toc-page dropdown-item text-wrap text-muted">Logs</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/manage/dashboard/ class="toc-page dropdown-item text-wrap text-muted">Dashboard</a></div></div><div class="dropdown show mt-2"><a class="no-collapse-on-click card-link toc-section text-dark" href=#tutorial-scoopi-web-scraper-cluster id=dropdownheader data-toggle=collapse aria-haspopup=true aria-expanded=false>Cluster</a><div id=tutorial-scoopi-web-scraper-cluster class=collapse><a href=https://www.codetab.org/tutorial/scoopi-web-scraper/cluster/scoopi-cluster-quick-start/ class="toc-page dropdown-item text-wrap text-muted">Quick Start</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/cluster/scoopi-cluster-docker/ class="toc-page dropdown-item text-wrap text-muted">Docker</a>
<a href=https://www.codetab.org/tutorial/scoopi-web-scraper/cluster/scoopi-cluster-kubernetes/ class="toc-page dropdown-item text-wrap text-muted">kubernetes</a></div></div></div></div></nav></nav></div></aside><div id=contentbar class=col-md-7><div id=share class="row justify-content-end"><div title=twitter><a href="https://twitter.com/intent/tweet?url=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/&text=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target=_blank rel=noopener><i class="icon-twitter-squared text-secondary"></i></a></div><div title=facebook><a href="https://www.facebook.com/sharer.php?u=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/&t=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target=_blank rel=noopener><i class="icon-facebook-squared text-secondary"></i></a></div><div title=linkedin><a href="https://www.linkedin.com/shareArticle?url=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/&title=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target=_blank rel=noopener><i class="icon-linkedin-squared text-secondary"></i></a></div><div title=email><a href="mailto:?subject=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop&body=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/" target=_blank rel=noopener><i class="icon-mail-squared text-secondary"></i></a></div><div title=whatsapp><a href="https://web.whatsapp.com/send?text=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop%20https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/" target=_blank rel=noopener><i class="icon-whatsapp text-secondary"></i></a></div><div title=reddit><a href="https://reddit.com/submit?url=https://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/&title=Definition%20files%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target=_blank rel=noopener><i class="icon-reddit-alien text-secondary"></i></a></div><i class="icon-blank ctab-transparent"></i></div><div class=row><main id=content class="col-md-11 post-basic"><h1 id=defs-locators-and-tasks>Defs, Locators and Tasks</h1><p>Scoopi uses YML definition files to extract data from HTML pages. To
learn the YML elements used by the definition files, Scoopi distribution
comes with a set of examples which are under <code>def/examples</code> folder.</p><h2 id=scoopi-definition-files>Scoopi Definition Files</h2><p>Scoopi creates the data model based on YML definition files. We can
specify the definition file using <em>scoopi.defs.dir</em> configuration
property, which is normally set in <code>scoopi.properties</code> file located in
<code>conf</code> folder. By default, it is set to
<code>defs/examples/fin/jsoup/quickstart</code> which loads the quickstart example.
As we progress through the examples, you need to edit
<code>conf/scoopi.properties</code> file and set property <em>scoopi.defs.dir</em> to the
specific example to run it.</p><h3 id=def-file>Def file</h3><p>The def file defines the definition required to run Scoopi. In examples,
we have named the definition file as <code>job.yml</code> but it can be named
anything as long as file extension is <em>yml</em>. In otherwords, any file
from the defs directory with file extension <em>yml</em> is loaded by scooopi
as definition file.</p><p>The top level elements in the <code>job.yml</code> are</p><ul><li>locatorGroups</li><li>taskGroups</li><li>dataDefs</li></ul><p>In this chapter, we go through <a href=https://github.com/maithilish/scoopi-scraper/blob/master/engine/src/main/resources/defs/examples/fin/jsoup/quickstart/job.yml target=_blank>Quickstart
job.xml</a> and explain <em>locatorGroups</em> and <em>taskGroups</em> elements. Refer <a href=/tutorial/scoopi-web-scraper/basic/installation-quick-start/>Scoopi Installation</a> to know how to run Scoopi and examples.</p><h2 id=locatorgroups>LocatorGroups</h2><p>LocatorGroups defines list of locators. The locator specifies the name
and URL of the HTML page to fetch from the web or local file system.</p><p>In the example <code>job.yml</code>, the locatorGroups is defined as</p><p><code>defs/examples/fin/jsoup/quickstart/job.yml</code></p><pre tabindex=0><code class=language-raw data-lang=raw>locatorGroups:

  snapshotGroup:
    locators: [
      { name: acme, url: &#34;/defs/examples/fin/page/acme-snapshot.html&#34; }
    ]
</code></pre><p>It defines a locatorGroup named snapshotGroup which in turn defines one
locator. The locator name is acme and its <em>url</em> points to local HTML
file <code>acme-snapshot.html</code> which is in <code>defs/examples/fin/page</code> folder.</p><p>Here is one more example with two groups</p><pre tabindex=0><code class=language-raw data-lang=raw>locatorGroups:

  groupA:
    locators: [
       { name: acme, url: &#34;/defs/examples/fin/page/acme-snapshot.html&#34; },
       { name: exPage, url: &#34;http://example.org&#34; }    
    ]

  groupB:
    locators: [
       { name: acme, url: &#34;/defs/examples/fin/page/acme-bs.html&#34; }  
    ]
</code></pre><p>It defines two locatorGroups named groupA and groupB. The first group
defines two locators and the second group defined one locator. To scrape
pages from website, specify the actual address of the page such as
<a href=http://example.org>http://example.org</a>.</p><p>Please note that in the above examples we have used JSON array construct
using [ ] and {} as we can define one locator per line. But, you are
free to use slightly lengthier YML array construct as show below</p><pre tabindex=0><code class=language-raw data-lang=raw>locatorGroups:

  groupA:
    locators:
       - name: acme
         url: &#34;/defs/examples/page/acme-snapshot.html&#34;
       - name: exPage
         url: &#34;http://example.org&#34;
</code></pre><h2 id=taskgroups>TaskGroups</h2><p>Once locator is loaded Scoopi has to run some task on it and taskGroups
property is used to define task to execute for the page loaded by the
locator.</p><p>The snippet from example <code>job.yml</code> with locatorGroups and taskGroups is</p><p><code>defs/examples/fin/jsoup/quickstart/job.yml</code></p><pre tabindex=0><code class=language-raw data-lang=raw>taskGroups:

  snapshotGroup:
    priceTask:
      dataDef: price
</code></pre><p>The <em>taskGroups</em> defines a task group named <em>snapshotGroup</em>. The task
group has a task named <em>priceTask</em> with a property named dataDef and its
value is <em>price</em>.</p><p>Scoopi executes this task to all locators defined for <em>snapshotGroup</em> in
<em>locatorGroups</em>.</p><p>At this point, Scoopi knows</p><ul><li>which pages to download or load</li><li>which tasks to execute for which page</li><li>which dataDef to use for a task</li></ul><p>In the next chapter, we describe dataDefs which is used to parse the
data from the page.</p></main></div></div><aside id=sidebar-right class=col-md-2><div class="row my-5 justify-content-center border"><div>&nbsp;</div><ins class=adsbygoogle style=display:inline-block;width:160px;height:600px data-ad-client=ca-pub-1281079745125126 data-ad-slot=8963022093></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div>&nbsp;</div></div></aside></div></div><footer class="container-fluid mt-5"><div class=row><div class="col ml-auto"><div class="row mb-1 ml-2"><a class=text-muted href=/privacy-policy>Privacy</a></div><div class="row text-muted mb-2 ml-2"><span>&copy; 2019 &#183;Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span></div></div><div class="col mr-auto"><span class=float-right><a href=# id=back_to_top><i class="icon-up-open h1 text-secondary"></i></a></span></div></div></footer><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script src=/js/vendor.min.6426da8436d34406d4c00f2275c86cf1747a900b1609a0b04e1b68d542f60f72.js></script></body></html>