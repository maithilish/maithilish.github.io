<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Web pages provide pagination buttons or links to navigate through series of pages. We can use link locators described in previous chapter to scrape pages using pagination.">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Pagination - Scoopi Web Scraper - why just scrape when you can scoop",
        "headline" : "Pagination - Scoopi Web Scraper - why just scrape when you can scoop",
        "description" : "Web pages provide pagination buttons or links to navigate through series of pages. We can use link locators described in previous chapter to scrape pages using pagination.",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12 06:40:00 +0530 IST",
        "dateModified" : "2019-01-12 06:40:00 +0530 IST",
        "url" : "/tutorial/scoopi-web-scraper/advanced/pagination/",
        "wordCount" : "331",
        "keywords" : [ "pagination","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">





<link rel="stylesheet" href="/css/vendor.min.fda72737edeb853fff288025d5ea04d671489f0f524e38c245ccf83306a19ab3.css" integrity="sha256-/acnN&#43;3rhT//KIAl1eoE1nFInw9STjjCRcz4MwahmrM=">

<title>Pagination - Scoopi Web Scraper - why just scrape when you can scoop</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper">
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-basic" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Basics
    </a>
    
    <div id="tutorial-scoopi-web-scraper-basic" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/installation-quick-start/" class="toc-page dropdown-item text-muted">
            Installation and Quick Start
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/" class="toc-page dropdown-item text-muted">
            Definition File
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/datadef/" class="toc-page dropdown-item text-muted">
            DataDef
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/dimensions/" class="toc-page dropdown-item text-muted">
            Dimensions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/data-items-dynamic-query/" class="toc-page dropdown-item text-muted">
            Data Items and Dynamic Query
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/index-indexrange-breakafter/" class="toc-page dropdown-item text-muted">
            Index, IndexRange and BreakAfter
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/filters/" class="toc-page dropdown-item text-muted">
            Filters
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/selector-query-analyzer/" class="toc-page dropdown-item text-muted">
            Selector
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-advanced" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Advanced
    </a>
    
    <div id="tutorial-scoopi-web-scraper-advanced" class="">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-dimensions/" class="toc-page dropdown-item text-muted">
            Multi Dimensions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-tasks/" class="toc-page dropdown-item text-muted">
            Multi Tasks
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/workflow-steps-plugins/" class="toc-page dropdown-item text-muted">
            WorkFlow, Steps and Plugins
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/" class="toc-page dropdown-item text-muted">
            Converters
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/scripter/" class="toc-page dropdown-item text-muted">
            Scripter
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/create-locators-links/" class="toc-page dropdown-item text-muted">
            Create Locators from Links
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/pagination/" class="toc-page dropdown-item text-danger">
            Pagination
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/appender-encoder/" class="toc-page dropdown-item text-muted">
            Appender and Encoder
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/dom-loader-selenium-webdriver/" class="toc-page dropdown-item text-muted">
            Dom Loader
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/ajax-selenium-webdriver/" class="toc-page dropdown-item text-muted">
            Ajax
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-manage" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Manage
    </a>
    
    <div id="tutorial-scoopi-web-scraper-manage" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/persistence/" class="toc-page dropdown-item text-muted">
            Persistence
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/split-definitions/" class="toc-page dropdown-item text-muted">
            Split Definitions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/logs/" class="toc-page dropdown-item text-muted">
            Logs
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/dashboard/" class="toc-page dropdown-item text-muted">
            Dashboard
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/db-setup/" class="toc-page dropdown-item text-muted">
            DB Setup
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <main id="content" class="col-md-8 post-basic">
      

<h1 id="pagination">Pagination</h1>

<p>Many pages provide pagination buttons or links to navigate through
series of pages. We can use link locators described in previous chapter
to scrape pages using pagination.</p>

<p>The <a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/book/page" target="_blank">Books example
folder</a>
contains three HTML pages which has pagination link at the bottom of
pages.</p>

<p><code>defs/examples/book/page/page-1.html</code></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;pager&#34;</span><span class="p">&gt;</span>
       <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;current&#34;</span><span class="p">&gt;</span>Page 1 of 50<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
       <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;next&#34;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;page-2.html&#34;</span><span class="p">&gt;</span>next<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<p>The <a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/book/jsoup/ex-4/job.yml" target="_blank">Books
Example 4</a>
go through each page and scrape book items.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">locatorGroups:
  bookGroup:
    locators: &lt;a href=&#34;https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/book/jsoup/ex-5/job.yml&#34; target=&#34;_blank&#34;&gt;
       { name: &#34;books&#34;, url: &#34;/defs/examples/book/page/page-1.html&#34; }  
    ]

taskGroups:
  bookGroup:
    bookTask:
      dataDef: bookData

    linkTask:
      dataDef: bookLink
      steps:
        jsoupDefault:              
          process:
            class: &#34;org.codetab.scoopi.step.process.LocatorCreator&#34;
            previous: parser
            next: seeder </code></pre></div>
<p>The locator defines only the first page. The bookTask parse book items
from the page while the link task scrape next page link and creates a
locator which points to next page. The process goes on till the last
page.</p>

<p>While datadef to scrape link is as below</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">dataDefs:
  bookLink:
    query:
      block: &#34;li[class=&#39;next&#39;]&#34;              
    items: [ 
      item: { name: &#34;link&#34;,  selector: &#34;a attribute: href&#34;, 
        linkGroup: bookGroup, prefix: [ &#34;/defs/examples/book/page/&#34; ] },
    ]</code></pre></div>
<p>It creates a new locator pointing to the scraped link and assign it to
bookGroup so that bookGroup tasks - bookTask (which scrapes book item)
and linkTask (which scrapes next page link) are executed on the new
page.</p>

<p>In this previous chapter we scrape link in snapshotGroup and assigned it
bsGroup for processing. But, in pagination there is no shift in task
group. In the pagination example, we scrape link in bookGroup and assign
it back to the same group.</p>

<h2 id="breaking-the-pagination">Breaking the pagination</h2>

<p>The [Books
Example 5</a>
breaks pagination using <em>linkBreakOn</em> as show below.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">bookLink:
    query:
      block: &#34;li[class=&#39;next&#39;]&#34;              
    items: [ 
      item: { name: &#34;link&#34;,  selector: &#34;a attribute: href&#34;, 
        linkGroup: bookGroup, prefix: [ &#34;/defs/examples/book/page/&#34; ],
        linkBreakOn: [ &#34;/defs/examples/fin/page/page-3.html&#34; },
    ]</code></pre></div>
<p>With <em>linkBreakOn</em>, it paginate through first and second page and breaks
when it encounters scraped link value is page-3.html. To break, link
value use full link including prefix, if any.</p>

<p>The next chapter covers encoders and appenders to output data.</p>

    </main>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <img src="/icon/arrow-up.png" alt="Back to Top">
                </a>
            </span>
        </div>
    </div>

</footer>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>







<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>