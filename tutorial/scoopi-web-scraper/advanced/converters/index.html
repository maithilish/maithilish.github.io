<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Scoopi web scraper default steps can be overriden to define new set of steps. It also possible to convert or format data using converter plugins">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Converters - Scoopi Web Scraper - why just scrape when you can scoop",
        "headline" : "Converters - Scoopi Web Scraper - why just scrape when you can scoop",
        "description" : "Scoopi web scraper default steps can be overriden to define new set of steps. It also possible to convert or format data using converter plugins",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-01-12 00:16:00 +0530 IST",
        "dateModified" : "2019-01-12 00:16:00 +0530 IST",
        "url" : "/tutorial/scoopi-web-scraper/advanced/converters/",
        "wordCount" : "487",
        "keywords" : [ "converters","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">






<link rel="stylesheet" href="/css/vendor.min.06af1451a3c5b3b70a0c0bd7be26092e20e9c31251c08d44dbe1486a9a2a414c.css" integrity="sha256-Bq8UUaPFs7cKDAvXviYJLiDpwxJRwI1E2&#43;FIapoqQUw=">

<title>Converters - Scoopi Web Scraper - why just scrape when you can scoop</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/post"  >
                        
                        <span>Posts</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Scoopi Web Scraper</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Scoopi Web Scraper">
    
    <div>
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
</div>







<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-basic" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Basics
    </a>
    
    <div id="tutorial-scoopi-web-scraper-basic" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/installation-quick-start/" class="toc-page dropdown-item text-muted">
            Installation and Quick Start
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/definition-file/" class="toc-page dropdown-item text-muted">
            Definition File
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/datadef/" class="toc-page dropdown-item text-muted">
            DataDef
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/dimensions/" class="toc-page dropdown-item text-muted">
            Dimensions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/data-items-dynamic-query/" class="toc-page dropdown-item text-muted">
            Data Items and Dynamic Query
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/index-indexrange-breakafter/" class="toc-page dropdown-item text-muted">
            Index, IndexRange and BreakAfter
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/filters/" class="toc-page dropdown-item text-muted">
            Filters
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/basic/selector-query-analyzer/" class="toc-page dropdown-item text-muted">
            Selector
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-advanced" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Advanced
    </a>
    
    <div id="tutorial-scoopi-web-scraper-advanced" class="">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-dimensions/" class="toc-page dropdown-item text-muted">
            Multi Dimensions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/multi-tasks/" class="toc-page dropdown-item text-muted">
            Multi Tasks
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/workflow-steps-plugins/" class="toc-page dropdown-item text-muted">
            WorkFlow, Steps and Plugins
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/" class="toc-page dropdown-item text-danger">
            Converters
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/scripter/" class="toc-page dropdown-item text-muted">
            Scripter
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/create-locators-links/" class="toc-page dropdown-item text-muted">
            Create Locators from Links
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/pagination/" class="toc-page dropdown-item text-muted">
            Pagination
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/appender-encoder/" class="toc-page dropdown-item text-muted">
            Appender and Encoder
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/dom-loader-selenium-webdriver/" class="toc-page dropdown-item text-muted">
            Dom Loader
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/ajax-selenium-webdriver/" class="toc-page dropdown-item text-muted">
            Ajax
        </a>
        
        
        
        
    </div>
</div>




<div class="dropdown show mt-2">
    <a class="no-collapse-on-click card-link toc-section text-dark" href="#tutorial-scoopi-web-scraper-manage" id="dropdownheader"
        data-toggle="collapse" aria-haspopup="true" aria-expanded="false">
        Manage
    </a>
    
    <div id="tutorial-scoopi-web-scraper-manage" class="collapse">
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/persistence/" class="toc-page dropdown-item text-muted">
            Persistence
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/split-definitions/" class="toc-page dropdown-item text-muted">
            Split Definitions
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/logs/" class="toc-page dropdown-item text-muted">
            Logs
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/dashboard/" class="toc-page dropdown-item text-muted">
            Dashboard
        </a>
        
        
        <a href="http://www.codetab.org/tutorial/scoopi-web-scraper/manage/db-setup/" class="toc-page dropdown-item text-muted">
            DB Setup
        </a>
        
        
        
        
    </div>
</div>



                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <div id="contentbar" class="col-md-8">
      <div id="share" class="row justify-content-end">





<div title=twitter>
    <a href="https://twitter.com/intent/tweet?url=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/&amp;text=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target="_blank" rel="noopener">
        <i class="icon-twitter-squared text-secondary"></i>
    </a>
</div>




<div title=facebook>
    <a href="https://www.facebook.com/sharer.php?u=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/&amp;t=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target="_blank" rel="noopener">
        <i class="icon-facebook-squared text-secondary"></i>
    </a>
</div>




<div title=linkedin>
    <a href="https://www.linkedin.com/shareArticle?url=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/&amp;title=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target="_blank" rel="noopener">
        <i class="icon-linkedin-squared text-secondary"></i>
    </a>
</div>




<div title=email>
    <a href="mailto:?subject=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop&amp;body=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/" target="_blank" rel="noopener">
        <i class="icon-mail-squared text-secondary"></i>
    </a>
</div>




<div title=whatsapp>
    <a href="https://web.whatsapp.com/send?text=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop%20http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/" target="_blank" rel="noopener">
        <i class="icon-whatsapp text-secondary"></i>
    </a>
</div>




<div title=reddit>
    <a href="https://reddit.com/submit?url=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/&amp;title=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target="_blank" rel="noopener">
        <i class="icon-reddit-alien text-secondary"></i>
    </a>
</div>




<div title=weibo>
    <a href="https://service.weibo.com/share/share.php?url=http://www.codetab.org/tutorial/scoopi-web-scraper/advanced/converters/&amp;title=Converters%20-%20Scoopi%20Web%20Scraper%20-%20why%20just%20scrape%20when%20you%20can%20scoop" target="_blank" rel="noopener">
        <i class="icon-weibo text-secondary"></i>
    </a>
</div>




<i class="icon-blank ctab-transparent"></i></div>
      <div class="row">
        <main id="content" class="col-md-11 post-basic">
          

<h1 id="converters">Converters</h1>

<p>This chapter explain adding new steps to workflow and converter plugins.</p>

<h2 id="add-new-step">Add new Step</h2>

<p>We can add new steps at task level. The
<a href="https://github.com/maithilish/scoopi/blob/master/src/main/resources/defs/examples/fin/jsoup/ex-8/job.yml" target="_blank">Example 8</a>
adds <em>converter</em> step to <em>jsoupDefault</em> steps in bs task. The relevant
snippet is shown below</p>

<p><code>defs/examples/fin/jsoup/ex-8/job.yml</code></p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">bsTask:
  dataDef: bs
  steps:
    jsoupDefault:
      converter:
        class: &#34;org.codetab.scoopi.step.process.DataConverter&#34;
        previous: filter
        next: appender
        ....  </code></pre></div>
<p>The bsTask uses jsoupDefault built-in step as base and inserts converter
step between filter and appender steps. The converter step is added only
to baTask and for any other task that uses jsoupDefault step is not
affected by this.</p>

<p>The structure of steps add or override is as follows</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">bsTask:                 -- task name
    dataDef: bs              
    steps:                 
      jsoupDefault:          -- base steps name
        converter:           -- step to add or override</code></pre></div>
<p>Steps can override or add multiple steps.</p>

<h2 id="converters-1">Converters</h2>

<p>Let&rsquo;s see how to add plugins to steps. The datadef snippet from the
example is as below.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">bsTask:
  dataDef: bs
  steps:
    jsoupDefault:
      converter:
        class: &#34;org.codetab.scoopi.step.process.DataConverter&#34;
        previous: filter
        next: appender           
        plugins: &lt;a href=&#34;https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html&#34; target=&#34;_blank&#34;&gt;
          plugin: { 
                 name: dateConverter, 
                 class: &#34;org.codetab.scoopi.plugin.converter.DateRoller&#34;, 
                 item: year, 
                 inPattern: &#34;MMM &#39;&#39;YY&#34;, 
                 outPattern: &#34;yyyy-MM-dd&#34;, 
                 roll: &#34;DAY_OF_MONTH=ceil&#34; }            
       ]</code></pre></div>
<p>The <em>plugins</em> is an array defined at step level and as array, it can
hold multiple <em>plugin</em> objects. The above example defines a single
plugin named dateConverter. It uses
<em>org.codetab.scoopi.plugin.converter.DateRoller</em> which is applied to
item named year. The inPattern and outPattern changes the date format
and also roll any date field to ceiling and floor. For example, if axis
item&rsquo;s date text is <em>Dec &lsquo;16</em>, the DateRoller first changes the date to
format YYYY-MM-dd and date becomes 2016-12-01, but as financial dates
are normally month end we need to roll the date field <em>DAY_OF_MONTH</em>
to ceiling to get month end date. Refer
[SimpleDateFormat</a>
for in and out patterns and
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html" target="_blank">Calendar</a>
for date fields.</p>

<p>Just to change the format without rolling the date, we can use
<em>org.codetab.scoopi.plugin.converter.DateFormater</em>.</p>

<h2 id="new-steps-definition">New steps definition</h2>

<p>Do we need to define multiple steps when multiple tasks require
jsoupDefault steps with date converter plugin. No, Scoopi allows you to
define new steps in job.yml file using top level <em>steps</em> element.</p>
<div class="highlight"><pre class="chroma"><code class="language-raw" data-lang="raw">taskGroups:
  bsGroup:
    bsTask:
      dataDef: bs
      steps: fooSteps

  plGroup:
    plTask:
      dataDef: pl
      steps: fooSteps

steps:
  fooSteps:
    jsoupDefault:
      converter:
        class: &#34;org.codetab.scoopi.step.process.DataConverter&#34;
        previous: filter
        next: appender           
        plugins: &lt;a href=&#34;https://github.com/maithilish/scoopi/blob/master/src/main/resources/steps-default.yml&#34; target=&#34;_blank&#34;&gt;
          plugin: { 
            name: dateConverter, 
            class: &#34;org.codetab.scoopi.plugin.converter.DateRoller&#34;, 
            item: year, 
            inPattern: &#34;MMM &#39;&#39;YY&#34;, 
            outPattern: &#34;yyyy-MM-dd&#34;, 
            roll: &#34;DAY_OF_MONTH=ceil&#34; }            
        ]</code></pre></div>
<p>The above snippet defines two tasks - bsTask and plTask and both uses an
user defined steps - fooSteps. The steps element defines a new fooSteps
which uses jsoupDefault as base and adds converter step with DateRoller
plugin. The steps element is top level element in job.yml like other top
level elements - taskGroups, locatorGroups and dataDefs.</p>

<p>We can also create completely new steps without using default steps as
base. To do that, copy any steps definition from
[steps-default.yml</a>
to job.yml. Rename and alter the step as required.</p>

<p>The next chapter describes scripting plugin which allows data
modifications with JavaScript.</p>

        </main>
        <aside id="sidebar-right" class="col-md-1">
        </aside>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank"
                        rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <i class="icon-up-open h1 text-secondary"></i>
                </a>
            </span>
        </div>
    </div>

</footer>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>








<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>