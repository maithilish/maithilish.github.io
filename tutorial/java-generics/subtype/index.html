<!DOCTYPE html>
<html lang="en-us">

<head><meta charset="utf-8">
<meta name="description" content="Generic has its own rules about subtyping">
<meta name="author" content="Maithilish">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42139846-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-42139846-3');
</script>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://www.codetab.org/"
        },
        "articleSection" : "tutorial",
        "name" : "Java Generics Subtype - CodeTab",
        "headline" : "Java Generics Subtype - CodeTab",
        "description" : "Generic has its own rules about subtyping",
        "inLanguage" : "en",
        "author" : "Maithilish",
        "creator" : "Maithilish",
        "publisher": "Maithilish",
        "copyrightHolder" : "Maithilish",
        "copyrightYear" : "2019",
        "datePublished": "2019-07-23 13:54:00 +0530 IST",
        "dateModified" : "2019-07-23 13:54:00 +0530 IST",
        "url" : "/tutorial/java-generics/subtype/",
        "wordCount" : "683",
        "keywords" : [ "java generics inheritance subtype tutorial","Blog" ]
    }
</script>
<link rel="icon" href="/favicon.ico">





<link rel="stylesheet" href="/css/vendor.min.fda72737edeb853fff288025d5ea04d671489f0f524e38c245ccf83306a19ab3.css" integrity="sha256-/acnN&#43;3rhT//KIAl1eoE1nFInw9STjjCRcz4MwahmrM=">

<title>Java Generics Subtype - CodeTab</title></head>

<body id="top"><header><nav id="navbar-main" class="navbar fixed-top navbar-light navbar-expand-lg bg-white border-bottom shadow-sm">

    <div class="container-fluid">

        
        <a class="navbar-brand" href="/">Codetab</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbar">

            
            
            <ul class="navbar-nav ml-auto">
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#tutorials"  >
                        
                        <span>Home</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#projects"  >
                        
                        <span>Projects</span>
                        
                    </a>
                </li>

                
                

                

                
                
                
                
                

                <li class="nav-item">
                    <a class="nav-link" href="/#about"  >
                        
                        <span>About</span>
                        
                    </a>
                </li>

                
                

            </ul>

        </div>
    </div>
</nav></header>

<div class="container-fluid">
  <div class="row">&nbsp;</div>
  <div class="row">
    <aside id="sidebar" class="col-md-4">
      <div class="row"><nav id="navbar-side" class="bg-light text-secondary">
        
    
    

    

    
    

    

    <h4 class="text-muted bg-white pl-2">Java Generics Tutorial</h4>

    <nav class="navbar navbar-light bg-white navbar-expand-md">

        <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#bookmenu"
            aria-controls="bookmenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bookmenu">
            <div>
                
                









<div id="Java Generics Tutorial - CodeTab">
    
    <div>
        <a href="http://www.codetab.org/tutorial/java-generics/introduction/" class="toc-page text-muted ">
            Introduction
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/java-generics/subtype/" class="toc-page text-danger ">
            Subtypes
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/java-generics/wildcards/" class="toc-page text-muted ">
            Wildcards
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/java-generics/bounded-wildcards/" class="toc-page text-muted ">
            Bounded Wildcards
        </a>
    </div>
    
    <div>
        <a href="http://www.codetab.org/tutorial/java-generics/type-parameter-bounds/" class="toc-page text-muted ">
            Type Parameter Bounds
        </a>
    </div>
    
</div>






                
            </div>
        </div>
    </nav>

</nav>

</div>
      <div class="row my-5 justify-content-center">
<div>&nbsp;</div>


<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1281079745125126"
     data-ad-slot="8963022093"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div>&nbsp;</div>
</div>
    </aside>
    <main id="content" class="col-md-8 post-basic">
      

<h1 id="generic-inheritance-and-subtypes">Generic Inheritance and Subtypes</h1>

<p><a id="example-hierarchy"></a></p>

<p>To explain Generic inheritance, subtypes and wildcards, we use following class hierarchy:</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/java-generics/media/generics-class-hierarchy.png" alt="Java Generics Example Class Hierarchy" />
</figure>


<p>The Food, Snack and Cookie classes are as below. Fruit and Apple classes are similar.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Food</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">foodMethod</span><span class="o">(){</span>             
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Snack</span> <span class="kd">extends</span> <span class="n">Food</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">snackMethod</span><span class="o">(){</span>            
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Cookie</span> <span class="kd">extends</span> <span class="n">Snack</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">cookieMethod</span><span class="o">(){</span>            
        <span class="o">}</span>
    <span class="o">}</span></code></pre></div>
<p>We use Java List interface in examples with a focus on its add() and get() methods.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">List</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="o">{</span>

        <span class="kd">public</span> <span class="n">E</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">);</span>
            
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">E</span> <span class="n">element</span><span class="o">);</span>
    <span class="o">}</span></code></pre></div>
<h2 id="oop-inheritance">OOP Inheritance</h2>

<p>We all know that objects of subclass type can be assigned to variables of superclass type.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    <span class="n">Snack</span> <span class="n">snack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Snack</span><span class="o">();</span>
    <span class="n">snack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cookie</span><span class="o">();</span>
    <span class="n">snack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Food</span><span class="o">()</span>              <span class="o">//</span> <span class="n">error</span>   </code></pre></div>
<p>Let&rsquo;s see how subtype works in the case of generics.</p>

<h1 id="generic-subtypes">Generic Subtypes</h1>

<p>A generic class or interface can have subtype by extending or implementing it. Best example of generic subtype is Collection classes.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/java-generics/media/generics-subtype-collection.png" alt="Java Generics Collection Rawtype" />
</figure>


<p>The <code>ArrayList&lt;E&gt; implements List&lt;E&gt;</code> which inturn extends <code>Collection&lt;E&gt;</code>. Similarly, the <code>HashSet&lt;E&gt;</code> and <code>Set&lt;E&gt;</code>.</p>

<p>As long as type arguments are same, the inheritance is allowed.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/java-generics/media/generics-subtype-collection-parameterized.png" alt="Java Generics Collection Subtype" />
</figure>

<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    <span class="c1">// list
</span><span class="c1"></span>    <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snacks</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>                
    
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snackList</span> <span class="o">=</span> <span class="n">snacks</span><span class="o">;</span>
    
    <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snackCollection</span> <span class="o">=</span> <span class="n">snacks</span><span class="o">;</span>  
    <span class="c1">// or
</span><span class="c1"></span>    <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snackCollection</span> <span class="o">=</span> <span class="n">snackList</span><span class="o">;</span>  

    <span class="c1">// set
</span><span class="c1"></span>    <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snackHashSet</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;();</span>                
    
    <span class="n">Set</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snackSet</span> <span class="o">=</span> <span class="n">snackHashSet</span><span class="o">;</span>
    
    <span class="n">snackCollection</span> <span class="o">=</span> <span class="n">snackHashSet</span><span class="o">;</span>  
    <span class="n">snackCollection</span> <span class="o">=</span> <span class="n">snackSet</span><span class="o">;</span>  </code></pre></div>
<p>As type argument is <code>Snack</code> in all three generic variables, we can assign generic subtypes (ArrayList or List) to its supertypes (Collection) variable. Same way, we can assign <code>HashSet&lt;Snack&gt;</code> or <code>Set&lt;Snack&gt;</code> to <code>Collection&lt;Snack&gt;</code>.</p>

<h2 id="parameterized-types-compatibility">Parameterized Types Compatibility</h2>

<p>As explained above, generic subtyping is allowed as long as type argument is same. But, when type arguments are different then rules are stricter. Forget subtyping, even same generic type with different type arguments (parameterized with different type argument) are not compatible with each other. Consider the following</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snacks</span> <span class="o">=</span> <span class="k">new</span> <span class="n">List</span><span class="o">&lt;&gt;();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Cookie</span><span class="o">&gt;</span> <span class="n">cookies</span> <span class="o">=</span> <span class="n">snacks</span><span class="o">;</span>     <span class="c1">// error
</span><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">Food</span><span class="o">&gt;</span> <span class="n">foods</span> <span class="o">=</span> <span class="n">snacks</span><span class="o">;</span>         <span class="o">//</span> <span class="n">error</span></code></pre></div>
<p>When we try to assign <code>List&lt;Snack&gt;</code> to <code>List&lt;Food&gt;</code> compiler throws error</p>

<ul>
<li>Type mismatch: cannot convert from List&lt;Snack&gt; to List&lt;Food&gt;</li>
</ul>

<p>This restriction ensures that list of Snack can contain only the Snack objects and nothing else, neither the Cookie (subtype) nor the Food (supertype). Let&rsquo;s consider another example.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Cookie</span><span class="o">&gt;</span> <span class="n">cookies</span> <span class="o">=</span> <span class="k">new</span> <span class="n">List</span><span class="o">&lt;&gt;();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snacks</span> <span class="o">=</span> <span class="n">cookies</span><span class="o">;</span>              <span class="o">//</span> <span class="n">error</span></code></pre></div>
<p>Why <code>List&lt;Cookie&gt;</code> is not assignable to <code>List&lt;Snack&gt;</code>? The original intent with <code>List&lt;Cookie&gt;</code> is that it should hold only the Cookie and nothing else. However, when it is assigned to <code>List&lt;Snack&gt;</code>, Java has to allow it to hold both Cookie and Snack objects which messes the list. Hence, they are not compatible.</p>

<figure class="text-center" >
  <img class="lazy" data-src="/tutorial/java-generics/media/generics-subtype-collection-error.png" alt="Java Generics Collection Subtype" />
</figure>


<p>Same is true while calling the methods that has parameters with generic type.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">someMethod</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">Snack</span><span class="o">&gt;</span> <span class="n">snacks</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Cookie</span><span class="o">&gt;</span> <span class="n">cookie</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        
        <span class="n">someMethod</span><span class="o">(</span><span class="n">snack</span><span class="o">);</span>         
        <span class="n">someMethod</span><span class="o">(</span><span class="n">cookie</span><span class="o">);</span>             <span class="o">//</span> <span class="n">error</span></code></pre></div>
<p>As this one of the important concepts of generic, let&rsquo;s go through one more example to drive home the point.</p>
<div class="highlight"><pre class="chroma"><code class="language-Java" data-lang="Java">    
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">objects</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="n">objects</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Object</span><span class="o">());</span>              <span class="c1">// allowed
</span><span class="c1"></span>    <span class="n">objects</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="s">&#34;hello&#34;</span><span class="o">));</span>       <span class="c1">// allowed
</span><span class="c1"></span>
    <span class="n">strings</span> <span class="o">=</span> <span class="n">objects</span><span class="o">;</span>                      <span class="o">//</span> <span class="n">error</span></code></pre></div>
<p>String is subclass of Object, however there is no relationship whatsoever between the two lists - <code>List&lt;Object&gt;</code> and <code>List&lt;String</code>. The <code>List&lt;Object&gt;</code> can hold objects of type Object as well as String (also objects of any Java type as every class is subclass of Object), but we can&rsquo;t assign list of any other type to it.</p>

<p>We can overcome this restriction with <strong>wildcards</strong> and in the next tutorial, we see how to use it.</p>

<h2 id="summary">Summary</h2>

<ul>
<li>as long as type arguments are same, we can assign generic subtypes to supertypes variable. For example, <code>ArrayList&lt;Snack&gt;</code> is assignable to <code>List&lt;Snack&gt;</code> or <code>Collection&lt;Snack&gt;</code>.</li>
<li>when type arguments are different:

<ul>
<li>then inheritance ceases to exist. The <code>ArrayList&lt;Cookie&gt;</code> is not subtype of <code>List&lt;Snack&gt;</code>, even though Cookie is subtype of Snack and ArrayList is subtype of List.
The <code>ArrayList&lt;Cookie&gt;</code> is not assignable to <code>List&lt;Snack&gt;</code> or <code>Collection&lt;Snack&gt;</code>.</li>
<li>then even generics of same type are not compatible with each other. The <code>List&lt;Cookie&gt;</code> is not subtype of <code>List&lt;Snack&gt;</code>, even though Cookie is subtype of Snack and  there is no relationship between these lists. The <code>List&lt;Cookie&gt;</code> is not assignable to <code>List&lt;Snack&gt;</code>.</li>
</ul></li>
</ul>

    </main>
  </div>
</div>

<footer class="container-fluid mt-5">

    <div class="row">
        <div class="col ml-auto">
            <div class="row mb-1 ml-2">
                <a class="text-muted" href="/privacy-policy">Privacy</a>
            </div>
            <div class="row text-muted mb-2 ml-2">
                <span>&copy; 2019 &middot;Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
            </div>
        </div>
        <div class="col mr-auto">
            <span class="float-right">
                <a href="#" id="back_to_top">
                    <img src="/icon/arrow-up.png" alt="Back to Top">
                </a>
            </span>
        </div>
    </div>

</footer>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>







<script src="/js/vendor.min.d5750c855207aebcf4fdb7568961a27500008ef4a4f40b63a7b028f80a9221d3.js"></script>
</body>

</html>